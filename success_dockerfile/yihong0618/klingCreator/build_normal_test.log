#0 building with "default" instance using docker driver

#1 [internal] load build definition from Dockerfile
#1 transferring dockerfile: 1.06kB done
#1 DONE 0.0s

#2 [internal] load metadata for docker.io/library/python:3.10
#2 DONE 0.0s

#3 [internal] load .dockerignore
#3 transferring context: 2B done
#3 DONE 0.0s

#4 [1/5] FROM docker.io/library/python:3.10
#4 DONE 0.0s

#5 [2/5] RUN mkdir -p ~/.pip && touch ~/.pip/pip.conf &&     echo "[global]" >> ~/.pip/pip.conf && echo "index-url=http://simple/" >> ~/.pip/pip.conf && echo "[install]" >> ~/.pip/pip.conf && echo "trusted-host=pypi..org" >> ~/.pip/pip.conf &&     apt-get update && apt-get install -y curl &&     curl -sSL https://install.python-poetry.org | python -
#5 CACHED

#6 [3/5] RUN pip install pytest pytest-xdist &&     pip install pipdeptree &&     git clone https://github.com/yihong0618/klingCreator.git &&     mkdir /repo &&     git config --global --add safe.directory /repo &&     cp -r /klingCreator/. /repo && rm -rf /klingCreator/ &&     rm -rf /klingCreator &&     cd /repo && git checkout e567c6a16cbeaec0411ea90bda6a0d932d3ee2a8 &&     pip install -e /repo
#6 1.674 Looking in indexes: http://simple/
#6 1.826 Collecting pytest
#6 1.848   Downloading http://packages/pytest/pytest-8.3.4-py3-none-any.whl (343 kB)
#6 1.872      ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 343.1/343.1 kB 18.1 MB/s eta 0:00:00
#6 1.942 Collecting pytest-xdist
#6 1.968   Downloading http://packages/pytest-xdist/pytest_xdist-3.6.1-py3-none-any.whl (46 kB)
#6 1.976      ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 46.1/46.1 kB 10.0 MB/s eta 0:00:00
#6 2.045 Collecting pluggy<2,>=1.5
#6 2.062   Downloading http://packages/pluggy/pluggy-1.5.0-py3-none-any.whl (20 kB)
#6 2.125 Collecting packaging
#6 2.142   Downloading http://packages/packaging/packaging-24.2-py3-none-any.whl (65 kB)
#6 2.154      ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 65.5/65.5 kB 6.8 MB/s eta 0:00:00
#6 2.204 Collecting exceptiongroup>=1.0.0rc8
#6 2.223   Downloading http://packages/exceptiongroup/exceptiongroup-1.2.2-py3-none-any.whl (16 kB)
#6 2.254 Collecting iniconfig
#6 2.272   Downloading http://packages/iniconfig/iniconfig-2.0.0-py3-none-any.whl (5.9 kB)
#6 2.328 Collecting tomli>=1
#6 2.345   Downloading http://packages/tomli/tomli-2.2.1-py3-none-any.whl (14 kB)
#6 2.415 Collecting execnet>=2.1
#6 2.434   Downloading http://packages/execnet/execnet-2.1.1-py3-none-any.whl (40 kB)
#6 2.441      ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 40.6/40.6 kB 9.1 MB/s eta 0:00:00
#6 2.563 Installing collected packages: tomli, pluggy, packaging, iniconfig, execnet, exceptiongroup, pytest, pytest-xdist
#6 3.075 Successfully installed exceptiongroup-1.2.2 execnet-2.1.1 iniconfig-2.0.0 packaging-24.2 pluggy-1.5.0 pytest-8.3.4 pytest-xdist-3.6.1 tomli-2.2.1
#6 3.075 WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv
#6 3.200 
#6 3.200 [notice] A new release of pip is available: 23.0.1 -> 24.3.1
#6 3.200 [notice] To update, run: pip install --upgrade pip
#6 3.900 Looking in indexes: http://simple/
#6 3.981 Collecting pipdeptree
#6 4.000   Downloading http://packages/pipdeptree/pipdeptree-2.24.0-py3-none-any.whl (32 kB)
#6 4.145 Collecting pip>=24.2
#6 4.155   Using cached http://packages/pip/pip-24.3.1-py3-none-any.whl (1.8 MB)
#6 4.173 Requirement already satisfied: packaging>=24.1 in /usr/local/lib/python3.10/site-packages (from pipdeptree) (24.2)
#6 4.274 Installing collected packages: pip, pipdeptree
#6 4.275   Attempting uninstall: pip
#6 4.276     Found existing installation: pip 23.0.1
#6 4.446     Uninstalling pip-23.0.1:
#6 4.602       Successfully uninstalled pip-23.0.1
#6 5.863 Successfully installed pip-24.3.1 pipdeptree-2.24.0
#6 5.863 WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv
#6 6.133 Cloning into 'klingCreator'...
#6 7.782 Note: switching to 'e567c6a16cbeaec0411ea90bda6a0d932d3ee2a8'.
#6 7.782 
#6 7.782 You are in 'detached HEAD' state. You can look around, make experimental
#6 7.782 changes and commit them, and you can discard any commits you make in this
#6 7.782 state without impacting any branches by switching back to a branch.
#6 7.782 
#6 7.782 If you want to create a new branch to retain commits you create, you may
#6 7.782 do so (now or later) by using -c with the switch command. Example:
#6 7.782 
#6 7.782   git switch -c <new-branch-name>
#6 7.782 
#6 7.782 Or undo this operation with:
#6 7.782 
#6 7.782   git switch -
#6 7.782 
#6 7.782 Turn off this advice by setting config variable advice.detachedHead to false
#6 7.782 
#6 7.782 HEAD is now at e567c6a doc: fix model 1.5 need high quality
#6 8.329 Looking in indexes: http://simple/
#6 8.330 Obtaining file:///repo
#6 8.331   Preparing metadata (setup.py): started
#6 9.095   Preparing metadata (setup.py): finished with status 'done'
#6 9.184 Collecting requests (from kling-creator==0.3.3)
#6 9.187   Using cached http://packages/requests/requests-2.32.3-py3-none-any.whl (64 kB)
#6 9.218 Collecting fake-useragent (from kling-creator==0.3.3)
#6 9.237   Downloading http://packages/fake-useragent/fake_useragent-2.0.3-py3-none-any.whl (201 kB)
#6 9.423 Collecting rich (from kling-creator==0.3.3)
#6 9.441   Downloading http://packages/rich/rich-13.9.4-py3-none-any.whl (242 kB)
#6 9.650 Collecting charset-normalizer<4,>=2 (from requests->kling-creator==0.3.3)
#6 9.652   Using cached http://packages/charset-normalizer/charset_normalizer-3.4.1-cp310-cp310-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (146 kB)
#6 9.685 Collecting idna<4,>=2.5 (from requests->kling-creator==0.3.3)
#6 9.687   Using cached http://packages/idna/idna-3.10-py3-none-any.whl (70 kB)
#6 9.780 Collecting urllib3<3,>=1.21.1 (from requests->kling-creator==0.3.3)
#6 9.783   Using cached http://packages/urllib3/urllib3-2.3.0-py3-none-any.whl (128 kB)
#6 9.830 Collecting certifi>=2017.4.17 (from requests->kling-creator==0.3.3)
#6 9.834   Using cached http://packages/certifi/certifi-2024.12.14-py3-none-any.whl (164 kB)
#6 9.880 Collecting markdown-it-py>=2.2.0 (from rich->kling-creator==0.3.3)
#6 9.897   Downloading http://packages/markdown-it-py/markdown_it_py-3.0.0-py3-none-any.whl (87 kB)
#6 9.979 Collecting pygments<3.0.0,>=2.13.0 (from rich->kling-creator==0.3.3)
#6 9.998   Downloading http://packages/pygments/pygments-2.19.1-py3-none-any.whl (1.2 MB)
#6 10.04      ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 1.2/1.2 MB 52.2 MB/s eta 0:00:00
#6 10.11 Collecting typing-extensions<5.0,>=4.0.0 (from rich->kling-creator==0.3.3)
#6 10.12   Downloading http://packages/typing-extensions/typing_extensions-4.12.2-py3-none-any.whl (37 kB)
#6 10.17 Collecting mdurl~=0.1 (from markdown-it-py>=2.2.0->rich->kling-creator==0.3.3)
#6 10.19   Downloading http://packages/mdurl/mdurl-0.1.2-py3-none-any.whl (10.0 kB)
#6 10.30 Installing collected packages: urllib3, typing-extensions, pygments, mdurl, idna, fake-useragent, charset-normalizer, certifi, requests, markdown-it-py, rich, kling-creator
#6 12.15   DEPRECATION: Legacy editable install of kling-creator==0.3.3 from file:///repo (setup.py develop) is deprecated. pip 25.0 will enforce this behaviour change. A possible replacement is to add a pyproject.toml or enable --use-pep517, and use setuptools >= 64. If the resulting installation is not behaving as expected, try using --config-settings editable_mode=compat. Please consult the setuptools documentation for more information. Discussion can be found at https://github.com/pypa/pip/issues/11457
#6 12.15   Running setup.py develop for kling-creator
#6 12.76 Successfully installed certifi-2024.12.14 charset-normalizer-3.4.1 fake-useragent-2.0.3 idna-3.10 kling-creator markdown-it-py-3.0.0 mdurl-0.1.2 pygments-2.19.1 requests-2.32.3 rich-13.9.4 typing-extensions-4.12.2 urllib3-2.3.0
#6 12.76 WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager, possibly rendering your system unusable.It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv. Use the --root-user-action option if you know what you are doing and want to suppress this warning.
#6 DONE 13.2s

#7 [4/5] RUN cd /repo && pytest --collect-only -q
#7 1.148 tests/test_kling.py::test_base_gen_init
#7 1.148 tests/test_kling.py::test_image_gen_init
#7 1.148 tests/test_kling.py::test_video_gen_init
#7 1.148 tests/test_kling.py::test_parse_cookie_string
#7 1.148 tests/test_kling.py::test_get_account_point[ImageGen]
#7 1.148 tests/test_kling.py::test_get_account_point[VideoGen]
#7 1.148 tests/test_kling.py::test_image_uploader
#7 1.148 tests/test_kling.py::test_fetch_metadata
#7 1.148 tests/test_kling.py::test_get_content[ImageGen-get_images]
#7 1.148 tests/test_kling.py::test_get_content[VideoGen-get_video]
#7 1.148 tests/test_kling.py::test_save_content[ImageGen-save_images]
#7 1.148 tests/test_kling.py::test_save_content[VideoGen-save_video]
#7 1.148 tests/test_kling.py::test_call_for_daily_check
#7 1.148 tests/test_kling.py::test_video_gen_get_video
#7 1.148 tests/test_kling.py::test_video_gen_save_video
#7 1.148 tests/test_kling.py::test_image_gen_get_images
#7 1.148 tests/test_kling.py::test_image_gen_save_images
#7 1.148 tests/test_kling.py::test_extend_video_completed
#7 1.148 tests/test_kling.py::test_extend_video_pending
#7 1.148 tests/test_kling.py::test_extend_video_failed
#7 1.148 tests/test_kling.py::test_extend_video_no_works
#7 1.148 
#7 1.148 21 tests collected in 0.31s
#7 DONE 1.4s

#8 exporting to image
#8 exporting layers
#8 exporting layers 0.5s done
#8 writing image sha256:f67b7b075c06e84c272ac162635a889d6d78537f469e1be35b16559a9ac4c5c4 done
#8 naming to docker.io/library/tmp:tmp done
#8 DONE 0.5s
