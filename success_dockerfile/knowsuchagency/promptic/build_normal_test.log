#0 building with "default" instance using docker driver

#1 [internal] load build definition from Dockerfile
#1 transferring dockerfile: 1.16kB done
#1 DONE 0.0s

#2 [internal] load metadata for docker.io/library/python:3.11
#2 DONE 0.0s

#3 [internal] load .dockerignore
#3 transferring context: 2B done
#3 DONE 0.0s

#4 [1/6] FROM docker.io/library/python:3.11
#4 CACHED

#5 [2/6] RUN mkdir -p ~/.pip && touch ~/.pip/pip.conf &&     echo "[global]" >> ~/.pip/pip.conf && echo "index-url=http://simple/" >> ~/.pip/pip.conf && echo "[install]" >> ~/.pip/pip.conf && echo "trusted-host=pypi..org" >> ~/.pip/pip.conf &&     apt-get update && apt-get install -y curl &&     curl -sSL https://install.python-poetry.org | python -
#5 0.499 Get:1 http://deb.debian.org/debian bookworm InRelease [151 kB]
#5 0.894 Get:2 http://deb.debian.org/debian bookworm-updates InRelease [55.4 kB]
#5 1.047 Get:3 http://deb.debian.org/debian-security bookworm-security InRelease [48.0 kB]
#5 1.202 Get:4 http://deb.debian.org/debian bookworm/main amd64 Packages [8789 kB]
#5 1.723 Get:5 http://deb.debian.org/debian bookworm-updates/main amd64 Packages [8856 B]
#5 1.874 Get:6 http://deb.debian.org/debian-security bookworm-security/main amd64 Packages [240 kB]
#5 3.003 Fetched 9292 kB in 3s (3484 kB/s)
#5 3.003 Reading package lists...
#5 3.760 Reading package lists...
#5 4.527 Building dependency tree...
#5 4.762 Reading state information...
#5 5.153 curl is already the newest version (7.88.1-10+deb12u8).
#5 5.153 0 upgraded, 0 newly installed, 0 to remove and 0 not upgraded.
#5 25.06 Retrieving Poetry metadata
#5 25.06 
#5 25.06 # Welcome to Poetry!
#5 25.06 
#5 25.06 This will download and install the latest version of Poetry,
#5 25.06 a dependency and package manager for Python.
#5 25.06 
#5 25.06 It will add the `poetry` command to Poetry's bin directory, located at:
#5 25.06 
#5 25.06 /root/.local/bin
#5 25.06 
#5 25.06 You can uninstall at any time by executing this script with the --uninstall option,
#5 25.06 and these changes will be reverted.
#5 25.06 
#5 25.06 Installing Poetry (2.0.0)
#5 25.06 Installing Poetry (2.0.0): Creating environment
#5 25.06 Installing Poetry (2.0.0): Installing Poetry
#5 25.06 Installing Poetry (2.0.0): Creating script
#5 25.06 Installing Poetry (2.0.0): Done
#5 25.06 
#5 25.06 Poetry (2.0.0) is installed now. Great!
#5 25.06 
#5 25.06 To get started you need Poetry's bin directory (/root/.local/bin) in your `PATH`
#5 25.06 environment variable.
#5 25.06 
#5 25.06 Add `export PATH="/root/.local/bin:$PATH"` to your shell configuration file.
#5 25.06 
#5 25.06 Alternatively, you can call Poetry explicitly with `/root/.local/bin/poetry`.
#5 25.06 
#5 25.06 You can test that everything is set up by executing:
#5 25.06 
#5 25.06 `poetry --version`
#5 25.06 
#5 DONE 25.3s

#6 [3/6] RUN pip install pytest pytest-xdist &&     pip install pipdeptree &&     git clone https://github.com/knowsuchagency/promptic.git &&     mkdir /repo &&     git config --global --add safe.directory /repo &&     cp -r /promptic/. /repo && rm -rf /promptic/ &&     rm -rf /promptic &&     cd /repo && git checkout a1930cdb8e8d1a595a7f554ec16867f8ea1324da &&     pip install -q flit==3.10.1
#6 1.937 Looking in indexes: http://simple/
#6 2.055 Collecting pytest
#6 2.075   Downloading http://packages/pytest/pytest-8.3.4-py3-none-any.whl (343 kB)
#6 2.102      ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 343.1/343.1 kB 14.9 MB/s eta 0:00:00
#6 2.165 Collecting pytest-xdist
#6 2.184   Downloading http://packages/pytest-xdist/pytest_xdist-3.6.1-py3-none-any.whl (46 kB)
#6 2.198      ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 46.1/46.1 kB 3.4 MB/s eta 0:00:00
#6 2.237 Collecting iniconfig (from pytest)
#6 2.261   Downloading http://packages/iniconfig/iniconfig-2.0.0-py3-none-any.whl (5.9 kB)
#6 2.314 Collecting packaging (from pytest)
#6 2.317   Using cached http://packages/packaging/packaging-24.2-py3-none-any.whl (65 kB)
#6 2.356 Collecting pluggy<2,>=1.5 (from pytest)
#6 2.373   Downloading http://packages/pluggy/pluggy-1.5.0-py3-none-any.whl (20 kB)
#6 2.421 Collecting execnet>=2.1 (from pytest-xdist)
#6 2.443   Downloading http://packages/execnet/execnet-2.1.1-py3-none-any.whl (40 kB)
#6 2.457      ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 40.6/40.6 kB 2.9 MB/s eta 0:00:00
#6 2.560 Installing collected packages: pluggy, packaging, iniconfig, execnet, pytest, pytest-xdist
#6 3.055 Successfully installed execnet-2.1.1 iniconfig-2.0.0 packaging-24.2 pluggy-1.5.0 pytest-8.3.4 pytest-xdist-3.6.1
#6 3.055 WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv
#6 3.155 
#6 3.155 [notice] A new release of pip is available: 24.0 -> 24.3.1
#6 3.155 [notice] To update, run: pip install --upgrade pip
#6 3.805 Looking in indexes: http://simple/
#6 3.871 Collecting pipdeptree
#6 3.895   Downloading http://packages/pipdeptree/pipdeptree-2.24.0-py3-none-any.whl (32 kB)
#6 3.922 Requirement already satisfied: packaging>=24.1 in /usr/local/lib/python3.11/site-packages (from pipdeptree) (24.2)
#6 4.010 Collecting pip>=24.2 (from pipdeptree)
#6 4.012   Using cached http://packages/pip/pip-24.3.1-py3-none-any.whl (1.8 MB)
#6 4.129 Installing collected packages: pip, pipdeptree
#6 4.130   Attempting uninstall: pip
#6 4.134     Found existing installation: pip 24.0
#6 4.216     Uninstalling pip-24.0:
#6 4.507       Successfully uninstalled pip-24.0
#6 5.987 Successfully installed pip-24.3.1 pipdeptree-2.24.0
#6 5.988 WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv
#6 6.195 Cloning into 'promptic'...
#6 8.298 Note: switching to 'a1930cdb8e8d1a595a7f554ec16867f8ea1324da'.
#6 8.298 
#6 8.298 You are in 'detached HEAD' state. You can look around, make experimental
#6 8.298 changes and commit them, and you can discard any commits you make in this
#6 8.298 state without impacting any branches by switching back to a branch.
#6 8.298 
#6 8.298 If you want to create a new branch to retain commits you create, you may
#6 8.298 do so (now or later) by using -c with the switch command. Example:
#6 8.298 
#6 8.298   git switch -c <new-branch-name>
#6 8.298 
#6 8.298 Or undo this operation with:
#6 8.298 
#6 8.298   git switch -
#6 8.298 
#6 8.298 Turn off this advice by setting config variable advice.detachedHead to false
#6 8.298 
#6 8.298 HEAD is now at a1930cd run tests in parallel
#6 10.54 WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager, possibly rendering your system unusable.It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv. Use the --root-user-action option if you know what you are doing and want to suppress this warning.
#6 DONE 10.9s

#7 [4/6] RUN cd /repo && flit install --deps=all &&     pip install tenacity==9.0.0
#7 0.843 Fetching list of valid trove classifiers               I-flit.validate
#7 1.633 Extras to install for deps 'all': {'.none'}             I-flit.install
#7 2.130 Looking in indexes: http://simple/
#7 2.131 Processing /repo
#7 2.135   Installing build dependencies: started
#7 2.959   Installing build dependencies: finished with status 'done'
#7 2.960   Getting requirements to build wheel: started
#7 3.083   Getting requirements to build wheel: finished with status 'done'
#7 3.085   Preparing metadata (pyproject.toml): started
#7 3.202   Preparing metadata (pyproject.toml): finished with status 'done'
#7 3.269 Collecting jsonschema>=4.23.0 (from promptic==2.1.6)
#7 3.289   Downloading http://packages/jsonschema/jsonschema-4.23.0-py3-none-any.whl (88 kB)
#7 4.251 Collecting litellm~=1.38 (from promptic==2.1.6)
#7 4.271   Downloading http://packages/litellm/litellm-1.57.1-py3-none-any.whl (6.6 MB)
#7 4.335      ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 6.6/6.6 MB 133.7 MB/s eta 0:00:00
#7 4.593 Collecting pydantic~=2.7 (from promptic==2.1.6)
#7 4.619   Downloading http://packages/pydantic/pydantic-2.10.4-py3-none-any.whl (431 kB)
#7 4.683 Collecting attrs>=22.2.0 (from jsonschema>=4.23.0->promptic==2.1.6)
#7 4.699   Downloading http://packages/attrs/attrs-24.3.0-py3-none-any.whl (63 kB)
#7 4.753 Collecting jsonschema-specifications>=2023.03.6 (from jsonschema>=4.23.0->promptic==2.1.6)
#7 4.771   Downloading http://packages/jsonschema-specifications/jsonschema_specifications-2024.10.1-py3-none-any.whl (18 kB)
#7 4.844 Collecting referencing>=0.28.4 (from jsonschema>=4.23.0->promptic==2.1.6)
#7 4.866   Downloading http://packages/referencing/referencing-0.35.1-py3-none-any.whl (26 kB)
#7 5.317 Collecting rpds-py>=0.7.1 (from jsonschema>=4.23.0->promptic==2.1.6)
#7 5.336   Downloading http://packages/rpds-py/rpds_py-0.22.3-cp311-cp311-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (381 kB)
#7 6.156 Collecting aiohttp (from litellm~=1.38->promptic==2.1.6)
#7 6.174   Downloading http://packages/aiohttp/aiohttp-3.11.11-cp311-cp311-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (1.7 MB)
#7 6.213      ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 1.7/1.7 MB 63.7 MB/s eta 0:00:00
#7 6.260 Collecting click (from litellm~=1.38->promptic==2.1.6)
#7 6.279   Downloading http://packages/click/click-8.1.8-py3-none-any.whl (98 kB)
#7 6.347 Collecting httpx<0.28.0,>=0.23.0 (from litellm~=1.38->promptic==2.1.6)
#7 6.366   Downloading http://packages/httpx/httpx-0.27.2-py3-none-any.whl (76 kB)
#7 6.462 Collecting importlib-metadata>=6.8.0 (from litellm~=1.38->promptic==2.1.6)
#7 6.464   Using cached http://packages/importlib-metadata/importlib_metadata-8.5.0-py3-none-any.whl (26 kB)
#7 6.504 Collecting jinja2<4.0.0,>=3.1.2 (from litellm~=1.38->promptic==2.1.6)
#7 6.521   Downloading http://packages/jinja2/jinja2-3.1.5-py3-none-any.whl (134 kB)
#7 6.656 Collecting openai>=1.55.3 (from litellm~=1.38->promptic==2.1.6)
#7 6.680   Downloading http://packages/openai/openai-1.59.3-py3-none-any.whl (454 kB)
#7 6.777 Collecting python-dotenv>=0.2.0 (from litellm~=1.38->promptic==2.1.6)
#7 6.797   Downloading http://packages/python-dotenv/python_dotenv-1.0.1-py3-none-any.whl (19 kB)
#7 6.866 Collecting tiktoken>=0.7.0 (from litellm~=1.38->promptic==2.1.6)
#7 6.883   Downloading http://packages/tiktoken/tiktoken-0.8.0-cp311-cp311-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (1.2 MB)
#7 6.917      ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 1.2/1.2 MB 51.1 MB/s eta 0:00:00
#7 7.334 Collecting tokenizers (from litellm~=1.38->promptic==2.1.6)
#7 7.351   Downloading http://packages/tokenizers/tokenizers-0.21.0-cp39-abi3-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (3.0 MB)
#7 7.403      ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 3.0/3.0 MB 83.1 MB/s eta 0:00:00
#7 7.436 Collecting annotated-types>=0.6.0 (from pydantic~=2.7->promptic==2.1.6)
#7 7.454   Downloading http://packages/annotated-types/annotated_types-0.7.0-py3-none-any.whl (13 kB)
#7 8.650 Collecting pydantic-core==2.27.2 (from pydantic~=2.7->promptic==2.1.6)
#7 8.674   Downloading http://packages/pydantic-core/pydantic_core-2.27.2-cp311-cp311-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (2.0 MB)
#7 8.721      ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 2.0/2.0 MB 59.6 MB/s eta 0:00:00
#7 8.769 Collecting typing-extensions>=4.12.2 (from pydantic~=2.7->promptic==2.1.6)
#7 8.787   Downloading http://packages/typing-extensions/typing_extensions-4.12.2-py3-none-any.whl (37 kB)
#7 8.852 Collecting anyio (from httpx<0.28.0,>=0.23.0->litellm~=1.38->promptic==2.1.6)
#7 8.870   Downloading http://packages/anyio/anyio-4.8.0-py3-none-any.whl (96 kB)
#7 8.892 Requirement already satisfied: certifi in /usr/local/lib/python3.11/site-packages (from httpx<0.28.0,>=0.23.0->litellm~=1.38->promptic==2.1.6) (2024.12.14)
#7 8.934 Collecting httpcore==1.* (from httpx<0.28.0,>=0.23.0->litellm~=1.38->promptic==2.1.6)
#7 8.956   Downloading http://packages/httpcore/httpcore-1.0.7-py3-none-any.whl (78 kB)
#7 8.972 Requirement already satisfied: idna in /usr/local/lib/python3.11/site-packages (from httpx<0.28.0,>=0.23.0->litellm~=1.38->promptic==2.1.6) (3.10)
#7 8.988 Collecting sniffio (from httpx<0.28.0,>=0.23.0->litellm~=1.38->promptic==2.1.6)
#7 9.005   Downloading http://packages/sniffio/sniffio-1.3.1-py3-none-any.whl (10 kB)
#7 9.033 Collecting h11<0.15,>=0.13 (from httpcore==1.*->httpx<0.28.0,>=0.23.0->litellm~=1.38->promptic==2.1.6)
#7 9.051   Downloading http://packages/h11/h11-0.14.0-py3-none-any.whl (58 kB)
#7 9.114 Collecting zipp>=3.20 (from importlib-metadata>=6.8.0->litellm~=1.38->promptic==2.1.6)
#7 9.116   Using cached http://packages/zipp/zipp-3.21.0-py3-none-any.whl (9.6 kB)
#7 9.228 Collecting MarkupSafe>=2.0 (from jinja2<4.0.0,>=3.1.2->litellm~=1.38->promptic==2.1.6)
#7 9.249   Downloading http://packages/markupsafe/MarkupSafe-3.0.2-cp311-cp311-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (23 kB)
#7 9.297 Collecting distro<2,>=1.7.0 (from openai>=1.55.3->litellm~=1.38->promptic==2.1.6)
#7 9.314   Downloading http://packages/distro/distro-1.9.0-py3-none-any.whl (20 kB)
#7 9.449 Collecting jiter<1,>=0.4.0 (from openai>=1.55.3->litellm~=1.38->promptic==2.1.6)
#7 9.469   Downloading http://packages/jiter/jiter-0.8.2-cp311-cp311-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (345 kB)
#7 9.614 Collecting tqdm>4 (from openai>=1.55.3->litellm~=1.38->promptic==2.1.6)
#7 9.632   Downloading http://packages/tqdm/tqdm-4.67.1-py3-none-any.whl (78 kB)
#7 10.60 Collecting regex>=2022.1.18 (from tiktoken>=0.7.0->litellm~=1.38->promptic==2.1.6)
#7 10.62   Downloading http://packages/regex/regex-2024.11.6-cp311-cp311-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (792 kB)
#7 10.65      ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 792.7/792.7 kB 42.1 MB/s eta 0:00:00
#7 10.66 Requirement already satisfied: requests>=2.26.0 in /usr/local/lib/python3.11/site-packages (from tiktoken>=0.7.0->litellm~=1.38->promptic==2.1.6) (2.32.3)
#7 10.69 Collecting aiohappyeyeballs>=2.3.0 (from aiohttp->litellm~=1.38->promptic==2.1.6)
#7 10.71   Downloading http://packages/aiohappyeyeballs/aiohappyeyeballs-2.4.4-py3-none-any.whl (14 kB)
#7 10.74 Collecting aiosignal>=1.1.2 (from aiohttp->litellm~=1.38->promptic==2.1.6)
#7 10.76   Downloading http://packages/aiosignal/aiosignal-1.3.2-py2.py3-none-any.whl (7.6 kB)
#7 10.87 Collecting frozenlist>=1.1.1 (from aiohttp->litellm~=1.38->promptic==2.1.6)
#7 10.90   Downloading http://packages/frozenlist/frozenlist-1.5.0-cp311-cp311-manylinux_2_5_x86_64.manylinux1_x86_64.manylinux_2_17_x86_64.manylinux2014_x86_64.whl (274 kB)
#7 11.24 Collecting multidict<7.0,>=4.5 (from aiohttp->litellm~=1.38->promptic==2.1.6)
#7 11.26   Downloading http://packages/multidict/multidict-6.1.0-cp311-cp311-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (129 kB)
#7 11.35 Collecting propcache>=0.2.0 (from aiohttp->litellm~=1.38->promptic==2.1.6)
#7 11.38   Downloading http://packages/propcache/propcache-0.2.1-cp311-cp311-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (231 kB)
#7 11.88 Collecting yarl<2.0,>=1.17.0 (from aiohttp->litellm~=1.38->promptic==2.1.6)
#7 11.89   Downloading http://packages/yarl/yarl-1.18.3-cp311-cp311-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (344 kB)
#7 12.02 Collecting huggingface-hub<1.0,>=0.16.4 (from tokenizers->litellm~=1.38->promptic==2.1.6)
#7 12.04   Downloading http://packages/huggingface-hub/huggingface_hub-0.27.1-py3-none-any.whl (450 kB)
#7 12.33 Collecting filelock (from huggingface-hub<1.0,>=0.16.4->tokenizers->litellm~=1.38->promptic==2.1.6)
#7 12.33   Using cached http://packages/filelock/filelock-3.16.1-py3-none-any.whl (16 kB)
#7 12.39 Collecting fsspec>=2023.5.0 (from huggingface-hub<1.0,>=0.16.4->tokenizers->litellm~=1.38->promptic==2.1.6)
#7 12.41   Downloading http://packages/fsspec/fsspec-2024.12.0-py3-none-any.whl (183 kB)
#7 12.47 Requirement already satisfied: packaging>=20.9 in /usr/local/lib/python3.11/site-packages (from huggingface-hub<1.0,>=0.16.4->tokenizers->litellm~=1.38->promptic==2.1.6) (24.2)
#7 12.55 Collecting pyyaml>=5.1 (from huggingface-hub<1.0,>=0.16.4->tokenizers->litellm~=1.38->promptic==2.1.6)
#7 12.57   Downloading http://packages/pyyaml/PyYAML-6.0.2-cp311-cp311-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (762 kB)
#7 12.60      ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 763.0/763.0 kB 33.5 MB/s eta 0:00:00
#7 12.65 Requirement already satisfied: charset-normalizer<4,>=2 in /usr/local/lib/python3.11/site-packages (from requests>=2.26.0->tiktoken>=0.7.0->litellm~=1.38->promptic==2.1.6) (3.4.1)
#7 12.65 Requirement already satisfied: urllib3<3,>=1.21.1 in /usr/local/lib/python3.11/site-packages (from requests>=2.26.0->tiktoken>=0.7.0->litellm~=1.38->promptic==2.1.6) (2.3.0)
#7 12.70 Building wheels for collected packages: promptic
#7 12.70   Building wheel for promptic (pyproject.toml): started
#7 12.83   Building wheel for promptic (pyproject.toml): finished with status 'done'
#7 12.83   Created wheel for promptic: filename=promptic-2.1.6-py3-none-any.whl size=14153 sha256=432533cdeb00bf85c7f424a7ed48665d3bec9480decc3b4e3f446ad3d63f8182
#7 12.83   Stored in directory: /tmp/pip-ephem-wheel-cache-uahw53pk/wheels/4f/e9/65/15c564da49fdb6cb4db1e3bad74fd7b1c77e98bb7f89ae7cfa
#7 12.83 Successfully built promptic
#7 13.00 Installing collected packages: zipp, typing-extensions, tqdm, sniffio, rpds-py, regex, pyyaml, python-dotenv, propcache, multidict, MarkupSafe, jiter, h11, fsspec, frozenlist, filelock, distro, click, attrs, annotated-types, aiohappyeyeballs, yarl, tiktoken, referencing, pydantic-core, jinja2, importlib-metadata, huggingface-hub, httpcore, anyio, aiosignal, tokenizers, pydantic, jsonschema-specifications, httpx, aiohttp, openai, jsonschema, litellm, promptic
#7 17.79 Successfully installed MarkupSafe-3.0.2 aiohappyeyeballs-2.4.4 aiohttp-3.11.11 aiosignal-1.3.2 annotated-types-0.7.0 anyio-4.8.0 attrs-24.3.0 click-8.1.8 distro-1.9.0 filelock-3.16.1 frozenlist-1.5.0 fsspec-2024.12.0 h11-0.14.0 httpcore-1.0.7 httpx-0.27.2 huggingface-hub-0.27.1 importlib-metadata-8.5.0 jinja2-3.1.5 jiter-0.8.2 jsonschema-4.23.0 jsonschema-specifications-2024.10.1 litellm-1.57.1 multidict-6.1.0 openai-1.59.3 promptic-2.1.6 propcache-0.2.1 pydantic-2.10.4 pydantic-core-2.27.2 python-dotenv-1.0.1 pyyaml-6.0.2 referencing-0.35.1 regex-2024.11.6 rpds-py-0.22.3 sniffio-1.3.1 tiktoken-0.8.0 tokenizers-0.21.0 tqdm-4.67.1 typing-extensions-4.12.2 yarl-1.18.3 zipp-3.21.0
#7 17.79 WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager, possibly rendering your system unusable.It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv. Use the --root-user-action option if you know what you are doing and want to suppress this warning.
#7 19.69 Looking in indexes: http://simple/
#7 19.74 Collecting tenacity==9.0.0
#7 19.75   Downloading http://packages/tenacity/tenacity-9.0.0-py3-none-any.whl (28 kB)
#7 19.90 Installing collected packages: tenacity
#7 19.94 Successfully installed tenacity-9.0.0
#7 19.94 WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager, possibly rendering your system unusable.It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv. Use the --root-user-action option if you know what you are doing and want to suppress this warning.
#7 DONE 20.4s

#8 [5/6] RUN cd /repo && pytest --collect-only -q
#8 4.673 tests/test_promptic.py::test_basic[gpt-4o-mini]
#8 4.673 tests/test_promptic.py::test_basic[claude-3-haiku-20240307]
#8 4.673 tests/test_promptic.py::test_basic[gemini/gemini-1.5-flash]
#8 4.673 tests/test_promptic.py::test_parens[gpt-4o-mini]
#8 4.673 tests/test_promptic.py::test_parens[claude-3-haiku-20240307]
#8 4.673 tests/test_promptic.py::test_parens[gemini/gemini-1.5-flash]
#8 4.673 tests/test_promptic.py::test_pydantic[gpt-4o-mini]
#8 4.673 tests/test_promptic.py::test_pydantic[claude-3-haiku-20240307]
#8 4.673 tests/test_promptic.py::test_pydantic[gemini/gemini-1.5-flash]
#8 4.673 tests/test_promptic.py::test_streaming[gpt-4o-mini]
#8 4.673 tests/test_promptic.py::test_streaming[claude-3-haiku-20240307]
#8 4.673 tests/test_promptic.py::test_streaming[gemini/gemini-1.5-flash]
#8 4.673 tests/test_promptic.py::test_system_prompt[gpt-4o-mini]
#8 4.673 tests/test_promptic.py::test_system_prompt[claude-3-haiku-20240307]
#8 4.673 tests/test_promptic.py::test_system_prompt[gemini/gemini-1.5-flash]
#8 4.673 tests/test_promptic.py::test_agents[gpt-4o-mini]
#8 4.673 tests/test_promptic.py::test_agents[claude-3-haiku-20240307]
#8 4.673 tests/test_promptic.py::test_agents[gemini/gemini-1.5-flash]
#8 4.673 tests/test_promptic.py::test_streaming_with_tools[gpt-4o-mini]
#8 4.673 tests/test_promptic.py::test_streaming_with_tools[claude-3-haiku-20240307]
#8 4.673 tests/test_promptic.py::test_streaming_with_tools[gemini/gemini-1.5-flash]
#8 4.673 tests/test_promptic.py::test_json_schema_validation[gpt-4o-mini]
#8 4.673 tests/test_promptic.py::test_json_schema_validation[claude-3-haiku-20240307]
#8 4.673 tests/test_promptic.py::test_json_schema_validation[gemini/gemini-1.5-flash]
#8 4.673 tests/test_promptic.py::test_dry_run_with_tools[gpt-4o-mini]
#8 4.673 tests/test_promptic.py::test_dry_run_with_tools[claude-3-haiku-20240307]
#8 4.673 tests/test_promptic.py::test_dry_run_with_tools[gemini/gemini-1.5-flash]
#8 4.673 tests/test_promptic.py::test_debug_logging[gpt-4o-mini]
#8 4.673 tests/test_promptic.py::test_debug_logging[claude-3-haiku-20240307]
#8 4.673 tests/test_promptic.py::test_debug_logging[gemini/gemini-1.5-flash]
#8 4.673 tests/test_promptic.py::test_multiple_tool_calls[gpt-4o-mini]
#8 4.673 tests/test_promptic.py::test_multiple_tool_calls[claude-3-haiku-20240307]
#8 4.673 tests/test_promptic.py::test_multiple_tool_calls[gemini/gemini-1.5-flash]
#8 4.673 tests/test_promptic.py::test_state_basic[gpt-4o-mini]
#8 4.673 tests/test_promptic.py::test_state_basic[claude-3-haiku-20240307]
#8 4.673 tests/test_promptic.py::test_state_basic[gemini/gemini-1.5-flash]
#8 4.673 tests/test_promptic.py::test_state_limit[gpt-4o-mini]
#8 4.673 tests/test_promptic.py::test_state_limit[claude-3-haiku-20240307]
#8 4.673 tests/test_promptic.py::test_state_limit[gemini/gemini-1.5-flash]
#8 4.673 tests/test_promptic.py::test_memory_conversation[gpt-4o-mini]
#8 4.673 tests/test_promptic.py::test_memory_conversation[claude-3-haiku-20240307]
#8 4.673 tests/test_promptic.py::test_memory_conversation[gemini/gemini-1.5-flash]
#8 4.673 tests/test_promptic.py::test_custom_state[gpt-4o-mini]
#8 4.673 tests/test_promptic.py::test_custom_state[claude-3-haiku-20240307]
#8 4.673 tests/test_promptic.py::test_custom_state[gemini/gemini-1.5-flash]
#8 4.673 tests/test_promptic.py::test_memory_disabled[gpt-4o-mini]
#8 4.673 tests/test_promptic.py::test_memory_disabled[claude-3-haiku-20240307]
#8 4.673 tests/test_promptic.py::test_memory_disabled[gemini/gemini-1.5-flash]
#8 4.673 tests/test_promptic.py::test_memory_with_streaming[gpt-4o-mini]
#8 4.673 tests/test_promptic.py::test_memory_with_streaming[claude-3-haiku-20240307]
#8 4.673 tests/test_promptic.py::test_memory_with_streaming[gemini/gemini-1.5-flash]
#8 4.673 tests/test_promptic.py::test_pydantic_with_tools[gpt-4o-mini]
#8 4.673 tests/test_promptic.py::test_pydantic_with_tools[claude-3-haiku-20240307]
#8 4.673 tests/test_promptic.py::test_pydantic_with_tools[gemini/gemini-1.5-flash]
#8 4.673 tests/test_promptic.py::test_pydantic_tools_with_memory[gpt-4o]
#8 4.673 tests/test_promptic.py::test_pydantic_tools_with_memory[claude-3.5]
#8 4.673 tests/test_promptic.py::test_pydantic_tools_with_memory[gemini/gemini-1.5-pro]
#8 4.673 tests/test_promptic.py::test_anthropic_tool_calling
#8 4.673 tests/test_promptic.py::test_anthropic_multiple_tools_error
#8 4.673 tests/test_promptic.py::test_gemini_streaming_with_tools_error
#8 4.673 tests/test_promptic.py::test_mutually_exclusive_schemas[gpt-4o-mini]
#8 4.673 tests/test_promptic.py::test_mutually_exclusive_schemas[claude-3-haiku-20240307]
#8 4.673 tests/test_promptic.py::test_mutually_exclusive_schemas[gemini/gemini-1.5-flash]
#8 4.673 tests/test_promptic.py::test_wrapper_attributes[gpt-4o-mini]
#8 4.673 tests/test_promptic.py::test_wrapper_attributes[claude-3-haiku-20240307]
#8 4.673 tests/test_promptic.py::test_wrapper_attributes[gemini/gemini-1.5-flash]
#8 4.673 tests/test_promptic.py::test_clear_state[gpt-4o-mini]
#8 4.673 tests/test_promptic.py::test_clear_state[claude-3-haiku-20240307]
#8 4.673 tests/test_promptic.py::test_clear_state[gemini/gemini-1.5-flash]
#8 4.673 
#8 4.673 =============================== warnings summary ===============================
#8 4.673 ../usr/local/lib/python3.11/site-packages/pydantic/_internal/_config.py:295
#8 4.673 ../usr/local/lib/python3.11/site-packages/pydantic/_internal/_config.py:295
#8 4.673   /usr/local/lib/python3.11/site-packages/pydantic/_internal/_config.py:295: PydanticDeprecatedSince20: Support for class-based `config` is deprecated, use ConfigDict instead. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.10/migration/
#8 4.673     warnings.warn(DEPRECATION_MESSAGE, DeprecationWarning)
#8 4.673 
#8 4.673 ../usr/local/lib/python3.11/site-packages/pydantic/_internal/_config.py:345
#8 4.673   /usr/local/lib/python3.11/site-packages/pydantic/_internal/_config.py:345: UserWarning: Valid config keys have changed in V2:
#8 4.673   * 'fields' has been removed
#8 4.673     warnings.warn(message, UserWarning)
#8 4.673 
#8 4.673 ../usr/local/lib/python3.11/site-packages/litellm/utils.py:149
#8 4.673   /usr/local/lib/python3.11/site-packages/litellm/utils.py:149: DeprecationWarning: open_text is deprecated. Use files() instead. Refer to https://importlib-resources.readthedocs.io/en/latest/using.html#migrating-from-legacy for migration advice.
#8 4.673     with resources.open_text(
#8 4.673 
#8 4.673 -- Docs: https://docs.pytest.org/en/stable/how-to/capture-warnings.html
#8 4.673 69 tests collected in 3.72s
#8 DONE 5.3s

#9 exporting to image
#9 exporting layers
#9 exporting layers 1.1s done
#9 writing image sha256:2b17a094570e1378a9d5322d62c72def0b2b3a0380ecfd41046d940119975b68 done
#9 naming to docker.io/library/tmp:tmp done
#9 DONE 1.1s
