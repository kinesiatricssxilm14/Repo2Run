/usr/local/lib/python3.12/site-packages/pytest_asyncio/plugin.py:207: PytestDeprecationWarning: The configuration option "asyncio_default_fixture_loop_scope" is unset.
The event loop scope for asynchronous fixtures will default to the fixture caching scope. Future versions of pytest-asyncio will default the loop scope for asynchronous fixtures to function scope. Set the default fixture loop scope explicitly in order to avoid unexpected behavior in the future. Valid fixture loop scopes are: "function", "class", "module", "package", "session"

  warnings.warn(PytestDeprecationWarning(_DEFAULT_FIXTURE_LOOP_SCOPE_UNSET))
tests/instructions/test_instructions_repository.py::test_cache_never_expires
tests/instructions/test_instructions_repository.py::test_cache_immediately_expires
tests/instructions/test_instructions_repository.py::test_new_element_is_created_when_cache_expires
tests/test_async_stream.py::test_fails_when_stream_fails
tests/test_async_stream.py::test_cancels_when_iteration_cancels
tests/test_async_stream.py::test_ends_when_stream_ends
tests/test_async_stream.py::test_finishes_without_buffer
tests/test_async_stream.py::test_fails_without_buffer
tests/test_async_stream.py::test_delivers_updates_when_sending
tests/test_async_stream.py::test_fails_when_sending_to_finished
tests/test_async_stream.py::test_fails_when_sending_to_failed
tests/test_async_stream.py::test_ignores_when_finishing_when_finished
tests/test_basic_splitter.py::test_returns_single_part_when_text_fits_part_size
tests/test_basic_splitter.py::test_fails_when_no_separators_provided
tests/test_basic_splitter.py::test_fails_when_cant_split
tests/test_basic_splitter.py::test_strips_whitespaces_with_leading_and_trailing_part_whitespaces
tests/test_basic_splitter.py::test_uses_fallback_splitter_when_required
tests/test_basic_splitter.py::test_uses_all_splitters_when_required
tests/test_basic_splitter.py::test_adds_trailing_splitters_when_required
tests/test_basic_splitter.py::test_uses_paragraphs_splitting_with_default_separators
tests/test_basic_splitter.py::test_uses_newline_splitting_with_default_separators
tests/test_basic_splitter.py::test_uses_words_splitting_with_default_separators
tests/test_basic_splitter.py::test_uses_words_splitting_when_one_separators_provided
tests/test_basic_splitter.py::test_splitting_text_when_parts_fit_part_size_exactly
tests/test_basic_splitter.py::test_splitting_text_when_each_base_part_doesnt_fit_part_size
tests/test_basic_splitter.py::test_overlapping_parts_with_primary_splitting
tests/test_basic_splitter.py::test_overlapping_parts_with_nested_splitting
tests/test_basic_splitter.py::test_uses_nested_splitting_with_long_text
tests/test_basic_splitter.py::test_uses_overlap_splitting_with_long_text
tests/test_exhaustive_regex_splitter.py::test_returns_single_part_when_text_fits_part_size
tests/test_exhaustive_regex_splitter.py::test_fails_when_no_separators_provided
tests/test_exhaustive_regex_splitter.py::test_fails_when_cant_split
tests/test_exhaustive_regex_splitter.py::test_strips_whitespaces_with_leading_and_trailing_part_whitespaces
tests/test_exhaustive_regex_splitter.py::test_adds_leading_splitters_when_required
tests/test_exhaustive_regex_splitter.py::test_uses_paragraphs_splitting_with_default_separators
tests/test_exhaustive_regex_splitter.py::test_uses_newline_splitting_with_default_separators
tests/test_exhaustive_regex_splitter.py::test_uses_words_splitting_with_default_separators
tests/test_exhaustive_regex_splitter.py::test_uses_words_splitting_when_one_separators_provided
tests/test_exhaustive_regex_splitter.py::test_splitting_text_when_parts_fit_part_size_exactly
tests/test_exhaustive_regex_splitter.py::test_splitting_markdown_headers
tests/test_exhaustive_regex_splitter.py::test_splitting_markdown_headers_with_subheaders
tests/test_exhaustive_regex_splitter.py::test_splitting_html_tag
tests/test_exhaustive_regex_splitter.py::test_overlapping_parts_with_parts_similar_sizes
tests/test_exhaustive_regex_splitter.py::test_overlapping_parts_with_different_sizes
tests/test_exhaustive_regex_splitter.py::test_regex_text_splitting_with_long_text
tests/test_exhaustive_regex_splitter.py::test_uses_overlap_splitting_with_long_text
tests/test_exhaustive_splitter.py::test_returns_single_part_when_text_fits_part_size
tests/test_exhaustive_splitter.py::test_fails_when_no_separators_provided
tests/test_exhaustive_splitter.py::test_fails_when_cant_split
tests/test_exhaustive_splitter.py::test_strips_whitespaces_with_leading_and_trailing_part_whitespaces
tests/test_exhaustive_splitter.py::test_uses_all_splitters_with_different_splitters_order
tests/test_exhaustive_splitter.py::test_adds_trailing_splitters_when_required
tests/test_exhaustive_splitter.py::test_uses_paragraphs_splitting_with_default_separators
tests/test_exhaustive_splitter.py::test_uses_newline_splitting_with_default_separators
tests/test_exhaustive_splitter.py::test_uses_words_splitting_with_default_separators
tests/test_exhaustive_splitter.py::test_uses_words_splitting_when_one_separators_provided
tests/test_exhaustive_splitter.py::test_splitting_text_when_parts_fit_part_size_exactly
tests/test_exhaustive_splitter.py::test_overlapping_parts_with_parts_similar_sizes
tests/test_exhaustive_splitter.py::test_overlapping_parts_with_different_sizes
tests/test_exhaustive_splitter.py::test_text_splitting_with_long_text
tests/test_exhaustive_splitter.py::test_uses_overlap_splitting_with_long_text
tests/test_idle_monitor.py::test_not_idle_initially
tests/test_idle_monitor.py::test_becomes_idle_initially
tests/test_idle_monitor.py::test_not_idle_when_entered_task
tests/test_idle_monitor.py::test_becomes_idle_after_exiting_task
tests/test_idle_monitor.py::test_not_idle_when_nested_not_idle
tests/test_idle_monitor.py::test_becomes_idle_after_nested_becomes_idle
tests/test_idle_monitor.py::test_waits_for_being_idle
tests/test_idle_monitor.py::test_waits_for_being_idle_with_nested
tests/test_idle_monitor.py::test_resets_when_entering_task
tests/test_idle_monitor.py::test_resets_when_nested_entering_task
tests/test_model.py::test_validated_passes_with_valid_values
tests/test_model.py::test_validated_passes_with_default_values
tests/test_model.py::test_datetime_encoding
tests/test_model.py::test_datetime_decoding
tests/test_model.py::test_uuid_encoding
tests/test_model.py::test_uuid_decoding
tests/test_model.py::test_missing_encoding
tests/test_model.py::test_missing_decoding
tests/test_model.py::test_typed_dict_encoding
tests/test_model.py::test_typed_dict_decoding
tests/test_model.py::test_basic_encoding
tests/test_model.py::test_basic_decoding
tests/test_model.py::test_llm_message_decoding
tests/test_model.py::test_llm_message_encoding
tests/test_model.py::test_any_encoding
tests/test_model.py::test_any_dict_decoding
tests/test_multimodal.py::test_empty_is_falsy
tests/test_multimodal.py::test_as_string_is_equal_input_text
tests/test_multimodal.py::test_merged_texts_are_concatenated
tests/test_multimodal.py::test_merged_texts_with_media_are_concatenated
tests/test_multimodal.py::test_empty_texts_are_skipped
tests/test_multimodal.py::test_merged_contents_with_same_meta_are_concatenated
tests/test_multimodal.py::test_merged_contents_with_different_meta_are_concatenated_where_able
tests/test_paramteter_path.py::test_id_path_points_to_self
tests/test_paramteter_path.py::test_attribute_path_points_to_attribute
tests/test_paramteter_path.py::test_nested_attribute_path_points_to_nested_attribute
tests/test_paramteter_path.py::test_recursive_attribute_path_points_to_attribute
tests/test_paramteter_path.py::test_list_item_path_points_to_item
tests/test_paramteter_path.py::test_tuple_item_path_points_to_item
tests/test_paramteter_path.py::test_mixed_tuple_item_path_points_to_item
tests/test_paramteter_path.py::test_dict_item_path_points_to_item
tests/test_paramteter_path.py::test_id_path_set_updates_self
tests/test_paramteter_path.py::test_attribute_path_set_updates_attribute
tests/test_paramteter_path.py::test_nested_attribute_path_set_updates_nested_attribute
tests/test_paramteter_path.py::test_recursive_attribute_set_updates_attribute
tests/test_paramteter_path.py::test_list_item_path_set_updates_item
tests/test_paramteter_path.py::test_tuple_item_path_set_updates_item
tests/test_paramteter_path.py::test_mixed_tuple_item_set_updates_item
tests/test_paramteter_path.py::test_dict_item_path_set_updates_item
tests/test_schema.py::test_json_schema
tests/test_schema.py::test_simplified_schema
tests/test_specification.py::test_specifications
tests/test_specification.py::test_basic_specification
tests/test_specification.py::test_parametrized_specification
tests/test_specification.py::test_nested_parametrized_specification
tests/test_tags_extraction.py::test_returns_none_with_empty
tests/test_tags_extraction.py::test_returns_none_without_tag
tests/test_tags_extraction.py::test_returns_none_with_other_tag
tests/test_tags_extraction.py::test_returns_none_with_closing_tag
tests/test_tags_extraction.py::test_returns_none_with_reversed_tags
tests/test_tags_extraction.py::test_returns_none_without_closing_tag
tests/test_tags_extraction.py::test_returns_none_with_malformed_opening_tag
tests/test_tags_extraction.py::test_returns_none_with_malformed_closing_tag
tests/test_tags_extraction.py::test_returns_content_with_valid_tag
tests/test_tags_extraction.py::test_returns_content_with_surrounded_tag
tests/test_tags_extraction.py::test_returns_content_with_opening_tag_containing_attributes
tests/test_tags_extraction.py::test_returns_first_content_with_multiple_tags
tests/test_tags_extraction.py::test_returns_outer_content_with_multiple_nested_tags
tests/test_tags_extraction.py::test_returns_nested_content_with_fake_tags
tests/test_tags_extraction.py::test_returns_none_with_nested_in_other_tags
tests/test_tags_extraction.py::test_returns_content_with_multiple_tags
tests/test_tags_extraction.py::test_returns_content_with_multiple_filtered_tags
tests/test_tags_extraction.py::test_skips_content_from_different_filtered_tags
tests/test_tags_replacement.py::test_returns_unchanged_with_empty
tests/test_tags_replacement.py::test_returns_unchanged_without_tag
tests/test_tags_replacement.py::test_returns_unchanged_with_other_tag
tests/test_tags_replacement.py::test_returns_unchanged_without_closing_tag
tests/test_tags_replacement.py::test_returns_unchanged_with_only_closing_tag
tests/test_tags_replacement.py::test_returns_unchanged_with_reversed_tags
tests/test_tags_replacement.py::test_returns_unchanged_with_malformed_opening_tag
tests/test_tags_replacement.py::test_returns_unchanged_with_malformed_closing_tag
tests/test_tags_replacement.py::test_returns_replaced_with_valid_tag
tests/test_tags_replacement.py::test_returns_replaced_outer_with_multiple_nested_tags
tests/test_tags_replacement.py::test_returns_replaced_with_surrounded_tag
tests/test_tags_replacement.py::test_returns_unchanged_with_nested_in_tags
tests/test_tags_replacement.py::test_returns_replaced_content_with_fake_tags
tests/test_tags_replacement.py::test_returns_replaced_with_other_tags
tests/test_tags_replacement.py::test_returns_first_replaced_with_multiple_valid_tags
tests/test_tags_replacement.py::test_returns_all_replaced_with_multiple_valid_tags
tests/test_tool_call.py::test_call_returns_result
tests/test_tool_call.py::test_call_fails_on_error
tests/test_tool_call.py::test_toolbox_call_returns_multimodal_content
tests/test_tool_call.py::test_toolbox_call_returns_custom_content
tests/test_tool_call.py::test_retries_with_auto_retry
tests/test_tool_call.py::test_returns_cached_with_cache

156 tests collected in 11.93s