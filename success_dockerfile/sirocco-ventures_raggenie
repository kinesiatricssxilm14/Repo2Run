FROM python:3.11
WORKDIR /
RUN apt-get update && apt-get install -y curl && \
    curl -sSL https://install.python-poetry.org | python -
ENV PATH="/root/.local/bin:$PATH"
RUN pip install pytest pytest-xdist && \
    pip install pipdeptree && \
    git clone https://github.com/sirocco-ventures/raggenie.git && \
    mkdir /repo && \
    git config --global --add safe.directory /repo && \
    cp -r /raggenie/. /repo && rm -rf /raggenie/ && \
    rm -rf /raggenie && \
    cd /repo && git checkout 99dfe5bdc62ce47ab56f711da6b4eeb96e8dd6a5 && \
    pip install aiofiles==23.2.1 && \
    pip install aiohappyeyeballs==2.4.0 && \
    pip install aiohttp==3.10.5 && \
    pip install aiosignal==1.3.1 && \
    pip install annotated-types==0.7.0 && \
    pip install anyio==4.4.0 && \
    pip install APScheduler==3.10.4 && \
    pip install argcomplete==3.5.0 && \
    pip install asgiref==3.8.1 && \
    pip install asyncer==0.0.7 && \
    pip install attrs==24.2.0 && \
    pip install backoff==2.2.1 && \
    pip install bcrypt==4.2.0 && \
    pip install beautifulsoup4==4.12.3 && \
    pip install bidict==0.23.1 && \
    pip install build==1.2.2 && \
    pip install cachetools==5.5.0 && \
    pip install certifi==2024.8.30 && \
    pip install cffi==1.17.1 && \
    pip install chainlit==1.1.404 && \
    pip install chardet==5.2.0 && \
    pip install charset-normalizer==3.3.2 && \
    pip install chevron==0.14.0 && \
    pip install chroma-hnswlib==0.7.6 && \
    pip install chromadb==0.5.5 && \
    pip install click==8.1.7 && \
    pip install coloredlogs==15.0.1 && \
    pip install cryptography==43.0.1 && \
    pip install dependency-injector==4.42.0 && \
    pip install Deprecated==1.2.14 && \
    pip install deprecation==2.1.0 && \
    pip install docx2txt==0.8 && \
    pip install EbookLib==0.18 && \
    pip install et-xmlfile==1.1.0 && \
    pip install fastapi==0.110.3 && \
    pip install filelock==3.16.0 && \
    pip install filetype==1.2.0 && \
    pip install flatbuffers==24.3.25 && \
    pip install flatdict==4.0.1 && \
    pip install frozenlist==1.4.1 && \
    pip install fsspec==2024.9.0 && \
    pip install google-api-core==2.19.2 && \
    pip install google-auth==2.34.0 && \
    pip install google-cloud==0.34.0 && \
    pip install google-cloud-bigquery==3.25.0 && \
    pip install google-cloud-core==2.4.1 && \
    pip install google-crc32c==1.6.0 && \
    pip install google-resumable-media==2.7.2 && \
    pip install googleapis-common-protos==1.65.0 && \
    pip install grpcio==1.66.1 && \
    pip install grpcio-status==1.62.3 && \
    pip install h11==0.14.0 && \
    pip install httpcore==1.0.5 && \
    pip install httptools==0.6.1 && \
    pip install httpx==0.27.2 && \
    pip install huggingface-hub==0.24.7 && \
    pip install humanfriendly==10.0 && \
    pip install idna==3.10 && \
    pip install importlib_metadata==8.4.0 && \
    pip install importlib_resources==6.4.5 && \
    pip install jsonpatch==1.33 && \
    pip install jsonpointer==3.0.0 && \
    pip install kubernetes==30.1.0 && \
    pip install langchain==0.3.0 && \
    pip install langchain-core==0.3.0 && \
    pip install langchain-text-splitters==0.3.0 && \
    pip install langsmith==0.1.120 && \
    pip install Lazify==0.4.0 && \
    pip install literalai==0.0.607 && \
    pip install loguru==0.7.2 && \
    pip install lxml==5.3.0 && \
    pip install markdown-it-py==3.0.0 && \
    pip install marshmallow==3.22.0 && \
    pip install mdurl==0.1.2 && \
    pip install mmh3==4.1.0 && \
    pip install monotonic==1.6 && \
    pip install mpmath==1.3.0 && \
    pip install multidict==6.1.0 && \
    pip install mypy-extensions==1.0.0 && \
    pip install mysql-connector-python==9.0.0 && \
    pip install nest-asyncio==1.6.0 && \
    pip install numpy==1.26.4 && \
    pip install oauthlib==3.2.2 && \
    pip install onnxruntime==1.19.2 && \
    pip install openpyxl==3.1.5 && \
    pip install oracledb==2.4.1 && \
    pip install orjson==3.10.7 && \
    pip install overrides==7.7.0 && \
    pip install packaging==23.2 && \
    pip install pillow==10.4.0 && \
    pip install posthog==3.6.5 && \
    pip install proto-plus==1.24.0 && \
    pip install psycopg2-binary==2.9.9 && \
    pip install pyasn1==0.6.1 && \
    pip install pyasn1_modules==0.4.1 && \
    pip install pycparser==2.22 && \
    pip install pydantic==2.9.1 && \
    pip install pydantic-settings==2.5.2 && \
    pip install pydantic_core==2.23.3 && \
    pip install Pygments==2.18.0 && \
    pip install PyJWT==2.9.0 && \
    pip install PyMuPDF==1.24.10 && \
    pip install PyMuPDFb==1.24.10 && \
    pip install PyMySQL==1.1.1 && \
    pip install PyPika==0.48.9 && \
    pip install pyproject_hooks==1.1.0 && \
    pip install pytest==8.3.3 && \
    pip install pytest-cov==5.0.0 && \
    pip install python-dateutil==2.9.0.post0 && \
    pip install python-dotenv==1.0.1 && \
    pip install python-engineio==4.9.1 && \
    pip install python-multipart==0.0.9 && \
    pip install python-pptx==1.0.2 && \
    pip install python-socketio==5.11.4 && \
    pip install pytz==2024.2 && \
    pip install PyYAML==6.0.2 && \
    pip install requests==2.32.3 && \
    pip install requests-oauthlib==2.0.0 && \
    pip install rich==13.8.1 && \
    pip install rsa==4.9 && \
    pip install setuptools==75.0.0 && \
    pip install shellingham==1.5.4 && \
    pip install simple-websocket==1.0.0 && \
    pip install six==1.16.0 && \
    pip install sniffio==1.3.1 && \
    pip install soupsieve==2.6 && \
    pip install SpeechRecognition==3.10.4 && \
    pip install splunk-sdk==2.0.2 && \
    pip install SQLAlchemy==2.0.34 && \
    pip install sqlparse==0.5.1 && \
    pip install sqlvalidator==0.0.20 && \
    pip install starlette==0.37.2 && \
    pip install sympy==1.13.2 && \
    pip install syncer==2.0.3 && \
    pip install tenacity==8.5.0 && \
    pip install textract==1.5.0 && \
    pip install tokenizers==0.20.0 && \
    pip install tomark==0.1.4 && \
    pip install tomli==2.0.1 && \
    pip install tqdm==4.66.5 && \
    pip install typer==0.12.5 && \
    pip install typing-inspect==0.9.0 && \
    pip install typing_extensions==4.12.2 && \
    pip install tzlocal==5.2 && \
    pip install uptrace==1.26.0 && \
    pip install urllib3==2.2.3 && \
    pip install uvicorn==0.25.0 && \
    pip install watchfiles==0.20.0 && \
    pip install websocket-client==1.8.0 && \
    pip install websockets==13.0.1 && \
    pip install wrapt==1.16.0 && \
    pip install wsproto==1.2.0 && \
    pip install xlrd==2.0.1 && \
    pip install XlsxWriter==3.2.0 && \
    pip install xmltodict==0.13.0 && \
    pip install yarl==1.11.1 && \
    pip install zipp==3.20.2 && \
    pip install pymongo==4.8.0 && \
    pip install pre-commit==3.8.0 && \
    pip install codespell==2.3.0 && \
    pip install flake8==7.1.1 && \
    pip install pep8-naming==0.14.1