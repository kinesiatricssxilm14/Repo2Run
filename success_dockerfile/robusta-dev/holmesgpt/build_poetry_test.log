#0 building with "default" instance using docker driver

#1 [internal] load build definition from Dockerfile
#1 transferring dockerfile: 1.07kB done
#1 DONE 0.0s

#2 [internal] load metadata for docker.io/library/python:3.10
#2 DONE 0.0s

#3 [internal] load .dockerignore
#3 transferring context: 2B done
#3 DONE 0.0s

#4 [1/5] FROM docker.io/library/python:3.10
#4 DONE 0.0s

#5 [2/5] RUN mkdir -p ~/.pip && touch ~/.pip/pip.conf &&     echo "[global]" >> ~/.pip/pip.conf && echo "index-url=http://simple/" >> ~/.pip/pip.conf && echo "[install]" >> ~/.pip/pip.conf && echo "trusted-host=pypi..org" >> ~/.pip/pip.conf &&     apt-get update && apt-get install -y curl &&     curl -sSL https://install.python-poetry.org | python -
#5 CACHED

#6 [3/5] RUN pip install pytest pytest-xdist &&     pip install pipdeptree &&     git clone https://github.com/robusta-dev/holmesgpt.git &&     mkdir /repo &&     git config --global --add safe.directory /repo &&     cp -r /holmesgpt/. /repo && rm -rf /holmesgpt/ &&     rm -rf /holmesgpt &&     cd /repo && git checkout c4743a016866e2a216897518059d326e4d97aaa7 &&     cd /repo && poetry install
#6 CACHED

#7 [4/5] RUN cd /repo && poetry run pytest --collect-only -q
#7 10.98 tests/llm/test_ask_holmes.py::test_ask_holmes[ask_holmes:20250108_014202-07_high_latency]
#7 10.98 tests/llm/test_ask_holmes.py::test_ask_holmes[ask_holmes:20250108_014202-05_image_version]
#7 10.98 tests/llm/test_ask_holmes.py::test_ask_holmes[ask_holmes:20250108_014202-02_what_is_wrong_with_pod]
#7 10.98 tests/llm/test_ask_holmes.py::test_ask_holmes[ask_holmes:20250108_014202-20_long_log_file_search]
#7 10.98 tests/llm/test_ask_holmes.py::test_ask_holmes[ask_holmes:20250108_014202-23_app_error_in_current_logs]
#7 10.98 tests/llm/test_ask_holmes.py::test_ask_holmes[ask_holmes:20250108_014202-04_related_k8s_events]
#7 10.98 tests/llm/test_ask_holmes.py::test_ask_holmes[ask_holmes:20250108_014202-14_pending_resources]
#7 10.98 tests/llm/test_ask_holmes.py::test_ask_holmes[ask_holmes:20250108_014202-10_image_pull_backoff]
#7 10.98 tests/llm/test_ask_holmes.py::test_ask_holmes[ask_holmes:20250108_014202-09_crashpod]
#7 10.98 tests/llm/test_ask_holmes.py::test_ask_holmes[ask_holmes:20250108_014202-25_misconfigured_ingress_class]
#7 10.98 tests/llm/test_ask_holmes.py::test_ask_holmes[ask_holmes:20250108_014202-18_crash_looping_v2]
#7 10.98 tests/llm/test_ask_holmes.py::test_ask_holmes[ask_holmes:20250108_014202-24_misconfigured_pvc]
#7 10.98 tests/llm/test_ask_holmes.py::test_ask_holmes[ask_holmes:20250108_014202-13_pending_node_selector]
#7 10.98 tests/llm/test_ask_holmes.py::test_ask_holmes[ask_holmes:20250108_014202-08_sock_shop_frontend]
#7 10.98 tests/llm/test_ask_holmes.py::test_ask_holmes[ask_holmes:20250108_014202-21_job_fail_curl_no_svc_account]
#7 10.98 tests/llm/test_ask_holmes.py::test_ask_holmes[ask_holmes:20250108_014202-22_high_latency_dbi_down]
#7 10.98 tests/llm/test_ask_holmes.py::test_ask_holmes[ask_holmes:20250108_014202-12_job_crashing]
#7 10.98 tests/llm/test_ask_holmes.py::test_ask_holmes[ask_holmes:20250108_014202-11_init_containers]
#7 10.98 tests/llm/test_ask_holmes.py::test_ask_holmes[ask_holmes:20250108_014202-01_how_many_pods]
#7 10.98 tests/llm/test_ask_holmes.py::test_ask_holmes[ask_holmes:20250108_014202-03_what_is_the_command_to_port_forward]
#7 10.98 tests/llm/test_ask_holmes.py::test_ask_holmes[ask_holmes:20250108_014202-16_failed_no_toolset_found]
#7 10.98 tests/llm/test_ask_holmes.py::test_ask_holmes[ask_holmes:20250108_014202-26_multi_container_logs]
#7 10.98 tests/llm/test_ask_holmes.py::test_ask_holmes[ask_holmes:20250108_014202-15_failed_readiness_probe]
#7 10.98 tests/llm/test_ask_holmes.py::test_ask_holmes[ask_holmes:20250108_014202-19_detect_missing_app_details]
#7 10.98 tests/llm/test_ask_holmes.py::test_ask_holmes[ask_holmes:20250108_014202-06_explain_issue]
#7 10.98 tests/llm/test_ask_holmes.py::test_ask_holmes[ask_holmes:20250108_014202-17_oom_kill]
#7 10.98 tests/llm/test_investigate.py::test_investigate[investigate:20250108_014203-04_image_pull_backoff]
#7 10.98 tests/llm/test_investigate.py::test_investigate[investigate:20250108_014203-07_job_syntax_error]
#7 10.98 tests/llm/test_investigate.py::test_investigate[investigate:20250108_014203-03_cpu_throttling]
#7 10.98 tests/llm/test_investigate.py::test_investigate[investigate:20250108_014203-13_KubePodNotReady]
#7 10.98 tests/llm/test_investigate.py::test_investigate[investigate:20250108_014203-05_crashpod]
#7 10.98 tests/llm/test_investigate.py::test_investigate[investigate:20250108_014203-02_crashloop_backoff]
#7 10.98 tests/llm/test_investigate.py::test_investigate[investigate:20250108_014203-01_oom_kill]
#7 10.98 tests/llm/test_investigate.py::test_investigate[investigate:20250108_014203-10_kube_controller_manager_down]
#7 10.98 tests/llm/test_investigate.py::test_investigate[investigate:20250108_014203-11_KubeDeploymentReplicasMismatch]
#7 10.98 tests/llm/test_investigate.py::test_investigate[investigate:20250108_014203-09_high_latency]
#7 10.98 tests/llm/test_investigate.py::test_investigate[investigate:20250108_014203-08_memory_pressure]
#7 10.98 tests/llm/test_investigate.py::test_investigate[investigate:20250108_014203-14_Watchdog]
#7 10.98 tests/llm/test_investigate.py::test_investigate[investigate:20250108_014203-12_KubePodCrashLooping]
#7 10.98 tests/llm/test_investigate.py::test_investigate[investigate:20250108_014203-06_job_failure]
#7 10.98 tests/llm/test_mocks.py::test_mock_tools_match[params0]
#7 10.98 tests/llm/test_mocks.py::test_mock_tools_match[params1]
#7 10.98 tests/llm/test_mocks.py::test_mock_tools_do_not_match[params0]
#7 10.98 tests/llm/test_mocks.py::test_mock_tools_do_not_match[params1]
#7 10.98 tests/llm/test_mocks.py::test_mock_tools_do_not_match[params2]
#7 10.98 tests/llm/test_mocks.py::test_mock_tools_do_not_match[params3]
#7 10.98 tests/llm/test_mocks.py::test_mock_tools_do_not_match[params4]
#7 10.98 tests/llm/test_mocks.py::test_mock_tools_do_not_match[params5]
#7 10.98 tests/llm/test_mocks.py::test_mock_tools_does_not_throws_if_no_match
#7 10.98 tests/test_fetch_url.py::test_html_to_markdown[<!doctype html>\n<html lang="en">\n    <head>\n        <meta charset="utf-8" />\n        <meta name="viewport" content="width=device-width, initial-scale=1" />\n        <title>Fixture</title>\n        <link rel="stylesheet" href="styles.css" />\n    </head>\n\n    <body>\n        <h1>Title 1</h1>\n        <script src="scripts.js"></script>\n        <h2>Sub title 2</h2>\n        <p>\n            Lorem ipsum dolor sit amet,\n            <a href="/foobar">consectetur</a> adipiscing elit. Maecenas sit amet\n            magna nec urna mollis vehicula. Quisque maximus, lacus sed\n            consectetur scelerisque, felis velit pulvinar lectus, sed pretium\n            orci arcu eu sapien. In hac habitasse platea dictumst. Mauris dictum\n            interdum ex vel luctus. Sed eu ullamcorper dolor. Vivamus laoreet\n            pulvinar dolor, at venenatis est commodo pretium. Duis congue ut\n            purus vel convallis. Duis ultrices, diam ut malesuada pulvinar,\n            ipsum neque suscipit mi, ac maximus est erat quis turpis. Etiam\n            hendrerit dolor commodo felis laoreet, sit amet sollicitudin urna\n            faucibus. Donec lacinia cursus elit, vel tristique mauris. Donec\n            euismod vehicula justo, ut pretium ligula tristique quis. Cras diam\n            purus, tristique sit amet rutrum in, vulputate in mi. Suspendisse\n            lorem odio, vestibulum non velit sit amet, sollicitudin fermentum\n            nulla. Vestibulum consectetur congue neque, quis fringilla lorem\n            mattis ac. Morbi at imperdiet turpis. Ut interdum dui non velit\n            condimentum, ac laoreet elit dictum.\n        </p>\n    </body>\n</html>-Fixture\n\nTitle 1\n=======\n\nSub title 2\n-----------\n\n Lorem ipsum dolor sit amet,\n consectetur adipiscing elit. Maecenas sit amet\n magna nec urna mollis vehicula. Quisque maximus, lacus sed\n consectetur scelerisque, felis velit pulvinar lectus, sed pretium\n orci arcu eu sapien. In hac habitasse platea dictumst. Mauris dictum\n interdum ex vel luctus. Sed eu ullamcorper dolor. Vivamus laoreet\n pulvinar dolor, at venenatis est commodo pretium. Duis congue ut\n purus vel convallis. Duis ultrices, diam ut malesuada pulvinar,\n ipsum neque suscipit mi, ac maximus est erat quis turpis. Etiam\n hendrerit dolor commodo felis laoreet, sit amet sollicitudin urna\n faucibus. Donec lacinia cursus elit, vel tristique mauris. Donec\n euismod vehicula justo, ut pretium ligula tristique quis. Cras diam\n purus, tristique sit amet rutrum in, vulputate in mi. Suspendisse\n lorem odio, vestibulum non velit sit amet, sollicitudin fermentum\n nulla. Vestibulum consectetur congue neque, quis fringilla lorem\n mattis ac. Morbi at imperdiet turpis. Ut interdum dui non velit\n condimentum, ac laoreet elit dictum.]
#7 10.98 tests/test_fetch_url.py::test_internet_toolset_prerequisites
#7 10.98 tests/test_fetch_url.py::test_fetch_webpage
#7 10.98 tests/test_format_tags.py::test_format_tags_in_string[What is the status of << { "type": "service", "namespace": "default", "kind": "Deployment", "name": "nginx" } >>?-What is the status of service nginx (namespace=default, kind=Deployment)?]
#7 10.98 tests/test_format_tags.py::test_format_tags_in_string[why did << { "type": "job", "namespace": "my-namespace", "name": "my-job" } >> fail?-why did job my-job (namespace=my-namespace) fail?]
#7 10.98 tests/test_format_tags.py::test_format_tags_in_string[why did << { "type": "pod", "namespace": "my-namespace", "name": "runner-2323" } >> fail?-why did pod runner-2323 (namespace=my-namespace) fail?]
#7 10.98 tests/test_format_tags.py::test_format_tags_in_string[how many pods are running on << { "type": "node", "name": "my-node" } >>?-how many pods are running on node my-node?]
#7 10.98 tests/test_format_tags.py::test_format_tags_in_string[What caused << { "type": "issue", "id": "issue-id", "name": "KubeJobFailed", "subject_namespace": "my-namespace", "subject_name": "my-pod" } >>?-What caused issue issue-id (name=KubeJobFailed, subject_namespace=my-namespace, subject_name=my-pod)?]
#7 10.98 tests/test_format_tags.py::test_format_tags_in_string[tell me about << {"type":"service","namespace":"sock-shop","kind":"Deployment","name":"carts"} >> and << { "type": "node", "name": "my-node" } >> and << {"type":"service","namespace":"sock-shop","kind":"Deployment","name":"front-end"} >>-tell me about service carts (namespace=sock-shop, kind=Deployment) and node my-node and service front-end (namespace=sock-shop, kind=Deployment)]
#7 10.98 tests/test_format_tags.py::test_parse_message_tags
#7 10.98 
#7 10.98 =============================== warnings summary ===============================
#7 10.98 ../root/.cache/pypoetry/virtualenvs/holmesgpt-gW_DSdP6-py3.10/lib/python3.10/site-packages/pydantic/_internal/_config.py:295
#7 10.98   /root/.cache/pypoetry/virtualenvs/holmesgpt-gW_DSdP6-py3.10/lib/python3.10/site-packages/pydantic/_internal/_config.py:295: PydanticDeprecatedSince20: Support for class-based `config` is deprecated, use ConfigDict instead. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.10/migration/
#7 10.98     warnings.warn(DEPRECATION_MESSAGE, DeprecationWarning)
#7 10.98 
#7 10.98 -- Docs: https://docs.pytest.org/en/stable/how-to/capture-warnings.html
#7 10.98 59 tests collected in 8.91s
#7 DONE 11.9s

#8 exporting to image
#8 exporting layers
#8 exporting layers 3.9s done
#8 writing image sha256:4c69a5cca5d9beed2b04b086e594bc57d95d8b30e0997fc57104a848ccfc4c42 done
#8 naming to docker.io/library/tmp:tmp done
#8 DONE 3.9s
