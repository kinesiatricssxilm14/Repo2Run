#0 building with "default" instance using docker driver

#1 [internal] load build definition from Dockerfile
#1 transferring dockerfile: 1.11kB done
#1 DONE 0.0s

#2 [internal] load metadata for docker.io/library/python:3.10
#2 DONE 0.0s

#3 [internal] load .dockerignore
#3 transferring context: 2B done
#3 DONE 0.0s

#4 [1/5] FROM docker.io/library/python:3.10
#4 DONE 0.0s

#5 [2/5] RUN mkdir -p ~/.pip && touch ~/.pip/pip.conf &&     echo "[global]" >> ~/.pip/pip.conf && echo "index-url=http://simple/" >> ~/.pip/pip.conf && echo "[install]" >> ~/.pip/pip.conf && echo "trusted-host=pypi..org" >> ~/.pip/pip.conf &&     apt-get update && apt-get install -y curl &&     curl -sSL https://install.python-poetry.org | python -
#5 CACHED

#6 [3/5] RUN pip install pytest pytest-xdist &&     pip install pipdeptree &&     git clone https://github.com/LlmKira/fast-langdetect.git &&     mkdir /repo &&     git config --global --add safe.directory /repo &&     cp -r /fast-langdetect/. /repo && rm -rf /fast-langdetect/ &&     rm -rf /fast-langdetect &&     cd /repo && git checkout 5728ba917383c45a08c8ac1cdab255c7c546435c &&     pip install pdm==2.22.1 &&     cd /repo && pdm install
#6 1.662 Looking in indexes: http://simple/
#6 1.813 Collecting pytest
#6 1.832   Downloading http://packages/pytest/pytest-8.3.4-py3-none-any.whl (343 kB)
#6 1.856      ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 343.1/343.1 kB 18.2 MB/s eta 0:00:00
#6 1.927 Collecting pytest-xdist
#6 1.947   Downloading http://packages/pytest-xdist/pytest_xdist-3.6.1-py3-none-any.whl (46 kB)
#6 1.959      ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 46.1/46.1 kB 4.7 MB/s eta 0:00:00
#6 2.006 Collecting iniconfig
#6 2.024   Downloading http://packages/iniconfig/iniconfig-2.0.0-py3-none-any.whl (5.9 kB)
#6 2.069 Collecting exceptiongroup>=1.0.0rc8
#6 2.086   Downloading http://packages/exceptiongroup/exceptiongroup-1.2.2-py3-none-any.whl (16 kB)
#6 2.153 Collecting packaging
#6 2.172   Downloading http://packages/packaging/packaging-24.2-py3-none-any.whl (65 kB)
#6 2.184      ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 65.5/65.5 kB 7.0 MB/s eta 0:00:00
#6 2.239 Collecting tomli>=1
#6 2.260   Downloading http://packages/tomli/tomli-2.2.1-py3-none-any.whl (14 kB)
#6 2.308 Collecting pluggy<2,>=1.5
#6 2.326   Downloading http://packages/pluggy/pluggy-1.5.0-py3-none-any.whl (20 kB)
#6 2.379 Collecting execnet>=2.1
#6 2.397   Downloading http://packages/execnet/execnet-2.1.1-py3-none-any.whl (40 kB)
#6 2.405      ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 40.6/40.6 kB 8.3 MB/s eta 0:00:00
#6 2.542 Installing collected packages: tomli, pluggy, packaging, iniconfig, execnet, exceptiongroup, pytest, pytest-xdist
#6 3.109 Successfully installed exceptiongroup-1.2.2 execnet-2.1.1 iniconfig-2.0.0 packaging-24.2 pluggy-1.5.0 pytest-8.3.4 pytest-xdist-3.6.1 tomli-2.2.1
#6 3.110 WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv
#6 3.235 
#6 3.235 [notice] A new release of pip is available: 23.0.1 -> 24.3.1
#6 3.235 [notice] To update, run: pip install --upgrade pip
#6 3.931 Looking in indexes: http://simple/
#6 4.015 Collecting pipdeptree
#6 4.034   Downloading http://packages/pipdeptree/pipdeptree-2.24.0-py3-none-any.whl (32 kB)
#6 4.062 Requirement already satisfied: packaging>=24.1 in /usr/local/lib/python3.10/site-packages (from pipdeptree) (24.2)
#6 4.181 Collecting pip>=24.2
#6 4.192   Using cached http://packages/pip/pip-24.3.1-py3-none-any.whl (1.8 MB)
#6 4.315 Installing collected packages: pip, pipdeptree
#6 4.315   Attempting uninstall: pip
#6 4.317     Found existing installation: pip 23.0.1
#6 4.485     Uninstalling pip-23.0.1:
#6 4.635       Successfully uninstalled pip-23.0.1
#6 5.880 Successfully installed pip-24.3.1 pipdeptree-2.24.0
#6 5.880 WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv
#6 6.043 Cloning into 'fast-langdetect'...
#6 8.040 Note: switching to '5728ba917383c45a08c8ac1cdab255c7c546435c'.
#6 8.040 
#6 8.040 You are in 'detached HEAD' state. You can look around, make experimental
#6 8.040 changes and commit them, and you can discard any commits you make in this
#6 8.040 state without impacting any branches by switching back to a branch.
#6 8.040 
#6 8.040 If you want to create a new branch to retain commits you create, you may
#6 8.040 do so (now or later) by using -c with the switch command. Example:
#6 8.040 
#6 8.040   git switch -c <new-branch-name>
#6 8.040 
#6 8.040 Or undo this operation with:
#6 8.040 
#6 8.040   git switch -
#6 8.040 
#6 8.040 Turn off this advice by setting config variable advice.detachedHead to false
#6 8.040 
#6 8.040 HEAD is now at 5728ba9 Merge pull request #5 from LlmKira/dev
#6 8.586 Looking in indexes: http://simple/
#6 8.722 Collecting pdm==2.22.1
#6 8.742   Downloading http://packages/pdm/pdm-2.22.1-py3-none-any.whl (283 kB)
#6 8.869 Collecting blinker (from pdm==2.22.1)
#6 8.887   Downloading http://packages/blinker/blinker-1.9.0-py3-none-any.whl (8.5 kB)
#6 8.894 Requirement already satisfied: packaging!=22.0,>=20.9 in /usr/local/lib/python3.10/site-packages (from pdm==2.22.1) (24.2)
#6 8.947 Collecting platformdirs (from pdm==2.22.1)
#6 8.949   Using cached http://packages/platformdirs/platformdirs-4.3.6-py3-none-any.whl (18 kB)
#6 9.085 Collecting rich>=12.3.0 (from pdm==2.22.1)
#6 9.106   Downloading http://packages/rich/rich-13.9.4-py3-none-any.whl (242 kB)
#6 9.299 Collecting virtualenv>=20 (from pdm==2.22.1)
#6 9.302   Using cached http://packages/virtualenv/virtualenv-20.28.1-py3-none-any.whl (4.3 MB)
#6 9.358 Collecting pyproject-hooks (from pdm==2.22.1)
#6 9.363   Using cached http://packages/pyproject-hooks/pyproject_hooks-1.2.0-py3-none-any.whl (10 kB)
#6 9.407 Collecting unearth>=0.17.0 (from pdm==2.22.1)
#6 9.428   Downloading http://packages/unearth/unearth-0.17.2-py3-none-any.whl (47 kB)
#6 9.472 Collecting dep-logic>=0.4.4 (from pdm==2.22.1)
#6 9.496   Downloading http://packages/dep-logic/dep_logic-0.4.10-py3-none-any.whl (34 kB)
#6 9.533 Collecting findpython<1.0.0a0,>=0.6.0 (from pdm==2.22.1)
#6 9.555   Downloading http://packages/findpython/findpython-0.6.2-py3-none-any.whl (20 kB)
#6 9.623 Collecting tomlkit<1,>=0.11.1 (from pdm==2.22.1)
#6 9.626   Using cached http://packages/tomlkit/tomlkit-0.13.2-py3-none-any.whl (37 kB)
#6 9.661 Collecting shellingham>=1.3.2 (from pdm==2.22.1)
#6 9.664   Using cached http://packages/shellingham/shellingham-1.5.4-py2.py3-none-any.whl (9.8 kB)
#6 9.700 Collecting python-dotenv>=0.15 (from pdm==2.22.1)
#6 9.717   Downloading http://packages/python-dotenv/python_dotenv-1.0.1-py3-none-any.whl (19 kB)
#6 9.754 Collecting resolvelib>=1.1 (from pdm==2.22.1)
#6 9.775   Downloading http://packages/resolvelib/resolvelib-1.1.0-py2.py3-none-any.whl (18 kB)
#6 9.815 Collecting installer<0.8,>=0.7 (from pdm==2.22.1)
#6 9.820   Using cached http://packages/installer/installer-0.7.0-py3-none-any.whl (453 kB)
#6 9.854 Collecting truststore>=0.9 (from pdm==2.22.1)
#6 9.874   Downloading http://packages/truststore/truststore-0.10.0-py3-none-any.whl (18 kB)
#6 9.885 Requirement already satisfied: tomli>=1.1.0 in /usr/local/lib/python3.10/site-packages (from pdm==2.22.1) (2.2.1)
#6 9.922 Collecting hishel>=0.0.32 (from pdm==2.22.1)
#6 9.942   Downloading http://packages/hishel/hishel-0.1.1-py3-none-any.whl (41 kB)
#6 10.11 Collecting msgpack>=1.0 (from pdm==2.22.1)
#6 10.11   Using cached http://packages/msgpack/msgpack-1.1.0-cp310-cp310-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (378 kB)
#6 10.19 Collecting pbs-installer>=2024.4.18 (from pdm==2.22.1)
#6 10.22   Downloading http://packages/pbs-installer/pbs_installer-2025.1.6-py3-none-any.whl (51 kB)
#6 10.29 Collecting httpx<1,>0.20 (from httpx[socks]<1,>0.20->pdm==2.22.1)
#6 10.31   Downloading http://packages/httpx/httpx-0.28.1-py3-none-any.whl (73 kB)
#6 10.38 Collecting filelock>=3.13 (from pdm==2.22.1)
#6 10.39   Using cached http://packages/filelock/filelock-3.16.1-py3-none-any.whl (16 kB)
#6 10.45 Collecting httpcore>=1.0.6 (from pdm==2.22.1)
#6 10.47   Downloading http://packages/httpcore/httpcore-1.0.7-py3-none-any.whl (78 kB)
#6 10.53 Collecting certifi>=2024.8.30 (from pdm==2.22.1)
#6 10.53   Using cached http://packages/certifi/certifi-2024.12.14-py3-none-any.whl (164 kB)
#6 10.58 Collecting h11<0.15,>=0.13 (from httpcore>=1.0.6->pdm==2.22.1)
#6 10.60   Downloading http://packages/h11/h11-0.14.0-py3-none-any.whl (58 kB)
#6 10.67 Collecting anyio (from httpx<1,>0.20->httpx[socks]<1,>0.20->pdm==2.22.1)
#6 10.69   Downloading http://packages/anyio/anyio-4.8.0-py3-none-any.whl (96 kB)
#6 10.76 Collecting idna (from httpx<1,>0.20->httpx[socks]<1,>0.20->pdm==2.22.1)
#6 10.77   Using cached http://packages/idna/idna-3.10-py3-none-any.whl (70 kB)
#6 10.80 Collecting socksio==1.* (from httpx[socks]<1,>0.20->pdm==2.22.1)
#6 10.82   Downloading http://packages/socksio/socksio-1.0.0-py3-none-any.whl (12 kB)
#6 10.88 Collecting markdown-it-py>=2.2.0 (from rich>=12.3.0->pdm==2.22.1)
#6 10.90   Downloading http://packages/markdown-it-py/markdown_it_py-3.0.0-py3-none-any.whl (87 kB)
#6 10.98 Collecting pygments<3.0.0,>=2.13.0 (from rich>=12.3.0->pdm==2.22.1)
#6 11.00   Downloading http://packages/pygments/pygments-2.19.1-py3-none-any.whl (1.2 MB)
#6 11.03      ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 1.2/1.2 MB 52.9 MB/s eta 0:00:00
#6 11.08 Collecting typing-extensions<5.0,>=4.0.0 (from rich>=12.3.0->pdm==2.22.1)
#6 11.10   Downloading http://packages/typing-extensions/typing_extensions-4.12.2-py3-none-any.whl (37 kB)
#6 11.15 Collecting distlib<1,>=0.3.7 (from virtualenv>=20->pdm==2.22.1)
#6 11.15   Using cached http://packages/distlib/distlib-0.3.9-py2.py3-none-any.whl (468 kB)
#6 11.21 Collecting mdurl~=0.1 (from markdown-it-py>=2.2.0->rich>=12.3.0->pdm==2.22.1)
#6 11.24   Downloading http://packages/mdurl/mdurl-0.1.2-py3-none-any.whl (10.0 kB)
#6 11.25 Requirement already satisfied: exceptiongroup>=1.0.2 in /usr/local/lib/python3.10/site-packages (from anyio->httpx<1,>0.20->httpx[socks]<1,>0.20->pdm==2.22.1) (1.2.2)
#6 11.28 Collecting sniffio>=1.1 (from anyio->httpx<1,>0.20->httpx[socks]<1,>0.20->pdm==2.22.1)
#6 11.30   Downloading http://packages/sniffio/sniffio-1.3.1-py3-none-any.whl (10 kB)
#6 11.48 Installing collected packages: distlib, typing-extensions, truststore, tomlkit, socksio, sniffio, shellingham, resolvelib, python-dotenv, pyproject-hooks, pygments, platformdirs, pbs-installer, msgpack, mdurl, installer, idna, h11, findpython, filelock, dep-logic, certifi, blinker, virtualenv, markdown-it-py, httpcore, anyio, rich, httpx, unearth, hishel, pdm
#6 14.44 Successfully installed anyio-4.8.0 blinker-1.9.0 certifi-2024.12.14 dep-logic-0.4.10 distlib-0.3.9 filelock-3.16.1 findpython-0.6.2 h11-0.14.0 hishel-0.1.1 httpcore-1.0.7 httpx-0.28.1 idna-3.10 installer-0.7.0 markdown-it-py-3.0.0 mdurl-0.1.2 msgpack-1.1.0 pbs-installer-2025.1.6 pdm-2.22.1 platformdirs-4.3.6 pygments-2.19.1 pyproject-hooks-1.2.0 python-dotenv-1.0.1 resolvelib-1.1.0 rich-13.9.4 shellingham-1.5.4 sniffio-1.3.1 socksio-1.0.0 tomlkit-0.13.2 truststore-0.10.0 typing-extensions-4.12.2 unearth-0.17.2 virtualenv-20.28.1
#6 14.44 WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager, possibly rendering your system unusable.It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv. Use the --root-user-action option if you know what you are doing and want to suppress this warning.
#6 15.57 WARNING: Lockfile is generated on an older version of PDM
#6 15.57 WARNING: Lockfile hash doesn't match pyproject.toml, packages may be outdated
#6 15.57 Updating the lock file...
#6 15.57 DEPRECATED: `cross_platform` strategy is deprecated in favor of the new lock targets.
#6 15.57 See docs: http://pdm-project.org/en/latest/usage/lock-targets/
#6 15.59 WARNING: Project requires a python version of <3.13,>=3.9, The virtualenv is being created for you as it cannot be matched to the right version.
#6 15.60 INFO: python.use_venv is on, creating a virtualenv for this project...
#6 16.91 Virtualenv is created successfully at /repo/.venv
#6 32.79 Changes are written to pdm.lock.
#6 32.79   0:00:15 🔒 Lock successful.  
#6 32.79 STATUS: Resolving packages from lockfile...
#6 32.89 Synchronizing working set with resolved packages: 18 to add, 0 to update, 0 to remove
#6 32.89 
#6 34.76   ✔ Install setuptools 69.0.3 successful
#6 35.45   ✔ Install colorlog 6.8.0 successful
#6 36.07   ✔ Install robust-downloader 0.0.2 successful
#6 36.87   ✔ Install idna 3.6 successful
#6 37.27   ✔ Install exceptiongroup 1.2.0 successful
#6 37.27   ✔ Install requests 2.32.3 successful
#6 37.28   ✔ Install tomli 2.0.1 successful
#6 37.47   ✔ Install packaging 23.2 successful
#6 37.77   ✔ Install charset-normalizer 3.3.2 successful
#6 37.77   ✔ Install pluggy 1.5.0 successful
#6 37.88   ✔ Install iniconfig 2.0.0 successful
#6 38.12   ✔ Install urllib3 2.1.0 successful
#6 38.19   ✔ Install certifi 2023.11.17 successful
#6 38.48   ✔ Install tqdm 4.66.1 successful
#6 38.56   ✔ Install pybind11 2.11.1 successful
#6 38.65   ✔ Install pytest 8.2.2 successful
#6 39.14   ✔ Install fasttext-wheel 0.9.2 successful
#6 41.63   ✔ Install numpy 1.26.4 successful
#6 44.85   ✔ Install fast-langdetect 0.2.2 successful
#6 44.88 
#6 44.88   0:00:08 🎉 All complete! 18/18
#6 DONE 46.3s

#7 [4/5] RUN cd /repo && pytest --collect-only -q
#7 1.044 tests/test_detect.py::test_muti_detect
#7 1.044 tests/test_detect.py::test_large
#7 1.044 tests/test_detect.py::test_detect
#7 1.044 tests/test_detect.py::test_detect_totally
#7 1.044 tests/test_detect.py::test_failed_example
#7 1.044 
#7 1.044 5 tests collected in 0.03s
#7 DONE 1.2s

#8 exporting to image
#8 exporting layers
#8 exporting layers 1.4s done
#8 writing image sha256:ab13823a082223c3461457efa15252681cf4dbed36e27da64bb6db8a38794813 done
#8 naming to docker.io/library/tmp:tmp done
#8 DONE 1.4s
