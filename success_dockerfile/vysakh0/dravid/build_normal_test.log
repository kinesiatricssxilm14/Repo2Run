#0 building with "default" instance using docker driver

#1 [internal] load build definition from Dockerfile
#1 transferring dockerfile: 1.88kB done
#1 DONE 0.0s

#2 [internal] load metadata for docker.io/library/python:3.10
#2 DONE 0.0s

#3 [internal] load .dockerignore
#3 transferring context: 2B done
#3 DONE 0.0s

#4 [internal] load build context
#4 transferring context: 25.79kB done
#4 DONE 0.0s

#5 [1/7] FROM docker.io/library/python:3.10
#5 CACHED

#6 [2/7] COPY search_patch /search_patch
#6 DONE 0.0s

#7 [3/7] COPY code_edit.py /code_edit.py
#7 DONE 0.0s

#8 [4/7] RUN mkdir -p ~/.pip && touch ~/.pip/pip.conf &&     echo "[global]" >> ~/.pip/pip.conf && echo "index-url=http://simple/" >> ~/.pip/pip.conf && echo "[install]" >> ~/.pip/pip.conf && echo "trusted-host=pypi..org" >> ~/.pip/pip.conf &&     apt-get update && apt-get install -y curl &&     curl -sSL https://install.python-poetry.org | python -
#8 0.602 Get:1 http://deb.debian.org/debian bookworm InRelease [151 kB]
#8 0.960 Get:2 http://deb.debian.org/debian bookworm-updates InRelease [55.4 kB]
#8 1.062 Get:3 http://deb.debian.org/debian-security bookworm-security InRelease [48.0 kB]
#8 1.223 Get:4 http://deb.debian.org/debian bookworm/main amd64 Packages [8792 kB]
#8 1.746 Get:5 http://deb.debian.org/debian bookworm-updates/main amd64 Packages [13.5 kB]
#8 1.902 Get:6 http://deb.debian.org/debian-security bookworm-security/main amd64 Packages [243 kB]
#8 3.056 Fetched 9303 kB in 3s (3539 kB/s)
#8 3.056 Reading package lists...
#8 3.923 Reading package lists...
#8 4.669 Building dependency tree...
#8 4.900 Reading state information...
#8 5.283 curl is already the newest version (7.88.1-10+deb12u8).
#8 5.283 0 upgraded, 0 newly installed, 0 to remove and 33 not upgraded.
#8 24.63 Retrieving Poetry metadata
#8 24.63 
#8 24.63 # Welcome to Poetry!
#8 24.63 
#8 24.63 This will download and install the latest version of Poetry,
#8 24.63 a dependency and package manager for Python.
#8 24.63 
#8 24.63 It will add the `poetry` command to Poetry's bin directory, located at:
#8 24.63 
#8 24.63 /root/.local/bin
#8 24.63 
#8 24.63 You can uninstall at any time by executing this script with the --uninstall option,
#8 24.63 and these changes will be reverted.
#8 24.63 
#8 24.63 Installing Poetry (2.0.1)
#8 24.63 Installing Poetry (2.0.1): Creating environment
#8 24.63 Installing Poetry (2.0.1): Installing Poetry
#8 24.63 Installing Poetry (2.0.1): Creating script
#8 24.63 Installing Poetry (2.0.1): Done
#8 24.63 
#8 24.63 Poetry (2.0.1) is installed now. Great!
#8 24.63 
#8 24.63 To get started you need Poetry's bin directory (/root/.local/bin) in your `PATH`
#8 24.63 environment variable.
#8 24.63 
#8 24.63 Add `export PATH="/root/.local/bin:$PATH"` to your shell configuration file.
#8 24.63 
#8 24.63 Alternatively, you can call Poetry explicitly with `/root/.local/bin/poetry`.
#8 24.63 
#8 24.63 You can test that everything is set up by executing:
#8 24.63 
#8 24.63 `poetry --version`
#8 24.63 
#8 DONE 24.9s

#9 [5/7] RUN pip install pytest pytest-xdist &&     pip install pipdeptree &&     git clone https://github.com/vysakh0/dravid.git &&     mkdir /repo &&     git config --global --add safe.directory /repo &&     cp -r /dravid/. /repo && rm -rf /dravid/ &&     rm -rf /dravid &&     cd /repo && git checkout 25b03bfcf5327be83be0a9721fb24ac7d7157eed &&     cd /repo && poetry install &&     echo "from .server_monitor import DevServerMonitor" >> /repo/src/drd/cli/monitor/__init__.py &&     python /code_edit.py -t "/search_patch/0.patch" &&     python /code_edit.py -t "/search_patch/1.patch" &&     python /code_edit.py -t "/search_patch/2.patch" &&     cd /repo/src/drd/cli/monitor && git restore server_monitor.py &&     python /code_edit.py -t "/search_patch/3.patch" &&     echo "from .main import run_dev_server_with_monitoring  __all__ = ['run_dev_server_with_monitoring'] from .server_monitor import DevServerMonitor" > /repo/src/drd/cli/monitor/__init__.py &&     python /code_edit.py -t "/search_patch/4.patch" &&     python /code_edit.py -t "/search_patch/5.patch" &&     python /code_edit.py -t "/search_patch/6.patch"
#9 1.959 Looking in indexes: http://simple/
#9 2.161 Collecting pytest
#9 2.179   Downloading http://packages/pytest/pytest-8.3.4-py3-none-any.whl (343 kB)
#9 2.198      ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 343.1/343.1 kB 26.0 MB/s eta 0:00:00
#9 2.267 Collecting pytest-xdist
#9 2.282   Downloading http://packages/pytest-xdist/pytest_xdist-3.6.1-py3-none-any.whl (46 kB)
#9 2.291      ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 46.1/46.1 kB 7.4 MB/s eta 0:00:00
#9 2.359 Collecting tomli>=1
#9 2.374   Downloading http://packages/tomli/tomli-2.2.1-py3-none-any.whl (14 kB)
#9 2.408 Collecting iniconfig
#9 2.423   Downloading http://packages/iniconfig/iniconfig-2.0.0-py3-none-any.whl (5.9 kB)
#9 2.469 Collecting pluggy<2,>=1.5
#9 2.484   Downloading http://packages/pluggy/pluggy-1.5.0-py3-none-any.whl (20 kB)
#9 2.531 Collecting exceptiongroup>=1.0.0rc8
#9 2.546   Downloading http://packages/exceptiongroup/exceptiongroup-1.2.2-py3-none-any.whl (16 kB)
#9 2.621 Collecting packaging
#9 2.638   Downloading http://packages/packaging/packaging-24.2-py3-none-any.whl (65 kB)
#9 2.648      ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 65.5/65.5 kB 10.9 MB/s eta 0:00:00
#9 2.709 Collecting execnet>=2.1
#9 2.725   Downloading http://packages/execnet/execnet-2.1.1-py3-none-any.whl (40 kB)
#9 2.734      ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 40.6/40.6 kB 6.0 MB/s eta 0:00:00
#9 2.850 Installing collected packages: tomli, pluggy, packaging, iniconfig, execnet, exceptiongroup, pytest, pytest-xdist
#9 3.373 Successfully installed exceptiongroup-1.2.2 execnet-2.1.1 iniconfig-2.0.0 packaging-24.2 pluggy-1.5.0 pytest-8.3.4 pytest-xdist-3.6.1 tomli-2.2.1
#9 3.374 WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv
#9 3.485 
#9 3.485 [notice] A new release of pip is available: 23.0.1 -> 25.0
#9 3.485 [notice] To update, run: pip install --upgrade pip
#9 4.181 Looking in indexes: http://simple/
#9 4.257 Collecting pipdeptree
#9 4.275   Downloading http://packages/pipdeptree/pipdeptree-2.25.0-py3-none-any.whl (32 kB)
#9 4.403 Collecting pip>=24.2
#9 4.412   Using cached http://packages/pip/pip-25.0-py3-none-any.whl (1.8 MB)
#9 4.430 Requirement already satisfied: packaging>=24.1 in /usr/local/lib/python3.10/site-packages (from pipdeptree) (24.2)
#9 4.536 Installing collected packages: pip, pipdeptree
#9 4.536   Attempting uninstall: pip
#9 4.538     Found existing installation: pip 23.0.1
#9 4.696     Uninstalling pip-23.0.1:
#9 4.874       Successfully uninstalled pip-23.0.1
#9 6.124 Successfully installed pip-25.0 pipdeptree-2.25.0
#9 6.124 WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv
#9 6.362 Cloning into 'dravid'...
#9 8.429 Note: switching to '25b03bfcf5327be83be0a9721fb24ac7d7157eed'.
#9 8.429 
#9 8.429 You are in 'detached HEAD' state. You can look around, make experimental
#9 8.429 changes and commit them, and you can discard any commits you make in this
#9 8.429 state without impacting any branches by switching back to a branch.
#9 8.429 
#9 8.429 If you want to create a new branch to retain commits you create, you may
#9 8.429 do so (now or later) by using -c with the switch command. Example:
#9 8.429 
#9 8.429   git switch -c <new-branch-name>
#9 8.429 
#9 8.429 Or undo this operation with:
#9 8.429 
#9 8.429   git switch -
#9 8.429 
#9 8.429 Turn off this advice by setting config variable advice.detachedHead to false
#9 8.429 
#9 8.429 HEAD is now at 25b03bf bump version
#9 9.266 The "poetry.dev-dependencies" section is deprecated and will be removed in a future version. Use "poetry.group.dev.dependencies" instead.
#9 9.374 Creating virtualenv dravid-gW_DSdP6-py3.10 in /root/.cache/pypoetry/virtualenvs
#9 10.52 Installing dependencies from lock file
#9 10.76 
#9 10.76 Package operations: 29 installs, 0 updates, 0 removals
#9 10.76 
#9 10.76   - Installing certifi (2024.7.4)
#9 10.76   - Installing exceptiongroup (1.2.2)
#9 10.76   - Installing h11 (0.14.0)
#9 10.76   - Installing idna (3.7)
#9 10.77   - Installing sniffio (1.3.1)
#9 10.77   - Installing typing-extensions (4.12.2)
#9 13.08   - Installing annotated-types (0.7.0)
#9 13.08   - Installing anyio (4.4.0)
#9 13.08   - Installing iniconfig (2.0.0)
#9 13.09   - Installing packaging (24.1)
#9 13.09   - Installing httpcore (1.0.5)
#9 13.09   - Installing pluggy (1.5.0)
#9 13.09   - Installing tomli (2.0.1)
#9 13.10   - Installing pydantic-core (2.20.1)
#9 14.85   - Installing charset-normalizer (3.3.2)
#9 14.85   - Installing coverage (7.6.0)
#9 14.85   - Installing distro (1.9.0)
#9 14.85   - Installing httpx (0.27.0)
#9 14.86   - Installing pydantic (2.8.2)
#9 14.86   - Installing pytest (7.4.4)
#9 14.86   - Installing urllib3 (2.2.2)
#9 14.87   - Installing tqdm (4.66.4)
#9 15.83   - Installing click (8.1.7)
#9 15.83   - Installing colorama (0.4.6)
#9 15.84   - Installing lxml (5.2.2)
#9 15.84   - Installing openai (1.37.0)
#9 15.84   - Installing pytest-cov (5.0.0)
#9 15.84   - Installing python-dotenv (0.19.2)
#9 15.84   - Installing requests (2.32.3)
#9 17.30 
#9 17.30 Installing the current project: dravid (0.14.0)
#9 17.61 * Succeed Patch:
#9 17.61 --- areposrcdrdclimonitor__init__.py
#9 17.61 +++ breposrcdrdclimonitor__init__.py
#9 17.61 @@ -1,4 +1,4 @@
#9 17.61  from .main import run_dev_server_with_monitoring
#9 17.61  
#9 17.61  __all__ = ['run_dev_server_with_monitoring']
#9 17.61 -from .server_monitor import DevServerMonitor
#9 17.61 +from .server_monitor import DevServerMonitor, start_process
#9 17.61 
#9 17.61 
#9 17.68 * Succeed Patch:
#9 17.68 The new code snippet is inserted at the beginning of the file /repo/src/drd/cli/monitor/server_monitor.py
#9 17.68 --- reposrcdrdclimonitorserver_monitor.py
#9 17.68 +++ reposrcdrdclimonitorserver_monitor.py
#9 17.68 @@ -1,3 +1,6 @@
#9 17.68 +def start_process_helper(command, project_dir):
#9 17.68 +    monitor = DevServerMonitor(project_dir, {}, command)
#9 17.68 +    return monitor.start_process()
#9 17.68  import sys
#9 17.68  import time
#9 17.68  import re
#9 17.68 
#9 17.74 * Succeed Patch:
#9 17.74 --- areposrcdrdclimonitor__init__.py
#9 17.74 +++ breposrcdrdclimonitor__init__.py
#9 17.74 @@ -1,4 +1,4 @@
#9 17.74  from .main import run_dev_server_with_monitoring
#9 17.74  
#9 17.74  __all__ = ['run_dev_server_with_monitoring']
#9 17.74 -from .server_monitor import DevServerMonitor, start_process
#9 17.74 +from .server_monitor import DevServerMonitor, start_process_helper as start_process
#9 17.74 
#9 17.74 
#9 17.81 * Succeed Patch:
#9 17.81 * Fail Patch:
#9 17.81 #SEARCH/REPLACE block failed to match!
#9 17.81 
#9 17.81 ## SearchReplaceNoExactMatch: This SEARCH block failed to exactly match lines in /repo/src/drd/cli/monitor/__init__.py
#9 17.81 from .server_monitor import DevServerMonitor, start_process
#9 17.81 
#9 17.81 
#9 17.81 The SEARCH section must exactly match an existing block of lines including all white space, comments, indentation, docstrings, etc
#9 17.81 
#9 17.81 TIPS:
#9 17.81 * All patches must be based on the original code. Make sure it and try to provide more sufficient and unique old line(s) from snippet to facilitate matching.
#9 17.81 * Make sure your patch has right indentation.
#9 17.81 * Make sure your file path is correct.
#9 17.87 * Succeed Patch:
#9 17.87 --- areposrcdrdclimonitor__init__.py
#9 17.87 +++ breposrcdrdclimonitor__init__.py
#9 17.87 @@ -1 +1,4 @@
#9 17.87 -from .main import run_dev_server_with_monitoring  __all__ = ['run_dev_server_with_monitoring'] from .server_monitor import DevServerMonitor
#9 17.87 +from .main import run_dev_server_with_monitoring
#9 17.87 +
#9 17.87 +__all__ = ['run_dev_server_with_monitoring']
#9 17.87 +from .server_monitor import DevServerMonitor
#9 17.87 
#9 17.87 
#9 17.94 * Succeed Patch:
#9 17.94 The new code snippet is inserted at the beginning of the file /repo/src/drd/cli/monitor/server_monitor.py
#9 17.94 --- reposrcdrdclimonitorserver_monitor.py
#9 17.94 +++ reposrcdrdclimonitorserver_monitor.py
#9 17.94 @@ -1,3 +1,14 @@
#9 17.94 +def start_process(command, project_dir):
#9 17.94 +    return subprocess.Popen(
#9 17.94 +        command,
#9 17.94 +        stdout=subprocess.PIPE,
#9 17.94 +        stderr=subprocess.STDOUT,
#9 17.94 +        text=True,
#9 17.94 +        bufsize=1,
#9 17.94 +        universal_newlines=True,
#9 17.94 +        shell=True,
#9 17.94 +        cwd=project_dir
#9 17.94 +    )
#9 17.94  import sys
#9 17.94  import time
#9 17.94  import re
#9 17.94 
#9 18.00 * Succeed Patch:
#9 18.00 The new code snippet is inserted at the beginning of the file /repo/src/drd/cli/monitor/__init__.py
#9 18.00 --- reposrcdrdclimonitor__init__.py
#9 18.00 +++ reposrcdrdclimonitor__init__.py
#9 18.00 @@ -1,3 +1,4 @@
#9 18.00 +from .server_monitor import start_process
#9 18.00  from .main import run_dev_server_with_monitoring
#9 18.00  
#9 18.00  __all__ = ['run_dev_server_with_monitoring']
#9 18.00 
#9 DONE 18.3s

#10 [6/7] RUN cd /repo && pytest --collect-only -q
#10 1.424 ============================= test session starts ==============================
#10 1.424 platform linux -- Python 3.10.16, pytest-8.3.4, pluggy-1.5.0
#10 1.424 rootdir: /repo
#10 1.424 configfile: pyproject.toml
#10 1.424 testpaths: tests
#10 1.424 plugins: xdist-3.6.1
#10 1.424 collected 0 items / 25 errors
#10 1.424 
#10 1.424 ==================================== ERRORS ====================================
#10 1.424 _________________ ERROR collecting tests/api/test_api_main.py __________________
#10 1.424 ImportError while importing test module '/repo/tests/api/test_api_main.py'.
#10 1.424 Hint: make sure your test modules/packages have valid Python names.
#10 1.424 Traceback:
#10 1.424 /usr/local/lib/python3.10/importlib/__init__.py:126: in import_module
#10 1.424     return _bootstrap._gcd_import(name[level:], package, level)
#10 1.424 tests/api/test_api_main.py:3: in <module>
#10 1.424     from drd.api.main import (
#10 1.424 E   ModuleNotFoundError: No module named 'drd'
#10 1.424 ________________ ERROR collecting tests/api/test_claude_api.py _________________
#10 1.424 ImportError while importing test module '/repo/tests/api/test_claude_api.py'.
#10 1.424 Hint: make sure your test modules/packages have valid Python names.
#10 1.424 Traceback:
#10 1.424 /usr/local/lib/python3.10/importlib/__init__.py:126: in import_module
#10 1.424     return _bootstrap._gcd_import(name[level:], package, level)
#10 1.424 tests/api/test_claude_api.py:7: in <module>
#10 1.424     from drd.api.claude_api import (
#10 1.424 E   ModuleNotFoundError: No module named 'drd'
#10 1.424 ________________ ERROR collecting tests/api/test_openai_api.py _________________
#10 1.424 ImportError while importing test module '/repo/tests/api/test_openai_api.py'.
#10 1.424 Hint: make sure your test modules/packages have valid Python names.
#10 1.424 Traceback:
#10 1.424 /usr/local/lib/python3.10/importlib/__init__.py:126: in import_module
#10 1.424     return _bootstrap._gcd_import(name[level:], package, level)
#10 1.424 tests/api/test_openai_api.py:2: in <module>
#10 1.424     import requests
#10 1.424 E   ModuleNotFoundError: No module named 'requests'
#10 1.424 ________ ERROR collecting tests/cli/monitor/test_dev_server_monitor.py _________
#10 1.424 ImportError while importing test module '/repo/tests/cli/monitor/test_dev_server_monitor.py'.
#10 1.424 Hint: make sure your test modules/packages have valid Python names.
#10 1.424 Traceback:
#10 1.424 /usr/local/lib/python3.10/importlib/__init__.py:126: in import_module
#10 1.424     return _bootstrap._gcd_import(name[level:], package, level)
#10 1.424 tests/cli/monitor/test_dev_server_monitor.py:3: in <module>
#10 1.424     from drd.cli.monitor.server_monitor import DevServerMonitor, start_process
#10 1.424 E   ModuleNotFoundError: No module named 'drd'
#10 1.424 __________ ERROR collecting tests/cli/monitor/test_error_resolvers.py __________
#10 1.424 ImportError while importing test module '/repo/tests/cli/monitor/test_error_resolvers.py'.
#10 1.424 Hint: make sure your test modules/packages have valid Python names.
#10 1.424 Traceback:
#10 1.424 /usr/local/lib/python3.10/importlib/__init__.py:126: in import_module
#10 1.424     return _bootstrap._gcd_import(name[level:], package, level)
#10 1.424 tests/cli/monitor/test_error_resolvers.py:3: in <module>
#10 1.424     from drd.cli.monitor.error_resolver import monitoring_handle_error_with_dravid
#10 1.424 E   ModuleNotFoundError: No module named 'drd'
#10 1.424 ___________ ERROR collecting tests/cli/monitor/test_input_handler.py ___________
#10 1.424 ImportError while importing test module '/repo/tests/cli/monitor/test_input_handler.py'.
#10 1.424 Hint: make sure your test modules/packages have valid Python names.
#10 1.424 Traceback:
#10 1.424 /usr/local/lib/python3.10/importlib/__init__.py:126: in import_module
#10 1.424     return _bootstrap._gcd_import(name[level:], package, level)
#10 1.424 tests/cli/monitor/test_input_handler.py:3: in <module>
#10 1.424     from drd.cli.monitor.input_handler import InputHandler
#10 1.424 E   ModuleNotFoundError: No module named 'drd'
#10 1.424 ___________ ERROR collecting tests/cli/monitor/test_input_parser.py ____________
#10 1.424 ImportError while importing test module '/repo/tests/cli/monitor/test_input_parser.py'.
#10 1.424 Hint: make sure your test modules/packages have valid Python names.
#10 1.424 Traceback:
#10 1.424 /usr/local/lib/python3.10/importlib/__init__.py:126: in import_module
#10 1.424     return _bootstrap._gcd_import(name[level:], package, level)
#10 1.424 tests/cli/monitor/test_input_parser.py:4: in <module>
#10 1.424     from drd.cli.monitor.input_parser import InputParser
#10 1.424 E   ModuleNotFoundError: No module named 'drd'
#10 1.424 __________ ERROR collecting tests/cli/monitor/test_output_monitor.py ___________
#10 1.424 ImportError while importing test module '/repo/tests/cli/monitor/test_output_monitor.py'.
#10 1.424 Hint: make sure your test modules/packages have valid Python names.
#10 1.424 Traceback:
#10 1.424 /usr/local/lib/python3.10/importlib/__init__.py:126: in import_module
#10 1.424     return _bootstrap._gcd_import(name[level:], package, level)
#10 1.424 tests/cli/monitor/test_output_monitor.py:5: in <module>
#10 1.424     from drd.cli.monitor.output_monitor import OutputMonitor
#10 1.424 E   ModuleNotFoundError: No module named 'drd'
#10 1.424 _______ ERROR collecting tests/cli/query/test_dynamic_command_handler.py _______
#10 1.424 ImportError while importing test module '/repo/tests/cli/query/test_dynamic_command_handler.py'.
#10 1.424 Hint: make sure your test modules/packages have valid Python names.
#10 1.424 Traceback:
#10 1.424 /usr/local/lib/python3.10/importlib/__init__.py:126: in import_module
#10 1.424     return _bootstrap._gcd_import(name[level:], package, level)
#10 1.424 tests/cli/query/test_dynamic_command_handler.py:6: in <module>
#10 1.424     from drd.cli.query.dynamic_command_handler import (
#10 1.424 E   ModuleNotFoundError: No module named 'drd'
#10 1.424 ___________ ERROR collecting tests/cli/query/test_file_operations.py ___________
#10 1.424 ImportError while importing test module '/repo/tests/cli/query/test_file_operations.py'.
#10 1.424 Hint: make sure your test modules/packages have valid Python names.
#10 1.424 Traceback:
#10 1.424 /usr/local/lib/python3.10/importlib/__init__.py:126: in import_module
#10 1.424     return _bootstrap._gcd_import(name[level:], package, level)
#10 1.424 tests/cli/query/test_file_operations.py:5: in <module>
#10 1.424     from drd.cli.query.file_operations import get_files_to_modify, find_file_with_dravid
#10 1.424 E   ModuleNotFoundError: No module named 'drd'
#10 1.424 ____________ ERROR collecting tests/cli/query/test_image_handler.py ____________
#10 1.424 ImportError while importing test module '/repo/tests/cli/query/test_image_handler.py'.
#10 1.424 Hint: make sure your test modules/packages have valid Python names.
#10 1.424 Traceback:
#10 1.424 /usr/local/lib/python3.10/importlib/__init__.py:126: in import_module
#10 1.424     return _bootstrap._gcd_import(name[level:], package, level)
#10 1.424 tests/cli/query/test_image_handler.py:4: in <module>
#10 1.424     from drd.cli.query.image_handler import handle_image_query
#10 1.424 E   ModuleNotFoundError: No module named 'drd'
#10 1.424 _____________ ERROR collecting tests/cli/query/test_query_main.py ______________
#10 1.424 ImportError while importing test module '/repo/tests/cli/query/test_query_main.py'.
#10 1.424 Hint: make sure your test modules/packages have valid Python names.
#10 1.424 Traceback:
#10 1.424 /usr/local/lib/python3.10/importlib/__init__.py:126: in import_module
#10 1.424     return _bootstrap._gcd_import(name[level:], package, level)
#10 1.424 tests/cli/query/test_query_main.py:3: in <module>
#10 1.424     import requests
#10 1.424 E   ModuleNotFoundError: No module named 'requests'
#10 1.424 _____________ ERROR collecting tests/metadata/test_common_utils.py _____________
#10 1.424 ImportError while importing test module '/repo/tests/metadata/test_common_utils.py'.
#10 1.424 Hint: make sure your test modules/packages have valid Python names.
#10 1.424 Traceback:
#10 1.424 /usr/local/lib/python3.10/importlib/__init__.py:126: in import_module
#10 1.424     return _bootstrap._gcd_import(name[level:], package, level)
#10 1.424 tests/metadata/test_common_utils.py:7: in <module>
#10 1.424     from drd.metadata.common_utils import (
#10 1.424 E   ModuleNotFoundError: No module named 'drd'
#10 1.424 _____________ ERROR collecting tests/metadata/test_initializer.py ______________
#10 1.424 ImportError while importing test module '/repo/tests/metadata/test_initializer.py'.
#10 1.424 Hint: make sure your test modules/packages have valid Python names.
#10 1.424 Traceback:
#10 1.424 /usr/local/lib/python3.10/importlib/__init__.py:126: in import_module
#10 1.424     return _bootstrap._gcd_import(name[level:], package, level)
#10 1.424 tests/metadata/test_initializer.py:8: in <module>
#10 1.424     from drd.metadata.initializer import initialize_project_metadata, initialize_project_metadata_sync
#10 1.424 E   ModuleNotFoundError: No module named 'drd'
#10 1.424 ___________ ERROR collecting tests/metadata/test_project_metadata.py ___________
#10 1.426 ImportError while importing test module '/repo/tests/metadata/test_project_metadata.py'.
#10 1.426 Hint: make sure your test modules/packages have valid Python names.
#10 1.426 Traceback:
#10 1.426 /usr/local/lib/python3.10/importlib/__init__.py:126: in import_module
#10 1.426     return _bootstrap._gcd_import(name[level:], package, level)
#10 1.426 tests/metadata/test_project_metadata.py:9: in <module>
#10 1.426     from src.drd.metadata.project_metadata import ProjectMetadataManager
#10 1.426 src/drd/__init__.py:1: in <module>
#10 1.426     from .cli.main import dravid_cli
#10 1.426 src/drd/cli/__init__.py:1: in <module>
#10 1.426     from .main import dravid_cli
#10 1.426 src/drd/cli/main.py:1: in <module>
#10 1.426     import click
#10 1.426 E   ModuleNotFoundError: No module named 'click'
#10 1.426 __________ ERROR collecting tests/metadata/test_rate_limit_handler.py __________
#10 1.426 ImportError while importing test module '/repo/tests/metadata/test_rate_limit_handler.py'.
#10 1.426 Hint: make sure your test modules/packages have valid Python names.
#10 1.426 Traceback:
#10 1.426 /usr/local/lib/python3.10/importlib/__init__.py:126: in import_module
#10 1.426     return _bootstrap._gcd_import(name[level:], package, level)
#10 1.426 tests/metadata/test_rate_limit_handler.py:8: in <module>
#10 1.426     from drd.metadata.rate_limit_handler import (
#10 1.426 E   ModuleNotFoundError: No module named 'drd'
#10 1.426 _______________ ERROR collecting tests/metadata/test_updater.py ________________
#10 1.426 ImportError while importing test module '/repo/tests/metadata/test_updater.py'.
#10 1.426 Hint: make sure your test modules/packages have valid Python names.
#10 1.426 Traceback:
#10 1.426 /usr/local/lib/python3.10/importlib/__init__.py:126: in import_module
#10 1.426     return _bootstrap._gcd_import(name[level:], package, level)
#10 1.426 tests/metadata/test_updater.py:6: in <module>
#10 1.426     from drd.metadata.updater import update_metadata_with_dravid
#10 1.426 E   ModuleNotFoundError: No module named 'drd'
#10 1.426 ______________ ERROR collecting tests/utils/test_apply_changes.py ______________
#10 1.426 ImportError while importing test module '/repo/tests/utils/test_apply_changes.py'.
#10 1.426 Hint: make sure your test modules/packages have valid Python names.
#10 1.426 Traceback:
#10 1.426 /usr/local/lib/python3.10/importlib/__init__.py:126: in import_module
#10 1.426     return _bootstrap._gcd_import(name[level:], package, level)
#10 1.426 tests/utils/test_apply_changes.py:2: in <module>
#10 1.426     from drd.utils.step_executor import apply_changes  # Update this import as needed
#10 1.426 E   ModuleNotFoundError: No module named 'drd'
#10 1.426 __________________ ERROR collecting tests/utils/test_diff.py ___________________
#10 1.426 ImportError while importing test module '/repo/tests/utils/test_diff.py'.
#10 1.426 Hint: make sure your test modules/packages have valid Python names.
#10 1.426 Traceback:
#10 1.426 /usr/local/lib/python3.10/importlib/__init__.py:126: in import_module
#10 1.426     return _bootstrap._gcd_import(name[level:], package, level)
#10 1.426 tests/utils/test_diff.py:2: in <module>
#10 1.426     from drd.utils.diff import generate_colored_diff, preview_file_changes
#10 1.426 E   ModuleNotFoundError: No module named 'drd'
#10 1.426 _______________ ERROR collecting tests/utils/test_file_utils.py ________________
#10 1.426 ImportError while importing test module '/repo/tests/utils/test_file_utils.py'.
#10 1.426 Hint: make sure your test modules/packages have valid Python names.
#10 1.426 Traceback:
#10 1.426 /usr/local/lib/python3.10/importlib/__init__.py:126: in import_module
#10 1.426     return _bootstrap._gcd_import(name[level:], package, level)
#10 1.426 tests/utils/test_file_utils.py:4: in <module>
#10 1.426     from drd.utils.file_utils import (
#10 1.426 E   ModuleNotFoundError: No module named 'drd'
#10 1.426 _________________ ERROR collecting tests/utils/test_loader.py __________________
#10 1.426 ImportError while importing test module '/repo/tests/utils/test_loader.py'.
#10 1.426 Hint: make sure your test modules/packages have valid Python names.
#10 1.426 Traceback:
#10 1.426 /usr/local/lib/python3.10/importlib/__init__.py:126: in import_module
#10 1.426     return _bootstrap._gcd_import(name[level:], package, level)
#10 1.426 tests/utils/test_loader.py:8: in <module>
#10 1.426     from drd.utils.loader import Loader, run_with_loader
#10 1.426 E   ModuleNotFoundError: No module named 'drd'
#10 1.426 _________________ ERROR collecting tests/utils/test_parser.py __________________
#10 1.426 ImportError while importing test module '/repo/tests/utils/test_parser.py'.
#10 1.426 Hint: make sure your test modules/packages have valid Python names.
#10 1.426 Traceback:
#10 1.426 /usr/local/lib/python3.10/importlib/__init__.py:126: in import_module
#10 1.426     return _bootstrap._gcd_import(name[level:], package, level)
#10 1.426 tests/utils/test_parser.py:4: in <module>
#10 1.426     from lxml import etree
#10 1.426 E   ModuleNotFoundError: No module named 'lxml'
#10 1.426 ___________ ERROR collecting tests/utils/test_pretty_print_stream.py ___________
#10 1.426 ImportError while importing test module '/repo/tests/utils/test_pretty_print_stream.py'.
#10 1.426 Hint: make sure your test modules/packages have valid Python names.
#10 1.426 Traceback:
#10 1.426 /usr/local/lib/python3.10/importlib/__init__.py:126: in import_module
#10 1.426     return _bootstrap._gcd_import(name[level:], package, level)
#10 1.426 tests/utils/test_pretty_print_stream.py:1: in <module>
#10 1.426     from drd.utils.pretty_print_stream import stream_and_print_commands
#10 1.426 E   ModuleNotFoundError: No module named 'drd'
#10 1.426 ______________ ERROR collecting tests/utils/test_step_executor.py ______________
#10 1.426 ImportError while importing test module '/repo/tests/utils/test_step_executor.py'.
#10 1.426 Hint: make sure your test modules/packages have valid Python names.
#10 1.426 Traceback:
#10 1.426 /usr/local/lib/python3.10/importlib/__init__.py:126: in import_module
#10 1.426     return _bootstrap._gcd_import(name[level:], package, level)
#10 1.426 tests/utils/test_step_executor.py:9: in <module>
#10 1.426     from drd.utils.step_executor import Executor
#10 1.426 E   ModuleNotFoundError: No module named 'drd'
#10 1.426 __________________ ERROR collecting tests/utils/test_utils.py __________________
#10 1.426 ImportError while importing test module '/repo/tests/utils/test_utils.py'.
#10 1.426 Hint: make sure your test modules/packages have valid Python names.
#10 1.426 Traceback:
#10 1.426 /usr/local/lib/python3.10/importlib/__init__.py:126: in import_module
#10 1.426     return _bootstrap._gcd_import(name[level:], package, level)
#10 1.426 tests/utils/test_utils.py:6: in <module>
#10 1.426     from colorama import Fore, Style
#10 1.426 E   ModuleNotFoundError: No module named 'colorama'
#10 1.426 =========================== short test summary info ============================
#10 1.426 ERROR tests/api/test_api_main.py
#10 1.426 ERROR tests/api/test_claude_api.py
#10 1.426 ERROR tests/api/test_openai_api.py
#10 1.426 ERROR tests/cli/monitor/test_dev_server_monitor.py
#10 1.426 ERROR tests/cli/monitor/test_error_resolvers.py
#10 1.426 ERROR tests/cli/monitor/test_input_handler.py
#10 1.426 ERROR tests/cli/monitor/test_input_parser.py
#10 1.426 ERROR tests/cli/monitor/test_output_monitor.py
#10 1.426 ERROR tests/cli/query/test_dynamic_command_handler.py
#10 1.426 ERROR tests/cli/query/test_file_operations.py
#10 1.426 ERROR tests/cli/query/test_image_handler.py
#10 1.426 ERROR tests/cli/query/test_query_main.py
#10 1.426 ERROR tests/metadata/test_common_utils.py
#10 1.426 ERROR tests/metadata/test_initializer.py
#10 1.426 ERROR tests/metadata/test_project_metadata.py
#10 1.426 ERROR tests/metadata/test_rate_limit_handler.py
#10 1.426 ERROR tests/metadata/test_updater.py
#10 1.426 ERROR tests/utils/test_apply_changes.py
#10 1.426 ERROR tests/utils/test_diff.py
#10 1.426 ERROR tests/utils/test_file_utils.py
#10 1.426 ERROR tests/utils/test_loader.py
#10 1.426 ERROR tests/utils/test_parser.py
#10 1.426 ERROR tests/utils/test_pretty_print_stream.py
#10 1.426 ERROR tests/utils/test_step_executor.py
#10 1.426 ERROR tests/utils/test_utils.py
#10 1.426 !!!!!!!!!!!!!!!!!!! Interrupted: 25 errors during collection !!!!!!!!!!!!!!!!!!!
#10 1.426 ==================== no tests collected, 25 errors in 0.58s ====================
#10 ERROR: process "/bin/sh -c cd /repo && pytest --collect-only -q" did not complete successfully: exit code: 2
------
 > [6/7] RUN cd /repo && pytest --collect-only -q:
1.426 ERROR tests/utils/test_apply_changes.py
1.426 ERROR tests/utils/test_diff.py
1.426 ERROR tests/utils/test_file_utils.py
1.426 ERROR tests/utils/test_loader.py
1.426 ERROR tests/utils/test_parser.py
1.426 ERROR tests/utils/test_pretty_print_stream.py
1.426 ERROR tests/utils/test_step_executor.py
1.426 ERROR tests/utils/test_utils.py
1.426 !!!!!!!!!!!!!!!!!!! Interrupted: 25 errors during collection !!!!!!!!!!!!!!!!!!!
1.426 ==================== no tests collected, 25 errors in 0.58s ====================
------
Dockerfile:32
--------------------
  30 |         python /code_edit.py -t "/search_patch/5.patch" && \
  31 |         python /code_edit.py -t "/search_patch/6.patch"
  32 | >>> RUN cd /repo && pytest --collect-only -q
--------------------
ERROR: failed to solve: process "/bin/sh -c cd /repo && pytest --collect-only -q" did not complete successfully: exit code: 2
