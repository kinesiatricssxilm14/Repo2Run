#0 building with "default" instance using docker driver

#1 [internal] load build definition from Dockerfile
#1 transferring dockerfile: 1.35kB 0.0s done
#1 DONE 0.0s

#2 [internal] load metadata for docker.io/library/python:3.10
#2 DONE 0.0s

#3 [internal] load .dockerignore
#3 transferring context: 2B done
#3 DONE 0.0s

#4 [1/8] FROM docker.io/library/python:3.10
#4 DONE 0.0s

#5 [internal] load build context
#5 transferring context: 24.03kB 0.0s done
#5 DONE 0.0s

#4 [1/8] FROM docker.io/library/python:3.10
#4 CACHED

#6 [2/8] COPY search_patch /search_patch
#6 DONE 0.1s

#7 [3/8] COPY code_edit.py /code_edit.py
#7 DONE 0.0s

#8 [4/8] RUN mkdir -p ~/.pip && touch ~/.pip/pip.conf &&     echo "[global]" >> ~/.pip/pip.conf && echo "index-url=http://simple/" >> ~/.pip/pip.conf && echo "[install]" >> ~/.pip/pip.conf && echo "trusted-host=pypi..org" >> ~/.pip/pip.conf &&     apt-get update && apt-get install -y curl &&     curl -sSL https://install.python-poetry.org | python -
#8 0.882 Get:1 http://deb.debian.org/debian bookworm InRelease [151 kB]
#8 1.247 Get:2 http://deb.debian.org/debian bookworm-updates InRelease [55.4 kB]
#8 1.355 Get:3 http://deb.debian.org/debian-security bookworm-security InRelease [48.0 kB]
#8 1.461 Get:4 http://deb.debian.org/debian bookworm/main amd64 Packages [8792 kB]
#8 2.012 Get:5 http://deb.debian.org/debian bookworm-updates/main amd64 Packages [13.5 kB]
#8 2.176 Get:6 http://deb.debian.org/debian-security bookworm-security/main amd64 Packages [243 kB]
#8 3.362 Fetched 9303 kB in 3s (3480 kB/s)
#8 3.362 Reading package lists...
#8 4.200 Reading package lists...
#8 4.988 Building dependency tree...
#8 5.237 Reading state information...
#8 5.617 curl is already the newest version (7.88.1-10+deb12u8).
#8 5.617 0 upgraded, 0 newly installed, 0 to remove and 33 not upgraded.
#8 25.56 Retrieving Poetry metadata
#8 25.56 
#8 25.56 # Welcome to Poetry!
#8 25.56 
#8 25.56 This will download and install the latest version of Poetry,
#8 25.56 a dependency and package manager for Python.
#8 25.56 
#8 25.56 It will add the `poetry` command to Poetry's bin directory, located at:
#8 25.56 
#8 25.56 /root/.local/bin
#8 25.56 
#8 25.56 You can uninstall at any time by executing this script with the --uninstall option,
#8 25.56 and these changes will be reverted.
#8 25.56 
#8 25.56 Installing Poetry (2.0.1)
#8 25.56 Installing Poetry (2.0.1): Creating environment
#8 25.56 Installing Poetry (2.0.1): Installing Poetry
#8 25.56 Installing Poetry (2.0.1): Creating script
#8 25.56 Installing Poetry (2.0.1): Done
#8 25.56 
#8 25.56 Poetry (2.0.1) is installed now. Great!
#8 25.56 
#8 25.56 To get started you need Poetry's bin directory (/root/.local/bin) in your `PATH`
#8 25.56 environment variable.
#8 25.56 
#8 25.56 Add `export PATH="/root/.local/bin:$PATH"` to your shell configuration file.
#8 25.56 
#8 25.56 Alternatively, you can call Poetry explicitly with `/root/.local/bin/poetry`.
#8 25.56 
#8 25.56 You can test that everything is set up by executing:
#8 25.56 
#8 25.56 `poetry --version`
#8 25.56 
#8 DONE 25.9s

#9 [5/8] RUN pip install pytest pytest-xdist &&     pip install pipdeptree &&     git clone https://github.com/nlmatics/nlm-ingestor.git &&     mkdir /repo &&     git config --global --add safe.directory /repo &&     cp -r /nlm-ingestor/. /repo && rm -rf /nlm-ingestor/ &&     rm -rf /nlm-ingestor &&     cd /repo && git checkout c725429dbf46d6e633965ccbc4c24c14c97c6efc &&     cd /repo && pip install -e . &&     python -m nltk.downloader punkt
#9 2.211 Looking in indexes: http://simple/
#9 2.389 Collecting pytest
#9 2.407   Downloading http://packages/pytest/pytest-8.3.4-py3-none-any.whl (343 kB)
#9 2.426      ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 343.1/343.1 kB 25.8 MB/s eta 0:00:00
#9 2.506 Collecting pytest-xdist
#9 2.523   Downloading http://packages/pytest-xdist/pytest_xdist-3.6.1-py3-none-any.whl (46 kB)
#9 2.533      ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 46.1/46.1 kB 6.7 MB/s eta 0:00:00
#9 2.596 Collecting pluggy<2,>=1.5
#9 2.612   Downloading http://packages/pluggy/pluggy-1.5.0-py3-none-any.whl (20 kB)
#9 2.644 Collecting iniconfig
#9 2.661   Downloading http://packages/iniconfig/iniconfig-2.0.0-py3-none-any.whl (5.9 kB)
#9 2.716 Collecting exceptiongroup>=1.0.0rc8
#9 2.738   Downloading http://packages/exceptiongroup/exceptiongroup-1.2.2-py3-none-any.whl (16 kB)
#9 2.796 Collecting tomli>=1
#9 2.813   Downloading http://packages/tomli/tomli-2.2.1-py3-none-any.whl (14 kB)
#9 2.875 Collecting packaging
#9 2.890   Downloading http://packages/packaging/packaging-24.2-py3-none-any.whl (65 kB)
#9 2.899      ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 65.5/65.5 kB 11.8 MB/s eta 0:00:00
#9 2.956 Collecting execnet>=2.1
#9 2.972   Downloading http://packages/execnet/execnet-2.1.1-py3-none-any.whl (40 kB)
#9 2.983      ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 40.6/40.6 kB 5.1 MB/s eta 0:00:00
#9 3.144 Installing collected packages: tomli, pluggy, packaging, iniconfig, execnet, exceptiongroup, pytest, pytest-xdist
#9 3.713 Successfully installed exceptiongroup-1.2.2 execnet-2.1.1 iniconfig-2.0.0 packaging-24.2 pluggy-1.5.0 pytest-8.3.4 pytest-xdist-3.6.1 tomli-2.2.1
#9 3.713 WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv
#9 3.825 
#9 3.825 [notice] A new release of pip is available: 23.0.1 -> 25.0
#9 3.825 [notice] To update, run: pip install --upgrade pip
#9 4.496 Looking in indexes: http://simple/
#9 4.571 Collecting pipdeptree
#9 4.641   Downloading http://packages/pipdeptree/pipdeptree-2.25.0-py3-none-any.whl (32 kB)
#9 4.769 Collecting pip>=24.2
#9 4.779   Using cached http://packages/pip/pip-25.0-py3-none-any.whl (1.8 MB)
#9 4.797 Requirement already satisfied: packaging>=24.1 in /usr/local/lib/python3.10/site-packages (from pipdeptree) (24.2)
#9 4.903 Installing collected packages: pip, pipdeptree
#9 4.903   Attempting uninstall: pip
#9 4.904     Found existing installation: pip 23.0.1
#9 5.083     Uninstalling pip-23.0.1:
#9 5.369       Successfully uninstalled pip-23.0.1
#9 6.738 Successfully installed pip-25.0 pipdeptree-2.25.0
#9 6.738 WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv
#9 7.011 Cloning into 'nlm-ingestor'...
#9 23.95 Updating files:  15% (12/76)
Updating files:  17% (13/76)
Updating files:  18% (14/76)
Updating files:  19% (15/76)
Updating files:  21% (16/76)
Updating files:  22% (17/76)
Updating files:  23% (18/76)
Updating files:  25% (19/76)
Updating files:  26% (20/76)
Updating files:  27% (21/76)
Updating files:  28% (22/76)
Updating files:  30% (23/76)
Updating files:  31% (24/76)
Updating files:  32% (25/76)
Updating files:  34% (26/76)
Updating files:  35% (27/76)
Updating files:  36% (28/76)
Updating files:  38% (29/76)
Updating files:  39% (30/76)
Updating files:  40% (31/76)
Updating files:  42% (32/76)
Updating files:  43% (33/76)
Updating files:  44% (34/76)
Updating files:  46% (35/76)
Updating files:  47% (36/76)
Updating files:  48% (37/76)
Updating files:  50% (38/76)
Updating files:  51% (39/76)
Updating files:  52% (40/76)
Updating files:  53% (41/76)
Updating files:  55% (42/76)
Updating files:  56% (43/76)
Updating files:  57% (44/76)
Updating files:  59% (45/76)
Updating files:  60% (46/76)
Updating files:  61% (47/76)
Updating files:  63% (48/76)
Updating files:  64% (49/76)
Updating files:  65% (50/76)
Updating files:  67% (51/76)
Updating files:  68% (52/76)
Updating files:  69% (53/76)
Updating files:  71% (54/76)
Updating files:  72% (55/76)
Updating files:  73% (56/76)
Updating files:  75% (57/76)
Updating files:  76% (58/76)
Updating files:  77% (59/76)
Updating files:  78% (60/76)
Updating files:  80% (61/76)
Updating files:  81% (62/76)
Updating files:  82% (63/76)
Updating files:  84% (64/76)
Updating files:  85% (65/76)
Updating files:  86% (66/76)
Updating files:  88% (67/76)
Updating files:  89% (68/76)
Updating files:  90% (69/76)
Updating files:  92% (70/76)
Updating files:  93% (71/76)
Updating files:  94% (72/76)
Updating files:  96% (73/76)
Updating files:  97% (74/76)
Updating files:  98% (75/76)
Updating files: 100% (76/76)
Updating files: 100% (76/76), done.
#9 26.20 Note: switching to 'c725429dbf46d6e633965ccbc4c24c14c97c6efc'.
#9 26.20 
#9 26.20 You are in 'detached HEAD' state. You can look around, make experimental
#9 26.20 changes and commit them, and you can discard any commits you make in this
#9 26.20 state without impacting any branches by switching back to a branch.
#9 26.20 
#9 26.20 If you want to create a new branch to retain commits you create, you may
#9 26.20 do so (now or later) by using -c with the switch command. Example:
#9 26.20 
#9 26.20   git switch -c <new-branch-name>
#9 26.20 
#9 26.20 Or undo this operation with:
#9 26.20 
#9 26.20   git switch -
#9 26.20 
#9 26.20 Turn off this advice by setting config variable advice.detachedHead to false
#9 26.20 
#9 26.20 HEAD is now at c725429 Merge pull request #87 from hguhlich/hg/fix-bug-in-indent-parser
#9 26.77 Looking in indexes: http://simple/
#9 26.77 Obtaining file:///repo
#9 26.78   Preparing metadata (setup.py): started
#9 27.74   Preparing metadata (setup.py): finished with status 'done'
#9 27.80 Collecting flask (from nlm-ingestor==0.1.7)
#9 27.81   Downloading http://packages/flask/flask-3.1.0-py3-none-any.whl (102 kB)
#9 27.84 Collecting flask_restful (from nlm-ingestor==0.1.7)
#9 27.86   Downloading http://packages/flask-restful/Flask_RESTful-0.3.10-py2.py3-none-any.whl (26 kB)
#9 27.88 Collecting flask_jsonpify (from nlm-ingestor==0.1.7)
#9 27.98   Downloading http://packages/flask-jsonpify/Flask-Jsonpify-1.5.0.tar.gz (3.0 kB)
#9 28.00   Preparing metadata (setup.py): started
#9 28.36   Preparing metadata (setup.py): finished with status 'done'
#9 28.39 Collecting gunicorn (from nlm-ingestor==0.1.7)
#9 28.41   Downloading http://packages/gunicorn/gunicorn-23.0.0-py3-none-any.whl (85 kB)
#9 28.49 Collecting werkzeug (from nlm-ingestor==0.1.7)
#9 28.51   Downloading http://packages/werkzeug/werkzeug-3.1.3-py3-none-any.whl (224 kB)
#9 28.61 Collecting tika (from nlm-ingestor==0.1.7)
#9 28.70   Downloading http://packages/tika/tika-2.6.0.tar.gz (27 kB)
#9 28.73   Preparing metadata (setup.py): started
#9 29.16   Preparing metadata (setup.py): finished with status 'done'
#9 29.17 Collecting bs4 (from nlm-ingestor==0.1.7)
#9 29.19   Downloading http://packages/bs4/bs4-0.0.2-py2.py3-none-any.whl (1.2 kB)
#9 29.22 Collecting nltk (from nlm-ingestor==0.1.7)
#9 29.24   Downloading http://packages/nltk/nltk-3.9.1-py3-none-any.whl (1.5 MB)
#9 29.26      ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 1.5/1.5 MB 69.4 MB/s eta 0:00:00
#9 29.30 Collecting python-magic (from nlm-ingestor==0.1.7)
#9 29.32   Downloading http://packages/python-magic/python_magic-0.4.27-py2.py3-none-any.whl (13 kB)
#9 29.67 Collecting numpy (from nlm-ingestor==0.1.7)
#9 29.69   Downloading http://packages/numpy/numpy-2.2.2-cp310-cp310-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (16.4 MB)
#9 29.81      ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 16.4/16.4 MB 138.2 MB/s eta 0:00:00
#9 29.94 Collecting tqdm (from nlm-ingestor==0.1.7)
#9 29.96   Downloading http://packages/tqdm/tqdm-4.67.1-py3-none-any.whl (78 kB)
#9 30.00 Collecting symspellpy>=6.7.0 (from nlm-ingestor==0.1.7)
#9 30.32   Downloading http://packages/symspellpy/symspellpy-6.7.8-py3-none-any.whl (2.6 MB)
#9 30.34      ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 2.6/2.6 MB 101.1 MB/s eta 0:00:00
#9 30.58 Collecting pandas>=1.2.4 (from nlm-ingestor==0.1.7)
#9 30.60   Downloading http://packages/pandas/pandas-2.2.3-cp310-cp310-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (13.1 MB)
#9 30.72      ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 13.1/13.1 MB 108.4 MB/s eta 0:00:00
#9 30.86 Collecting mistune==2.0.3 (from nlm-ingestor==0.1.7)
#9 30.94   Downloading http://packages/mistune/mistune-2.0.3-py2.py3-none-any.whl (24 kB)
#9 31.29 Collecting lxml==4.9.1 (from nlm-ingestor==0.1.7)
#9 31.57   Downloading http://packages/lxml/lxml-4.9.1-cp310-cp310-manylinux_2_17_x86_64.manylinux2014_x86_64.manylinux_2_24_x86_64.whl (6.9 MB)
#9 31.63      ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 6.9/6.9 MB 110.0 MB/s eta 0:00:00
#9 31.69 Collecting unidecode (from nlm-ingestor==0.1.7)
#9 31.70   Downloading http://packages/unidecode/Unidecode-1.3.8-py3-none-any.whl (235 kB)
#9 31.73 Collecting nlm-utils (from nlm-ingestor==0.1.7)
#9 31.82   Downloading http://packages/nlm-utils/nlm_utils-0.1.2-py3-none-any.whl (74 kB)
#9 31.87 Collecting python-dateutil>=2.8.2 (from pandas>=1.2.4->nlm-ingestor==0.1.7)
#9 31.88   Downloading http://packages/python-dateutil/python_dateutil-2.9.0.post0-py2.py3-none-any.whl (229 kB)
#9 31.99 Collecting pytz>=2020.1 (from pandas>=1.2.4->nlm-ingestor==0.1.7)
#9 32.00   Downloading http://packages/pytz/pytz-2025.1-py2.py3-none-any.whl (507 kB)
#9 32.05 Collecting tzdata>=2022.7 (from pandas>=1.2.4->nlm-ingestor==0.1.7)
#9 32.06   Downloading http://packages/tzdata/tzdata-2025.1-py2.py3-none-any.whl (346 kB)
#9 32.16 Collecting editdistpy>=0.1.3 (from symspellpy>=6.7.0->nlm-ingestor==0.1.7)
#9 32.24   Downloading http://packages/editdistpy/editdistpy-0.1.5-cp310-cp310-manylinux_2_5_x86_64.manylinux1_x86_64.manylinux_2_17_x86_64.manylinux2014_x86_64.whl (144 kB)
#9 32.28 Collecting beautifulsoup4 (from bs4->nlm-ingestor==0.1.7)
#9 32.29   Downloading http://packages/beautifulsoup4/beautifulsoup4-4.13.3-py3-none-any.whl (186 kB)
#9 32.34 Collecting Jinja2>=3.1.2 (from flask->nlm-ingestor==0.1.7)
#9 32.36   Downloading http://packages/jinja2/jinja2-3.1.5-py3-none-any.whl (134 kB)
#9 32.39 Collecting itsdangerous>=2.2 (from flask->nlm-ingestor==0.1.7)
#9 32.40   Downloading http://packages/itsdangerous/itsdangerous-2.2.0-py3-none-any.whl (16 kB)
#9 32.48 Collecting click>=8.1.3 (from flask->nlm-ingestor==0.1.7)
#9 32.50   Downloading http://packages/click/click-8.1.8-py3-none-any.whl (98 kB)
#9 32.53 Collecting blinker>=1.9 (from flask->nlm-ingestor==0.1.7)
#9 32.54   Downloading http://packages/blinker/blinker-1.9.0-py3-none-any.whl (8.5 kB)
#9 32.66 Collecting MarkupSafe>=2.1.1 (from werkzeug->nlm-ingestor==0.1.7)
#9 32.68   Downloading http://packages/markupsafe/MarkupSafe-3.0.2-cp310-cp310-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (20 kB)
#9 32.72 Collecting aniso8601>=0.82 (from flask_restful->nlm-ingestor==0.1.7)
#9 32.73   Downloading http://packages/aniso8601/aniso8601-10.0.0-py2.py3-none-any.whl (52 kB)
#9 32.77 Collecting six>=1.3.0 (from flask_restful->nlm-ingestor==0.1.7)
#9 32.79   Downloading http://packages/six/six-1.17.0-py2.py3-none-any.whl (11 kB)
#9 32.80 Requirement already satisfied: packaging in /usr/local/lib/python3.10/site-packages (from gunicorn->nlm-ingestor==0.1.7) (24.2)
#9 33.56 Collecting aiohttp==3.8.5 (from nlm-utils->nlm-ingestor==0.1.7)
#9 33.58   Downloading http://packages/aiohttp/aiohttp-3.8.5-cp310-cp310-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (1.0 MB)
#9 33.60      ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 1.0/1.0 MB 62.8 MB/s eta 0:00:00
#9 33.63 Collecting dateparser (from nlm-utils->nlm-ingestor==0.1.7)
#9 33.65   Downloading http://packages/dateparser/dateparser-1.2.1-py3-none-any.whl (295 kB)
#9 33.69 Collecting dnspython==2.1.0 (from nlm-utils->nlm-ingestor==0.1.7)
#9 33.71   Downloading http://packages/dnspython/dnspython-2.1.0-py3-none-any.whl (241 kB)
#9 33.74 Collecting word2number (from nlm-utils->nlm-ingestor==0.1.7)
#9 33.76   Downloading http://packages/word2number/word2number-1.1.zip (9.7 kB)
#9 33.77   Preparing metadata (setup.py): started
#9 34.17   Preparing metadata (setup.py): finished with status 'done'
#9 34.22 Collecting minio==7.1.0 (from nlm-utils->nlm-ingestor==0.1.7)
#9 34.34   Downloading http://packages/minio/minio-7.1.0-py3-none-any.whl (75 kB)
#9 34.37 Collecting money==1.3.0 (from nlm-utils->nlm-ingestor==0.1.7)
#9 34.47   Downloading http://packages/money/money-1.3.0.tar.gz (18 kB)
#9 34.49   Preparing metadata (setup.py): started
#9 34.85   Preparing metadata (setup.py): finished with status 'done'
#9 34.97 Collecting msgpack==1.0.2 (from nlm-utils->nlm-ingestor==0.1.7)
#9 35.07   Downloading http://packages/msgpack/msgpack-1.0.2.tar.gz (123 kB)
#9 35.10   Preparing metadata (setup.py): started
#9 35.48   Preparing metadata (setup.py): finished with status 'done'
#9 35.48 Collecting nltk (from nlm-ingestor==0.1.7)
#9 35.50   Downloading http://packages/nltk/nltk-3.6.2-py3-none-any.whl (1.5 MB)
#9 35.52      ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 1.5/1.5 MB 87.6 MB/s eta 0:00:00
#9 35.55 Collecting numpy (from nlm-ingestor==0.1.7)
#9 35.57   Downloading http://packages/numpy/numpy-1.24.4-cp310-cp310-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (17.3 MB)
#9 35.70      ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 17.3/17.3 MB 130.6 MB/s eta 0:00:00
#9 35.87 Collecting openai (from nlm-utils->nlm-ingestor==0.1.7)
#9 35.89   Downloading http://packages/openai/openai-1.61.1-py3-none-any.whl (463 kB)
#9 36.57 Collecting pymongo==3.11.4 (from nlm-utils->nlm-ingestor==0.1.7)
#9 36.73   Downloading http://packages/pymongo/pymongo-3.11.4.tar.gz (783 kB)
#9 36.75      ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 783.1/783.1 kB 50.0 MB/s eta 0:00:00
#9 36.92   Preparing metadata (setup.py): started
#9 37.39   Preparing metadata (setup.py): finished with status 'done'
#9 37.44 Collecting redis==3.5.3 (from nlm-utils->nlm-ingestor==0.1.7)
#9 37.46   Downloading http://packages/redis/redis-3.5.3-py2.py3-none-any.whl (72 kB)
#9 37.52 Collecting tiktoken (from nlm-utils->nlm-ingestor==0.1.7)
#9 37.54   Downloading http://packages/tiktoken/tiktoken-0.8.0-cp310-cp310-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (1.2 MB)
#9 37.56      ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 1.2/1.2 MB 74.9 MB/s eta 0:00:00
#9 37.61 Collecting urllib3==1.26.6 (from nlm-utils->nlm-ingestor==0.1.7)
#9 37.63   Downloading http://packages/urllib3/urllib3-1.26.6-py2.py3-none-any.whl (138 kB)
#9 37.80 Collecting xxhash==2.0.2 (from nlm-utils->nlm-ingestor==0.1.7)
#9 37.91   Downloading http://packages/xxhash/xxhash-2.0.2.tar.gz (64 kB)
#9 37.94   Preparing metadata (setup.py): started
#9 38.38   Preparing metadata (setup.py): finished with status 'done'
#9 38.39 Collecting python-magic (from nlm-ingestor==0.1.7)
#9 38.47   Downloading http://packages/python-magic/python_magic-0.4.22-py2.py3-none-any.whl (12 kB)
#9 38.50 Collecting dicttoxml (from nlm-utils->nlm-ingestor==0.1.7)
#9 38.53   Downloading http://packages/dicttoxml/dicttoxml-1.7.16-py3-none-any.whl (24 kB)
#9 38.54 WARNING: Package 'nltk' has an invalid Requires-Python: Invalid specifier: '>=3.5.*'
#9 38.58 Collecting joblib (from nltk->nlm-ingestor==0.1.7)
#9 38.60   Downloading http://packages/joblib/joblib-1.4.2-py3-none-any.whl (301 kB)
#9 39.35 Collecting regex (from nltk->nlm-ingestor==0.1.7)
#9 39.36   Downloading http://packages/regex/regex-2024.11.6-cp310-cp310-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (781 kB)
#9 39.38      ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 781.7/781.7 kB 47.3 MB/s eta 0:00:00
#9 39.43 Collecting attrs>=17.3.0 (from aiohttp==3.8.5->nlm-utils->nlm-ingestor==0.1.7)
#9 39.44   Downloading http://packages/attrs/attrs-25.1.0-py3-none-any.whl (63 kB)
#9 39.62 Collecting charset-normalizer<4.0,>=2.0 (from aiohttp==3.8.5->nlm-utils->nlm-ingestor==0.1.7)
#9 39.63   Using cached http://packages/charset-normalizer/charset_normalizer-3.4.1-cp310-cp310-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (146 kB)
#9 40.02 Collecting multidict<7.0,>=4.5 (from aiohttp==3.8.5->nlm-utils->nlm-ingestor==0.1.7)
#9 40.04   Downloading http://packages/multidict/multidict-6.1.0-cp310-cp310-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (124 kB)
#9 40.07 Collecting async-timeout<5.0,>=4.0.0a3 (from aiohttp==3.8.5->nlm-utils->nlm-ingestor==0.1.7)
#9 40.09   Downloading http://packages/async-timeout/async_timeout-4.0.3-py3-none-any.whl (5.7 kB)
#9 40.66 Collecting yarl<2.0,>=1.0 (from aiohttp==3.8.5->nlm-utils->nlm-ingestor==0.1.7)
#9 40.67   Downloading http://packages/yarl/yarl-1.18.3-cp310-cp310-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (319 kB)
#9 40.80 Collecting frozenlist>=1.1.1 (from aiohttp==3.8.5->nlm-utils->nlm-ingestor==0.1.7)
#9 40.82   Downloading http://packages/frozenlist/frozenlist-1.5.0-cp310-cp310-manylinux_2_5_x86_64.manylinux1_x86_64.manylinux_2_17_x86_64.manylinux2014_x86_64.whl (241 kB)
#9 40.84 Collecting aiosignal>=1.1.2 (from aiohttp==3.8.5->nlm-utils->nlm-ingestor==0.1.7)
#9 40.86   Downloading http://packages/aiosignal/aiosignal-1.3.2-py2.py3-none-any.whl (7.6 kB)
#9 40.93 Collecting certifi (from minio==7.1.0->nlm-utils->nlm-ingestor==0.1.7)
#9 40.94   Using cached http://packages/certifi/certifi-2025.1.31-py3-none-any.whl (166 kB)
#9 40.98 Requirement already satisfied: setuptools in /usr/local/lib/python3.10/site-packages (from tika->nlm-ingestor==0.1.7) (65.5.1)
#9 41.04 Collecting requests (from tika->nlm-ingestor==0.1.7)
#9 41.05   Using cached http://packages/requests/requests-2.32.3-py3-none-any.whl (64 kB)
#9 41.16 Collecting soupsieve>1.2 (from beautifulsoup4->bs4->nlm-ingestor==0.1.7)
#9 41.18   Downloading http://packages/soupsieve/soupsieve-2.6-py3-none-any.whl (36 kB)
#9 41.21 Collecting typing-extensions>=4.0.0 (from beautifulsoup4->bs4->nlm-ingestor==0.1.7)
#9 41.23   Downloading http://packages/typing-extensions/typing_extensions-4.12.2-py3-none-any.whl (37 kB)
#9 41.34 Collecting tzlocal>=0.2 (from dateparser->nlm-utils->nlm-ingestor==0.1.7)
#9 41.35   Downloading http://packages/tzlocal/tzlocal-5.2-py3-none-any.whl (17 kB)
#9 41.42 Collecting anyio<5,>=3.5.0 (from openai->nlm-utils->nlm-ingestor==0.1.7)
#9 41.44   Downloading http://packages/anyio/anyio-4.8.0-py3-none-any.whl (96 kB)
#9 41.62 Collecting distro<2,>=1.7.0 (from openai->nlm-utils->nlm-ingestor==0.1.7)
#9 41.64   Downloading http://packages/distro/distro-1.9.0-py3-none-any.whl (20 kB)
#9 41.69 Collecting httpx<1,>=0.23.0 (from openai->nlm-utils->nlm-ingestor==0.1.7)
#9 41.71   Downloading http://packages/httpx/httpx-0.28.1-py3-none-any.whl (73 kB)
#9 41.83 Collecting jiter<1,>=0.4.0 (from openai->nlm-utils->nlm-ingestor==0.1.7)
#9 41.85   Downloading http://packages/jiter/jiter-0.8.2-cp310-cp310-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (345 kB)
#9 42.10 Collecting pydantic<3,>=1.9.0 (from openai->nlm-utils->nlm-ingestor==0.1.7)
#9 42.12   Downloading http://packages/pydantic/pydantic-2.10.6-py3-none-any.whl (431 kB)
#9 42.15 Collecting sniffio (from openai->nlm-utils->nlm-ingestor==0.1.7)
#9 42.16   Downloading http://packages/sniffio/sniffio-1.3.1-py3-none-any.whl (10 kB)
#9 42.23 Collecting idna<4,>=2.5 (from requests->tika->nlm-ingestor==0.1.7)
#9 42.23   Using cached http://packages/idna/idna-3.10-py3-none-any.whl (70 kB)
#9 42.34 Requirement already satisfied: exceptiongroup>=1.0.2 in /usr/local/lib/python3.10/site-packages (from anyio<5,>=3.5.0->openai->nlm-utils->nlm-ingestor==0.1.7) (1.2.2)
#9 42.43 Collecting httpcore==1.* (from httpx<1,>=0.23.0->openai->nlm-utils->nlm-ingestor==0.1.7)
#9 42.45   Downloading http://packages/httpcore/httpcore-1.0.7-py3-none-any.whl (78 kB)
#9 42.48 Collecting h11<0.15,>=0.13 (from httpcore==1.*->httpx<1,>=0.23.0->openai->nlm-utils->nlm-ingestor==0.1.7)
#9 42.50   Downloading http://packages/h11/h11-0.14.0-py3-none-any.whl (58 kB)
#9 42.56 Collecting annotated-types>=0.6.0 (from pydantic<3,>=1.9.0->openai->nlm-utils->nlm-ingestor==0.1.7)
#9 42.58   Downloading http://packages/annotated-types/annotated_types-0.7.0-py3-none-any.whl (13 kB)
#9 43.89 Collecting pydantic-core==2.27.2 (from pydantic<3,>=1.9.0->openai->nlm-utils->nlm-ingestor==0.1.7)
#9 43.91   Downloading http://packages/pydantic-core/pydantic_core-2.27.2-cp310-cp310-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (2.0 MB)
#9 43.93      ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 2.0/2.0 MB 102.7 MB/s eta 0:00:00
#9 44.06 Collecting propcache>=0.2.0 (from yarl<2.0,>=1.0->aiohttp==3.8.5->nlm-utils->nlm-ingestor==0.1.7)
#9 44.07   Downloading http://packages/propcache/propcache-0.2.1-cp310-cp310-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (205 kB)
#9 44.11 Building wheels for collected packages: flask_jsonpify, money, msgpack, pymongo, xxhash, tika, word2number
#9 44.11   Building wheel for flask_jsonpify (setup.py): started
#9 44.73   Building wheel for flask_jsonpify (setup.py): finished with status 'done'
#9 44.73   Created wheel for flask_jsonpify: filename=Flask_Jsonpify-1.5.0-py3-none-any.whl size=3082 sha256=e880abbb79511662d94919114dd63ee248227452980a47cabccb122d5d3c8c96
#9 44.73   Stored in directory: /root/.cache/pip/wheels/ff/a4/5d/df225d786f1895930aa7660d2307bf35417ef07d49554c2796
#9 44.73   Building wheel for money (setup.py): started
#9 45.23   Building wheel for money (setup.py): finished with status 'done'
#9 45.23   Created wheel for money: filename=money-1.3.0-py3-none-any.whl size=6622 sha256=4d4b4b575af4123c94d9d8c8a9ff091a2f4765e030f9db2e0fe992e5c9a55be8
#9 45.23   Stored in directory: /root/.cache/pip/wheels/85/c7/54/17874b04243ce16134335437ea4c8113d040b529f0ace2df63
#9 45.24   Building wheel for msgpack (setup.py): started
#9 52.38   Building wheel for msgpack (setup.py): finished with status 'done'
#9 52.38   Created wheel for msgpack: filename=msgpack-1.0.2-cp310-cp310-linux_x86_64.whl size=316799 sha256=63bbd2b67a0a2a4627a6c254260c139ec67080ab4df50f4ad3b1a5e82e8ecfec
#9 52.38   Stored in directory: /root/.cache/pip/wheels/6a/c0/0d/1ba32788fec086ad1f0f700075fdf76b200f9343d0cb204f1a
#9 52.38   Building wheel for pymongo (setup.py): started
#9 56.12   Building wheel for pymongo (setup.py): finished with status 'done'
#9 56.12   Created wheel for pymongo: filename=pymongo-3.11.4-cp310-cp310-linux_x86_64.whl size=496853 sha256=ed4581497f622c3eecddeb9332266d1796a9eee0f86b1881c3ca090d1b80e242
#9 56.12   Stored in directory: /root/.cache/pip/wheels/6d/25/77/67ee13c73d5204b373f1732a87be0a8630acc2818653e49a4e
#9 56.13   Building wheel for xxhash (setup.py): started
#9 59.88   Building wheel for xxhash (setup.py): finished with status 'done'
#9 59.88   Created wheel for xxhash: filename=xxhash-2.0.2-cp310-cp310-linux_x86_64.whl size=203861 sha256=944c8fd86f3ffc37336d0a6f5300b894a5e5030f14598d74c7bad41e9f748a83
#9 59.88   Stored in directory: /root/.cache/pip/wheels/a9/91/c3/8a593dc85935ef37a482143e9cc693c096da277348d9fc9ecf
#9 59.88   Building wheel for tika (setup.py): started
#9 60.45   Building wheel for tika (setup.py): finished with status 'done'
#9 60.45   Created wheel for tika: filename=tika-2.6.0-py3-none-any.whl size=32623 sha256=d10a7c5beb5665440d39adf0e15c007e9d8753f80ebce3144e8e42c20253bac5
#9 60.45   Stored in directory: /root/.cache/pip/wheels/87/25/09/4be3251bdc94c641f2d795e08cd69f46ad5b79acca1917df67
#9 60.46   Building wheel for word2number (setup.py): started
#9 61.04   Building wheel for word2number (setup.py): finished with status 'done'
#9 61.04   Created wheel for word2number: filename=word2number-1.1-py3-none-any.whl size=5566 sha256=db5d5eb1f37190f3dd1ca11bdf892b070c4a492ea27482fe491e9f56278c8123
#9 61.04   Stored in directory: /root/.cache/pip/wheels/ca/5d/60/f3ed854f58369eaaed6335ef8fa1cb692cfe513f411498ef57
#9 61.04 Successfully built flask_jsonpify money msgpack pymongo xxhash tika word2number
#9 61.37 Installing collected packages: word2number, pytz, msgpack, money, mistune, aniso8601, xxhash, urllib3, unidecode, tzlocal, tzdata, typing-extensions, tqdm, soupsieve, sniffio, six, regex, redis, python-magic, pymongo, propcache, numpy, MarkupSafe, lxml, joblib, jiter, itsdangerous, idna, h11, gunicorn, frozenlist, editdistpy, dnspython, distro, dicttoxml, click, charset-normalizer, certifi, blinker, attrs, async-timeout, annotated-types, werkzeug, symspellpy, requests, python-dateutil, pydantic-core, nltk, multidict, minio, Jinja2, httpcore, beautifulsoup4, anyio, aiosignal, yarl, tiktoken, tika, pydantic, pandas, httpx, flask, dateparser, bs4, openai, flask_restful, flask_jsonpify, aiohttp, nlm-utils, nlm-ingestor
#9 77.94   DEPRECATION: Legacy editable install of nlm-ingestor==0.1.7 from file:///repo (setup.py develop) is deprecated. pip 25.1 will enforce this behaviour change. A possible replacement is to add a pyproject.toml or enable --use-pep517, and use setuptools >= 64. If the resulting installation is not behaving as expected, try using --config-settings editable_mode=compat. Please consult the setuptools documentation for more information. Discussion can be found at https://github.com/pypa/pip/issues/11457
#9 77.94   Running setup.py develop for nlm-ingestor
#9 78.64 Successfully installed Jinja2-3.1.5 MarkupSafe-3.0.2 aiohttp-3.8.5 aiosignal-1.3.2 aniso8601-10.0.0 annotated-types-0.7.0 anyio-4.8.0 async-timeout-4.0.3 attrs-25.1.0 beautifulsoup4-4.13.3 blinker-1.9.0 bs4-0.0.2 certifi-2025.1.31 charset-normalizer-3.4.1 click-8.1.8 dateparser-1.2.1 dicttoxml-1.7.16 distro-1.9.0 dnspython-2.1.0 editdistpy-0.1.5 flask-3.1.0 flask_jsonpify-1.5.0 flask_restful-0.3.10 frozenlist-1.5.0 gunicorn-23.0.0 h11-0.14.0 httpcore-1.0.7 httpx-0.28.1 idna-3.10 itsdangerous-2.2.0 jiter-0.8.2 joblib-1.4.2 lxml-4.9.1 minio-7.1.0 mistune-2.0.3 money-1.3.0 msgpack-1.0.2 multidict-6.1.0 nlm-ingestor nlm-utils-0.1.2 nltk-3.6.2 numpy-1.24.4 openai-1.61.1 pandas-2.2.3 propcache-0.2.1 pydantic-2.10.6 pydantic-core-2.27.2 pymongo-3.11.4 python-dateutil-2.9.0.post0 python-magic-0.4.22 pytz-2025.1 redis-3.5.3 regex-2024.11.6 requests-2.32.3 six-1.17.0 sniffio-1.3.1 soupsieve-2.6 symspellpy-6.7.8 tika-2.6.0 tiktoken-0.8.0 tqdm-4.67.1 typing-extensions-4.12.2 tzdata-2025.1 tzlocal-5.2 unidecode-1.3.8 urllib3-1.26.6 werkzeug-3.1.3 word2number-1.1 xxhash-2.0.2 yarl-1.18.3
#9 78.64 WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager, possibly rendering your system unusable. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv. Use the --root-user-action option if you know what you are doing and want to suppress this warning.
#9 80.04 /usr/local/lib/python3.10/runpy.py:126: RuntimeWarning: 'nltk.downloader' found in sys.modules after import of package 'nltk', but prior to execution of 'nltk.downloader'; this may result in unpredictable behaviour
#9 80.04   warn(RuntimeWarning(msg))
#9 80.75 [nltk_data] Downloading package punkt to /root/nltk_data...
#9 81.97 [nltk_data]   Unzipping tokenizers/punkt.zip.
#9 DONE 83.3s

#10 [6/8] RUN python -m nltk.downloader stopwords &&     python /code_edit.py -t "/search_patch/0.patch"
#10 0.826 /usr/local/lib/python3.10/runpy.py:126: RuntimeWarning: 'nltk.downloader' found in sys.modules after import of package 'nltk', but prior to execution of 'nltk.downloader'; this may result in unpredictable behaviour
#10 0.826   warn(RuntimeWarning(msg))
#10 2.183 [nltk_data] Downloading package stopwords to /root/nltk_data...
#10 3.374 [nltk_data]   Unzipping corpora/stopwords.zip.
#10 3.582 * Succeed Patch:
#10 3.582 --- areponlm_ingestoringestorline_parser.py
#10 3.582 +++ breponlm_ingestoringestorline_parser.py
#10 3.582 @@ -17,7 +17,8 @@
#10 3.582      logging.error(e)
#10 3.582      import nltk
#10 3.582  
#10 3.582 -    stopwords = nltk.download("stopwords")
#10 3.582 +    nltk.download("stopwords")
#10 3.582 +    stopwords = nltk.corpus.stopwords
#10 3.582      stop_words = set(stopwords.words("english"))
#10 3.582  
#10 3.582  stop_words.add("per")
#10 3.582 
#10 3.582 
#10 DONE 3.7s

#11 [7/8] RUN cd /repo && pytest --collect-only -q
#11 12.79 tests/test_line_parser.py::MyTest::test_continuing_line
#11 12.79 tests/test_line_parser.py::MyTest::test_counts
#11 12.79 tests/test_line_parser.py::MyTest::test_ends_with_abbreviation
#11 12.79 tests/test_line_parser.py::MyTest::test_incomplete_line
#11 12.79 tests/test_line_parser.py::MyTest::test_is_header
#11 12.79 tests/test_line_parser.py::MyTest::test_is_list_item
#11 12.79 tests/test_line_parser.py::MyTest::test_is_table_row
#11 12.79 tests/test_line_parser.py::MyTest::test_is_zipcode_or_po
#11 12.79 tests/test_line_parser.py::MyTest::test_line_type
#11 12.79 tests/test_line_parser.py::MyTest::test_non_ascii
#11 12.79 tests/test_line_parser.py::MyTest::test_noun_chunks
#11 12.79 tests/test_line_parser.py::MyTest::test_numbered_line
#11 12.79 tests/test_line_parser.py::MyTest::test_numbers
#11 12.79 tests/test_line_parser.py::MyTest::test_quotation_words
#11 12.79 tests/test_line_parser.py::MyTest::test_start_number
#11 12.79 tests/test_processor.py::MyTest::test_line_join
#11 12.79 tests/test_processor.py::MyTest::test_mixed_cased_words
#11 12.79 tests/test_processor.py::MyTest::test_spaced_characters
#11 12.79 tests/test_sent_tokenizer.py::PreProcessingTests::test_sentence_tokenizer
#11 12.79 
#11 12.79 19 tests collected in 11.73s
#11 DONE 15.5s

#12 exporting to image
#12 exporting layers
#12 exporting layers 4.8s done
#12 writing image sha256:ce4dd8dec148d0829f2be439c6850c081b50e5530ac873b7e84761455ae21911 done
#12 naming to docker.io/library/tmp:tmp done
#12 DONE 4.9s
