============================= test session starts ==============================
platform linux -- Python 3.10.16, pytest-7.1.2, pluggy-1.5.0 -- /usr/local/bin/python3.10
cachedir: .pytest_cache
rootdir: /repo, configfile: pyproject.toml
plugins: asyncio-cooperative-0.37.0, anyio-4.7.0, xdist-3.6.1
collecting ... /usr/local/lib/python3.10/site-packages/pluggy/_callers.py:156: RuntimeWarning: coroutine 'test_wrapper' was never awaited
  teardown[0].send(outcome)
RuntimeWarning: Enable tracemalloc to get the object allocation traceback
collected 110 items

<Package evals>
  <Module test_evals.py>
    <Function test_model[gpt-4o]>
    <Function test_model[gpt-4o-mini]>
    <Function test_model[claude-3-5-sonnet-20240620]>
    <Function test_simple>
    <Function test_multi_tool>
<Package unit_tests>
  <Module test_extraction.py>
    <Function test_extraction_with_retries[list-patches0-typeddict]>
    <Function test_extraction_with_retries[list-patches0-fn]>
    <Function test_extraction_with_retries[list-patches0-tool]>
    <Function test_extraction_with_retries[list-patches0-schema]>
    <Function test_extraction_with_retries[list-patches0-model]>
    <Function test_extraction_with_retries[list-patches0-injected_fn]>
    <Function test_extraction_with_retries[list-patches0-injected_tool]>
    <Function test_extraction_with_retries[list-patches1-typeddict]>
    <Function test_extraction_with_retries[list-patches1-fn]>
    <Function test_extraction_with_retries[list-patches1-tool]>
    <Function test_extraction_with_retries[list-patches1-schema]>
    <Function test_extraction_with_retries[list-patches1-model]>
    <Function test_extraction_with_retries[list-patches1-injected_fn]>
    <Function test_extraction_with_retries[list-patches1-injected_tool]>
    <Function test_extraction_with_retries[list-patches2-typeddict]>
    <Function test_extraction_with_retries[list-patches2-fn]>
    <Function test_extraction_with_retries[list-patches2-tool]>
    <Function test_extraction_with_retries[list-patches2-schema]>
    <Function test_extraction_with_retries[list-patches2-model]>
    <Function test_extraction_with_retries[list-patches2-injected_fn]>
    <Function test_extraction_with_retries[list-patches2-injected_tool]>
    <Function test_extraction_with_retries[prompt_value-patches0-typeddict]>
    <Function test_extraction_with_retries[prompt_value-patches0-fn]>
    <Function test_extraction_with_retries[prompt_value-patches0-tool]>
    <Function test_extraction_with_retries[prompt_value-patches0-schema]>
    <Function test_extraction_with_retries[prompt_value-patches0-model]>
    <Function test_extraction_with_retries[prompt_value-patches0-injected_fn]>
    <Function test_extraction_with_retries[prompt_value-patches0-injected_tool]>
    <Function test_extraction_with_retries[prompt_value-patches1-typeddict]>
    <Function test_extraction_with_retries[prompt_value-patches1-fn]>
    <Function test_extraction_with_retries[prompt_value-patches1-tool]>
    <Function test_extraction_with_retries[prompt_value-patches1-schema]>
    <Function test_extraction_with_retries[prompt_value-patches1-model]>
    <Function test_extraction_with_retries[prompt_value-patches1-injected_fn]>
    <Function test_extraction_with_retries[prompt_value-patches1-injected_tool]>
    <Function test_extraction_with_retries[prompt_value-patches2-typeddict]>
    <Function test_extraction_with_retries[prompt_value-patches2-fn]>
    <Function test_extraction_with_retries[prompt_value-patches2-tool]>
    <Function test_extraction_with_retries[prompt_value-patches2-schema]>
    <Function test_extraction_with_retries[prompt_value-patches2-model]>
    <Function test_extraction_with_retries[prompt_value-patches2-injected_fn]>
    <Function test_extraction_with_retries[prompt_value-patches2-injected_tool]>
    <Function test_extraction_with_retries[state-patches0-typeddict]>
    <Function test_extraction_with_retries[state-patches0-fn]>
    <Function test_extraction_with_retries[state-patches0-tool]>
    <Function test_extraction_with_retries[state-patches0-schema]>
    <Function test_extraction_with_retries[state-patches0-model]>
    <Function test_extraction_with_retries[state-patches0-injected_fn]>
    <Function test_extraction_with_retries[state-patches0-injected_tool]>
    <Function test_extraction_with_retries[state-patches1-typeddict]>
    <Function test_extraction_with_retries[state-patches1-fn]>
    <Function test_extraction_with_retries[state-patches1-tool]>
    <Function test_extraction_with_retries[state-patches1-schema]>
    <Function test_extraction_with_retries[state-patches1-model]>
    <Function test_extraction_with_retries[state-patches1-injected_fn]>
    <Function test_extraction_with_retries[state-patches1-injected_tool]>
    <Function test_extraction_with_retries[state-patches2-typeddict]>
    <Function test_extraction_with_retries[state-patches2-fn]>
    <Function test_extraction_with_retries[state-patches2-tool]>
    <Function test_extraction_with_retries[state-patches2-schema]>
    <Function test_extraction_with_retries[state-patches2-model]>
    <Function test_extraction_with_retries[state-patches2-injected_fn]>
    <Function test_extraction_with_retries[state-patches2-injected_tool]>
    <Function test_patch_existing[patches0-True-existing0-fn]>
    <Function test_patch_existing[patches0-True-existing0-tool]>
    <Function test_patch_existing[patches0-True-existing0-schema]>
    <Function test_patch_existing[patches0-True-existing0-model]>
    <Function test_patch_existing[patches0-False-existing1-fn]>
    <Function test_patch_existing[patches0-False-existing1-tool]>
    <Function test_patch_existing[patches0-False-existing1-schema]>
    <Function test_patch_existing[patches0-False-existing1-model]>
    <Function test_patch_existing[patches1-True-existing0-fn]>
    <Function test_patch_existing[patches1-True-existing0-tool]>
    <Function test_patch_existing[patches1-True-existing0-schema]>
    <Function test_patch_existing[patches1-True-existing0-model]>
    <Function test_patch_existing[patches1-False-existing1-fn]>
    <Function test_patch_existing[patches1-False-existing1-tool]>
    <Function test_patch_existing[patches1-False-existing1-schema]>
    <Function test_patch_existing[patches1-False-existing1-model]>
    <Function test_patch_existing[patches2-True-existing0-fn]>
    <Function test_patch_existing[patches2-True-existing0-tool]>
    <Function test_patch_existing[patches2-True-existing0-schema]>
    <Function test_patch_existing[patches2-True-existing0-model]>
    <Function test_patch_existing[patches2-False-existing1-fn]>
    <Function test_patch_existing[patches2-False-existing1-tool]>
    <Function test_patch_existing[patches2-False-existing1-schema]>
    <Function test_patch_existing[patches2-False-existing1-model]>
    <Function test_patch_existing[patches3-True-existing0-fn]>
    <Function test_patch_existing[patches3-True-existing0-tool]>
    <Function test_patch_existing[patches3-True-existing0-schema]>
    <Function test_patch_existing[patches3-True-existing0-model]>
    <Function test_patch_existing[patches3-False-existing1-fn]>
    <Function test_patch_existing[patches3-False-existing1-tool]>
    <Function test_patch_existing[patches3-False-existing1-schema]>
    <Function test_patch_existing[patches3-False-existing1-model]>
    <Function test_validate_existing[existing0-tools0-True]>
    <Function test_validate_existing[existing1-tools1-False]>
    <Function test_validate_existing[existing2-tools2-True]>
    <Function test_validate_existing[existing3-tools3-False]>
    <Function test_validate_existing[existing4-tools4-True]>
    <Function test_validate_existing[existing5-tools5-False]>
    <Function test_validate_existing[invalid_type-tools6-False]>
  <Module test_utils.py>
    <Function test_convert_any_typed_dicts_to_pydantic>
    <Function test_nested_typed_dict_conversion>
    <Function test_recursive_typed_dict_conversion>

========================= 110 tests collected in 1.20s =========================