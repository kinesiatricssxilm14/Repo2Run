#0 building with "default" instance using docker driver

#1 [internal] load build definition from Dockerfile
#1 transferring dockerfile: 2.13kB done
#1 DONE 0.0s

#2 [internal] load metadata for docker.io/library/python:3.10
#2 DONE 0.0s

#3 [internal] load .dockerignore
#3 transferring context: 2B done
#3 DONE 0.0s

#4 [internal] load build context
#4 transferring context: 24.23kB done
#4 DONE 0.0s

#5 [1/8] FROM docker.io/library/python:3.10
#5 CACHED

#6 [2/8] COPY search_patch /search_patch
#6 DONE 0.0s

#7 [3/8] COPY code_edit.py /code_edit.py
#7 DONE 0.0s

#8 [4/8] RUN mkdir -p ~/.pip && touch ~/.pip/pip.conf &&     echo "[global]" >> ~/.pip/pip.conf && echo "index-url=http://simple/" >> ~/.pip/pip.conf && echo "[install]" >> ~/.pip/pip.conf && echo "trusted-host=pypi..org" >> ~/.pip/pip.conf &&     apt-get update && apt-get install -y curl &&     curl -sSL https://install.python-poetry.org | python -
#8 0.704 Get:1 http://deb.debian.org/debian bookworm InRelease [151 kB]
#8 1.136 Get:2 http://deb.debian.org/debian bookworm-updates InRelease [55.4 kB]
#8 1.373 Get:3 http://deb.debian.org/debian-security bookworm-security InRelease [48.0 kB]
#8 1.555 Get:4 http://deb.debian.org/debian bookworm/main amd64 Packages [8789 kB]
#8 2.208 Get:5 http://deb.debian.org/debian bookworm-updates/main amd64 Packages [8856 B]
#8 2.443 Get:6 http://deb.debian.org/debian-security bookworm-security/main amd64 Packages [240 kB]
#8 3.644 Fetched 9292 kB in 3s (2832 kB/s)
#8 3.644 Reading package lists...
#8 4.503 Reading package lists...
#8 5.274 Building dependency tree...
#8 5.516 Reading state information...
#8 5.911 curl is already the newest version (7.88.1-10+deb12u8).
#8 5.911 0 upgraded, 0 newly installed, 0 to remove and 0 not upgraded.
#8 26.74 Retrieving Poetry metadata
#8 26.74 
#8 26.74 # Welcome to Poetry!
#8 26.74 
#8 26.74 This will download and install the latest version of Poetry,
#8 26.74 a dependency and package manager for Python.
#8 26.74 
#8 26.74 It will add the `poetry` command to Poetry's bin directory, located at:
#8 26.74 
#8 26.74 /root/.local/bin
#8 26.74 
#8 26.74 You can uninstall at any time by executing this script with the --uninstall option,
#8 26.74 and these changes will be reverted.
#8 26.74 
#8 26.74 Installing Poetry (2.0.0)
#8 26.74 Installing Poetry (2.0.0): Creating environment
#8 26.74 Installing Poetry (2.0.0): Installing Poetry
#8 26.74 Installing Poetry (2.0.0): Creating script
#8 26.74 Installing Poetry (2.0.0): Done
#8 26.74 
#8 26.74 Poetry (2.0.0) is installed now. Great!
#8 26.74 
#8 26.74 To get started you need Poetry's bin directory (/root/.local/bin) in your `PATH`
#8 26.74 environment variable.
#8 26.74 
#8 26.74 Add `export PATH="/root/.local/bin:$PATH"` to your shell configuration file.
#8 26.74 
#8 26.74 Alternatively, you can call Poetry explicitly with `/root/.local/bin/poetry`.
#8 26.74 
#8 26.74 You can test that everything is set up by executing:
#8 26.74 
#8 26.74 `poetry --version`
#8 26.74 
#8 DONE 27.0s

#9 [5/8] RUN pip install pytest pytest-xdist &&     pip install pipdeptree &&     git clone https://github.com/LMCache/LMCache.git &&     mkdir /repo &&     git config --global --add safe.directory /repo &&     cp -r /LMCache/. /repo && rm -rf /LMCache/ &&     rm -rf /LMCache &&     cd /repo && git checkout 7d344359cdcdcb955924c77afe4a0d2fbe050fc6 &&     pip install torch==2.5.1 &&     pip install numpy==1.26.4 &&     pip install pyyaml==6.0.2 &&     pip install redis==5.2.1 &&     pip install nvtx==0.2.10 &&     pip install safetensors==0.4.5 &&     pip install transformers==4.47.1 &&     pip install yapf==0.40.0 &&     pip install toml==0.10.2 &&     pip install tomli==2.0.1 &&     pip install ruff==0.6.5 &&     pip install codespell==2.3.0 &&     pip install isort==5.13.2 &&     pip install clang-format==18.1.5 &&     pip install mypy==1.11.2 &&     pip install types-PyYAML==6.0.12.20240917 &&     pip install types-requests==2.32.0.20241016 &&     pip install types-setuptools==75.6.0.20241126 &&     pip install pytest==8.3.4 &&     pip install pytest-benchmark==5.1.0 &&     pip install pytest-benchmark[histogram]==5.1.0 &&     pip install buildkite-test-collector==0.1.9 &&     apt-get update -qq
#9 1.883 Looking in indexes: http://simple/
#9 2.078 Collecting pytest
#9 2.097   Downloading http://packages/pytest/pytest-8.3.4-py3-none-any.whl (343 kB)
#9 2.121      ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 343.1/343.1 kB 17.4 MB/s eta 0:00:00
#9 2.198 Collecting pytest-xdist
#9 2.220   Downloading http://packages/pytest-xdist/pytest_xdist-3.6.1-py3-none-any.whl (46 kB)
#9 2.232      ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 46.1/46.1 kB 4.5 MB/s eta 0:00:00
#9 2.282 Collecting iniconfig
#9 2.304   Downloading http://packages/iniconfig/iniconfig-2.0.0-py3-none-any.whl (5.9 kB)
#9 2.349 Collecting exceptiongroup>=1.0.0rc8
#9 2.367   Downloading http://packages/exceptiongroup/exceptiongroup-1.2.2-py3-none-any.whl (16 kB)
#9 2.414 Collecting pluggy<2,>=1.5
#9 2.432   Downloading http://packages/pluggy/pluggy-1.5.0-py3-none-any.whl (20 kB)
#9 2.497 Collecting tomli>=1
#9 2.515   Downloading http://packages/tomli/tomli-2.2.1-py3-none-any.whl (14 kB)
#9 2.580 Collecting packaging
#9 2.599   Downloading http://packages/packaging/packaging-24.2-py3-none-any.whl (65 kB)
#9 2.610      ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 65.5/65.5 kB 7.0 MB/s eta 0:00:00
#9 2.676 Collecting execnet>=2.1
#9 2.696   Downloading http://packages/execnet/execnet-2.1.1-py3-none-any.whl (40 kB)
#9 2.703      ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 40.6/40.6 kB 8.2 MB/s eta 0:00:00
#9 2.817 Installing collected packages: tomli, pluggy, packaging, iniconfig, execnet, exceptiongroup, pytest, pytest-xdist
#9 3.397 Successfully installed exceptiongroup-1.2.2 execnet-2.1.1 iniconfig-2.0.0 packaging-24.2 pluggy-1.5.0 pytest-8.3.4 pytest-xdist-3.6.1 tomli-2.2.1
#9 3.397 WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv
#9 3.520 
#9 3.520 [notice] A new release of pip is available: 23.0.1 -> 24.3.1
#9 3.520 [notice] To update, run: pip install --upgrade pip
#9 4.204 Looking in indexes: http://simple/
#9 4.285 Collecting pipdeptree
#9 4.317   Downloading http://packages/pipdeptree/pipdeptree-2.24.0-py3-none-any.whl (32 kB)
#9 4.343 Requirement already satisfied: packaging>=24.1 in /usr/local/lib/python3.10/site-packages (from pipdeptree) (24.2)
#9 4.458 Collecting pip>=24.2
#9 4.468   Using cached http://packages/pip/pip-24.3.1-py3-none-any.whl (1.8 MB)
#9 4.591 Installing collected packages: pip, pipdeptree
#9 4.592   Attempting uninstall: pip
#9 4.593     Found existing installation: pip 23.0.1
#9 4.768     Uninstalling pip-23.0.1:
#9 4.940       Successfully uninstalled pip-23.0.1
#9 6.217 Successfully installed pip-24.3.1 pipdeptree-2.24.0
#9 6.218 WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv
#9 6.401 Cloning into 'LMCache'...
#9 8.878 Note: switching to '7d344359cdcdcb955924c77afe4a0d2fbe050fc6'.
#9 8.878 
#9 8.878 You are in 'detached HEAD' state. You can look around, make experimental
#9 8.878 changes and commit them, and you can discard any commits you make in this
#9 8.878 state without impacting any branches by switching back to a branch.
#9 8.878 
#9 8.878 If you want to create a new branch to retain commits you create, you may
#9 8.878 do so (now or later) by using -c with the switch command. Example:
#9 8.878 
#9 8.878   git switch -c <new-branch-name>
#9 8.878 
#9 8.878 Or undo this operation with:
#9 8.878 
#9 8.878   git switch -
#9 8.878 
#9 8.878 Turn off this advice by setting config variable advice.detachedHead to false
#9 8.878 
#9 8.878 HEAD is now at 7d34435 Bump version number to 0.1.4 (#268)
#9 9.439 Looking in indexes: http://simple/
#9 9.550 Collecting torch==2.5.1
#9 9.572   Downloading http://packages/torch/torch-2.5.1-cp310-cp310-manylinux1_x86_64.whl (906.4 MB)
#9 17.62      ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 906.4/906.4 MB 45.1 MB/s eta 0:00:00
#9 20.77 Collecting filelock (from torch==2.5.1)
#9 20.78   Using cached http://packages/filelock/filelock-3.16.1-py3-none-any.whl (16 kB)
#9 20.82 Collecting typing-extensions>=4.8.0 (from torch==2.5.1)
#9 20.84   Downloading http://packages/typing-extensions/typing_extensions-4.12.2-py3-none-any.whl (37 kB)
#9 20.91 Collecting networkx (from torch==2.5.1)
#9 20.93   Downloading http://packages/networkx/networkx-3.4.2-py3-none-any.whl (1.7 MB)
#9 20.97      ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 1.7/1.7 MB 75.3 MB/s eta 0:00:00
#9 21.02 Collecting jinja2 (from torch==2.5.1)
#9 21.05   Downloading http://packages/jinja2/jinja2-3.1.5-py3-none-any.whl (134 kB)
#9 21.14 Collecting fsspec (from torch==2.5.1)
#9 21.15   Downloading http://packages/fsspec/fsspec-2024.12.0-py3-none-any.whl (183 kB)
#9 21.26 Collecting nvidia-cuda-nvrtc-cu12==12.4.127 (from torch==2.5.1)
#9 21.28   Downloading http://packages/nvidia-cuda-nvrtc-cu12/nvidia_cuda_nvrtc_cu12-12.4.127-py3-none-manylinux2014_x86_64.whl (24.6 MB)
#9 21.51      ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 24.6/24.6 MB 111.2 MB/s eta 0:00:00
#9 21.62 Collecting nvidia-cuda-runtime-cu12==12.4.127 (from torch==2.5.1)
#9 21.64   Downloading http://packages/nvidia-cuda-runtime-cu12/nvidia_cuda_runtime_cu12-12.4.127-py3-none-manylinux2014_x86_64.whl (883 kB)
#9 25.57      ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 883.7/883.7 kB 159.0 kB/s eta 0:00:00
#9 25.60 Collecting nvidia-cuda-cupti-cu12==12.4.127 (from torch==2.5.1)
#9 25.62   Downloading http://packages/nvidia-cuda-cupti-cu12/nvidia_cuda_cupti_cu12-12.4.127-py3-none-manylinux2014_x86_64.whl (13.8 MB)
#9 25.72      ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 13.8/13.8 MB 156.9 MB/s eta 0:00:00
#9 25.80 Collecting nvidia-cudnn-cu12==9.1.0.70 (from torch==2.5.1)
#9 25.82   Downloading http://packages/nvidia-cudnn-cu12/nvidia_cudnn_cu12-9.1.0.70-py3-none-manylinux2014_x86_64.whl (664.8 MB)
#9 30.90      ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 664.8/664.8 MB 64.8 MB/s eta 0:00:00
#9 33.26 Collecting nvidia-cublas-cu12==12.4.5.8 (from torch==2.5.1)
#9 33.29   Downloading http://packages/nvidia-cublas-cu12/nvidia_cublas_cu12-12.4.5.8-py3-none-manylinux2014_x86_64.whl (363.4 MB)
#9 35.48      ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 363.4/363.4 MB 135.2 MB/s eta 0:00:00
#9 36.69 Collecting nvidia-cufft-cu12==11.2.1.3 (from torch==2.5.1)
#9 36.71   Downloading http://packages/nvidia-cufft-cu12/nvidia_cufft_cu12-11.2.1.3-py3-none-manylinux2014_x86_64.whl (211.5 MB)
#9 37.80      ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 211.5/211.5 MB 198.0 MB/s eta 0:00:00
#9 38.52 Collecting nvidia-curand-cu12==10.3.5.147 (from torch==2.5.1)
#9 38.54   Downloading http://packages/nvidia-curand-cu12/nvidia_curand_cu12-10.3.5.147-py3-none-manylinux2014_x86_64.whl (56.3 MB)
#9 38.84      ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 56.3/56.3 MB 196.1 MB/s eta 0:00:00
#9 39.06 Collecting nvidia-cusolver-cu12==11.6.1.9 (from torch==2.5.1)
#9 39.07   Downloading http://packages/nvidia-cusolver-cu12/nvidia_cusolver_cu12-11.6.1.9-py3-none-manylinux2014_x86_64.whl (127.9 MB)
#9 39.79      ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 127.9/127.9 MB 183.9 MB/s eta 0:00:00
#9 40.21 Collecting nvidia-cusparse-cu12==12.3.1.170 (from torch==2.5.1)
#9 40.23   Downloading http://packages/nvidia-cusparse-cu12/nvidia_cusparse_cu12-12.3.1.170-py3-none-manylinux2014_x86_64.whl (207.5 MB)
#9 41.49      ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 207.5/207.5 MB 166.1 MB/s eta 0:00:00
#9 42.17 Collecting nvidia-nccl-cu12==2.21.5 (from torch==2.5.1)
#9 42.19   Downloading http://packages/nvidia-nccl-cu12/nvidia_nccl_cu12-2.21.5-py3-none-manylinux2014_x86_64.whl (188.7 MB)
#9 43.19      ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 188.7/188.7 MB 190.0 MB/s eta 0:00:00
#9 43.79 Collecting nvidia-nvtx-cu12==12.4.127 (from torch==2.5.1)
#9 43.81   Downloading http://packages/nvidia-nvtx-cu12/nvidia_nvtx_cu12-12.4.127-py3-none-manylinux2014_x86_64.whl (99 kB)
#9 43.86 Collecting nvidia-nvjitlink-cu12==12.4.127 (from torch==2.5.1)
#9 43.88   Downloading http://packages/nvidia-nvjitlink-cu12/nvidia_nvjitlink_cu12-12.4.127-py3-none-manylinux2014_x86_64.whl (21.1 MB)
#9 44.02      ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 21.1/21.1 MB 166.7 MB/s eta 0:00:00
#9 44.11 Collecting triton==3.1.0 (from torch==2.5.1)
#9 44.13   Downloading http://packages/triton/triton-3.1.0-cp310-cp310-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (209.5 MB)
#9 45.47      ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 209.5/209.5 MB 159.1 MB/s eta 0:00:00
#9 46.17 Collecting sympy==1.13.1 (from torch==2.5.1)
#9 46.19   Downloading http://packages/sympy/sympy-1.13.1-py3-none-any.whl (6.2 MB)
#9 46.25      ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 6.2/6.2 MB 129.4 MB/s eta 0:00:00
#9 46.33 Collecting mpmath<1.4,>=1.1.0 (from sympy==1.13.1->torch==2.5.1)
#9 46.35   Downloading http://packages/mpmath/mpmath-1.3.0-py3-none-any.whl (536 kB)
#9 46.38      ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 536.2/536.2 kB 23.9 MB/s eta 0:00:00
#9 46.53 Collecting MarkupSafe>=2.0 (from jinja2->torch==2.5.1)
#9 46.56   Downloading http://packages/markupsafe/MarkupSafe-3.0.2-cp310-cp310-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (20 kB)
#9 46.96 Installing collected packages: mpmath, typing-extensions, sympy, nvidia-nvtx-cu12, nvidia-nvjitlink-cu12, nvidia-nccl-cu12, nvidia-curand-cu12, nvidia-cufft-cu12, nvidia-cuda-runtime-cu12, nvidia-cuda-nvrtc-cu12, nvidia-cuda-cupti-cu12, nvidia-cublas-cu12, networkx, MarkupSafe, fsspec, filelock, triton, nvidia-cusparse-cu12, nvidia-cudnn-cu12, jinja2, nvidia-cusolver-cu12, torch
#9 128.5 Successfully installed MarkupSafe-3.0.2 filelock-3.16.1 fsspec-2024.12.0 jinja2-3.1.5 mpmath-1.3.0 networkx-3.4.2 nvidia-cublas-cu12-12.4.5.8 nvidia-cuda-cupti-cu12-12.4.127 nvidia-cuda-nvrtc-cu12-12.4.127 nvidia-cuda-runtime-cu12-12.4.127 nvidia-cudnn-cu12-9.1.0.70 nvidia-cufft-cu12-11.2.1.3 nvidia-curand-cu12-10.3.5.147 nvidia-cusolver-cu12-11.6.1.9 nvidia-cusparse-cu12-12.3.1.170 nvidia-nccl-cu12-2.21.5 nvidia-nvjitlink-cu12-12.4.127 nvidia-nvtx-cu12-12.4.127 sympy-1.13.1 torch-2.5.1 triton-3.1.0 typing-extensions-4.12.2
#9 128.5 WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager, possibly rendering your system unusable.It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv. Use the --root-user-action option if you know what you are doing and want to suppress this warning.
#9 129.8 Looking in indexes: http://simple/
#9 130.2 Collecting numpy==1.26.4
#9 130.3   Downloading http://packages/numpy/numpy-1.26.4-cp310-cp310-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (18.2 MB)
#9 130.4      ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 18.2/18.2 MB 137.7 MB/s eta 0:00:00
#9 130.6 Installing collected packages: numpy
#9 133.4 Successfully installed numpy-1.26.4
#9 133.4 WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager, possibly rendering your system unusable.It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv. Use the --root-user-action option if you know what you are doing and want to suppress this warning.
#9 134.2 Looking in indexes: http://simple/
#9 134.3 Collecting pyyaml==6.0.2
#9 134.3   Downloading http://packages/pyyaml/PyYAML-6.0.2-cp310-cp310-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (751 kB)
#9 137.3      ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 751.2/751.2 kB 162.5 kB/s eta 0:00:00
#9 137.4 Installing collected packages: pyyaml
#9 137.5 Successfully installed pyyaml-6.0.2
#9 137.5 WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager, possibly rendering your system unusable.It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv. Use the --root-user-action option if you know what you are doing and want to suppress this warning.
#9 138.3 Looking in indexes: http://simple/
#9 138.4 Collecting redis==5.2.1
#9 138.4   Downloading http://packages/redis/redis-5.2.1-py3-none-any.whl (261 kB)
#9 138.4 Collecting async-timeout>=4.0.3 (from redis==5.2.1)
#9 138.5   Downloading http://packages/async-timeout/async_timeout-5.0.1-py3-none-any.whl (6.2 kB)
#9 138.7 Installing collected packages: async-timeout, redis
#9 139.0 Successfully installed async-timeout-5.0.1 redis-5.2.1
#9 139.0 WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager, possibly rendering your system unusable.It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv. Use the --root-user-action option if you know what you are doing and want to suppress this warning.
#9 139.9 Looking in indexes: http://simple/
#9 139.9 Collecting nvtx==0.2.10
#9 140.1   Downloading http://packages/nvtx/nvtx-0.2.10-cp310-cp310-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (582 kB)
#9 140.1      ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 582.6/582.6 kB 27.3 MB/s eta 0:00:00
#9 140.3 Installing collected packages: nvtx
#9 140.3 Successfully installed nvtx-0.2.10
#9 140.3 WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager, possibly rendering your system unusable.It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv. Use the --root-user-action option if you know what you are doing and want to suppress this warning.
#9 141.0 Looking in indexes: http://simple/
#9 141.3 Collecting safetensors==0.4.5
#9 141.3   Downloading http://packages/safetensors/safetensors-0.4.5-cp310-cp310-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (435 kB)
#9 141.5 Installing collected packages: safetensors
#9 141.5 Successfully installed safetensors-0.4.5
#9 141.5 WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager, possibly rendering your system unusable.It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv. Use the --root-user-action option if you know what you are doing and want to suppress this warning.
#9 142.3 Looking in indexes: http://simple/
#9 142.4 Collecting transformers==4.47.1
#9 142.4   Downloading http://packages/transformers/transformers-4.47.1-py3-none-any.whl (10.1 MB)
#9 143.6      ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 10.1/10.1 MB 8.4 MB/s eta 0:00:00
#9 144.0 Requirement already satisfied: filelock in /usr/local/lib/python3.10/site-packages (from transformers==4.47.1) (3.16.1)
#9 144.1 Collecting huggingface-hub<1.0,>=0.24.0 (from transformers==4.47.1)
#9 144.1   Downloading http://packages/huggingface-hub/huggingface_hub-0.27.1-py3-none-any.whl (450 kB)
#9 144.1 Requirement already satisfied: numpy>=1.17 in /usr/local/lib/python3.10/site-packages (from transformers==4.47.1) (1.26.4)
#9 144.1 Requirement already satisfied: packaging>=20.0 in /usr/local/lib/python3.10/site-packages (from transformers==4.47.1) (24.2)
#9 144.1 Requirement already satisfied: pyyaml>=5.1 in /usr/local/lib/python3.10/site-packages (from transformers==4.47.1) (6.0.2)
#9 144.9 Collecting regex!=2019.12.17 (from transformers==4.47.1)
#9 144.9   Downloading http://packages/regex/regex-2024.11.6-cp310-cp310-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (781 kB)
#9 144.9      ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 781.7/781.7 kB 36.1 MB/s eta 0:00:00
#9 145.0 Collecting requests (from transformers==4.47.1)
#9 145.0   Using cached http://packages/requests/requests-2.32.3-py3-none-any.whl (64 kB)
#9 145.4 Collecting tokenizers<0.22,>=0.21 (from transformers==4.47.1)
#9 145.5   Downloading http://packages/tokenizers/tokenizers-0.21.0-cp39-abi3-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (3.0 MB)
#9 145.5      ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 3.0/3.0 MB 93.8 MB/s eta 0:00:00
#9 145.5 Requirement already satisfied: safetensors>=0.4.1 in /usr/local/lib/python3.10/site-packages (from transformers==4.47.1) (0.4.5)
#9 145.7 Collecting tqdm>=4.27 (from transformers==4.47.1)
#9 145.7   Downloading http://packages/tqdm/tqdm-4.67.1-py3-none-any.whl (78 kB)
#9 145.7 Requirement already satisfied: fsspec>=2023.5.0 in /usr/local/lib/python3.10/site-packages (from huggingface-hub<1.0,>=0.24.0->transformers==4.47.1) (2024.12.0)
#9 145.7 Requirement already satisfied: typing-extensions>=3.7.4.3 in /usr/local/lib/python3.10/site-packages (from huggingface-hub<1.0,>=0.24.0->transformers==4.47.1) (4.12.2)
#9 146.0 Collecting charset-normalizer<4,>=2 (from requests->transformers==4.47.1)
#9 146.0   Using cached http://packages/charset-normalizer/charset_normalizer-3.4.1-cp310-cp310-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (146 kB)
#9 146.0 Collecting idna<4,>=2.5 (from requests->transformers==4.47.1)
#9 146.0   Using cached http://packages/idna/idna-3.10-py3-none-any.whl (70 kB)
#9 146.1 Collecting urllib3<3,>=1.21.1 (from requests->transformers==4.47.1)
#9 146.1   Using cached http://packages/urllib3/urllib3-2.3.0-py3-none-any.whl (128 kB)
#9 146.2 Collecting certifi>=2017.4.17 (from requests->transformers==4.47.1)
#9 146.2   Using cached http://packages/certifi/certifi-2024.12.14-py3-none-any.whl (164 kB)
#9 146.7 Installing collected packages: urllib3, tqdm, regex, idna, charset-normalizer, certifi, requests, huggingface-hub, tokenizers, transformers
#9 156.0 Successfully installed certifi-2024.12.14 charset-normalizer-3.4.1 huggingface-hub-0.27.1 idna-3.10 regex-2024.11.6 requests-2.32.3 tokenizers-0.21.0 tqdm-4.67.1 transformers-4.47.1 urllib3-2.3.0
#9 156.0 WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager, possibly rendering your system unusable.It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv. Use the --root-user-action option if you know what you are doing and want to suppress this warning.
#9 156.9 Looking in indexes: http://simple/
#9 157.0 Collecting yapf==0.40.0
#9 157.0   Downloading http://packages/yapf/yapf-0.40.0-py3-none-any.whl (250 kB)
#9 157.1 Collecting importlib-metadata>=6.6.0 (from yapf==0.40.0)
#9 157.2   Using cached http://packages/importlib-metadata/importlib_metadata-8.5.0-py3-none-any.whl (26 kB)
#9 157.2 Collecting platformdirs>=3.5.1 (from yapf==0.40.0)
#9 157.2   Using cached http://packages/platformdirs/platformdirs-4.3.6-py3-none-any.whl (18 kB)
#9 157.2 Requirement already satisfied: tomli>=2.0.1 in /usr/local/lib/python3.10/site-packages (from yapf==0.40.0) (2.2.1)
#9 157.3 Collecting zipp>=3.20 (from importlib-metadata>=6.6.0->yapf==0.40.0)
#9 157.3   Using cached http://packages/zipp/zipp-3.21.0-py3-none-any.whl (9.6 kB)
#9 157.8 Installing collected packages: zipp, platformdirs, importlib-metadata, yapf
#9 158.0 Successfully installed importlib-metadata-8.5.0 platformdirs-4.3.6 yapf-0.40.0 zipp-3.21.0
#9 158.0 WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager, possibly rendering your system unusable.It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv. Use the --root-user-action option if you know what you are doing and want to suppress this warning.
#9 158.8 Looking in indexes: http://simple/
#9 158.8 Collecting toml==0.10.2
#9 158.9   Downloading http://packages/toml/toml-0.10.2-py2.py3-none-any.whl (16 kB)
#9 159.4 Installing collected packages: toml
#9 159.4 Successfully installed toml-0.10.2
#9 159.4 WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager, possibly rendering your system unusable.It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv. Use the --root-user-action option if you know what you are doing and want to suppress this warning.
#9 160.2 Looking in indexes: http://simple/
#9 160.2 Collecting tomli==2.0.1
#9 160.3   Downloading http://packages/tomli/tomli-2.0.1-py3-none-any.whl (12 kB)
#9 160.8 Installing collected packages: tomli
#9 160.8   Attempting uninstall: tomli
#9 160.8     Found existing installation: tomli 2.2.1
#9 160.8     Uninstalling tomli-2.2.1:
#9 160.8       Successfully uninstalled tomli-2.2.1
#9 160.8 Successfully installed tomli-2.0.1
#9 160.8 WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager, possibly rendering your system unusable.It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv. Use the --root-user-action option if you know what you are doing and want to suppress this warning.
#9 161.6 Looking in indexes: http://simple/
#9 162.6 Collecting ruff==0.6.5
#9 162.6   Downloading http://packages/ruff/ruff-0.6.5-py3-none-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (10.3 MB)
#9 162.7      ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 10.3/10.3 MB 155.1 MB/s eta 0:00:00
#9 163.2 Installing collected packages: ruff
#9 163.4 Successfully installed ruff-0.6.5
#9 163.4 WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager, possibly rendering your system unusable.It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv. Use the --root-user-action option if you know what you are doing and want to suppress this warning.
#9 164.3 Looking in indexes: http://simple/
#9 164.3 Collecting codespell==2.3.0
#9 164.4   Downloading http://packages/codespell/codespell-2.3.0-py3-none-any.whl (329 kB)
#9 164.9 Installing collected packages: codespell
#9 165.0 Successfully installed codespell-2.3.0
#9 165.0 WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager, possibly rendering your system unusable.It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv. Use the --root-user-action option if you know what you are doing and want to suppress this warning.
#9 165.7 Looking in indexes: http://simple/
#9 165.8 Collecting isort==5.13.2
#9 165.8   Downloading http://packages/isort/isort-5.13.2-py3-none-any.whl (92 kB)
#9 166.3 Installing collected packages: isort
#9 166.4 Successfully installed isort-5.13.2
#9 166.4 WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager, possibly rendering your system unusable.It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv. Use the --root-user-action option if you know what you are doing and want to suppress this warning.
#9 167.2 Looking in indexes: http://simple/
#9 167.3 Collecting clang-format==18.1.5
#9 167.4   Downloading http://packages/clang-format/clang_format-18.1.5-py2.py3-none-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (1.7 MB)
#9 167.5      ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 1.7/1.7 MB 49.2 MB/s eta 0:00:00
#9 168.0 Installing collected packages: clang-format
#9 168.1 Successfully installed clang-format-18.1.5
#9 168.1 WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager, possibly rendering your system unusable.It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv. Use the --root-user-action option if you know what you are doing and want to suppress this warning.
#9 168.9 Looking in indexes: http://simple/
#9 169.1 Collecting mypy==1.11.2
#9 169.5   Downloading http://packages/mypy/mypy-1.11.2-cp310-cp310-manylinux_2_17_x86_64.manylinux2014_x86_64.manylinux_2_28_x86_64.whl (12.5 MB)
#9 169.6      ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 12.5/12.5 MB 153.1 MB/s eta 0:00:00
#9 169.6 Requirement already satisfied: typing-extensions>=4.6.0 in /usr/local/lib/python3.10/site-packages (from mypy==1.11.2) (4.12.2)
#9 169.7 Collecting mypy-extensions>=1.0.0 (from mypy==1.11.2)
#9 169.7   Downloading http://packages/mypy-extensions/mypy_extensions-1.0.0-py3-none-any.whl (4.7 kB)
#9 169.7 Requirement already satisfied: tomli>=1.1.0 in /usr/local/lib/python3.10/site-packages (from mypy==1.11.2) (2.0.1)
#9 170.2 Installing collected packages: mypy-extensions, mypy
#9 172.0 Successfully installed mypy-1.11.2 mypy-extensions-1.0.0
#9 172.0 WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager, possibly rendering your system unusable.It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv. Use the --root-user-action option if you know what you are doing and want to suppress this warning.
#9 172.9 Looking in indexes: http://simple/
#9 172.9 Collecting types-PyYAML==6.0.12.20240917
#9 172.9   Downloading http://packages/types-pyyaml/types_PyYAML-6.0.12.20240917-py3-none-any.whl (15 kB)
#9 173.5 Installing collected packages: types-PyYAML
#9 173.5 Successfully installed types-PyYAML-6.0.12.20240917
#9 173.5 WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager, possibly rendering your system unusable.It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv. Use the --root-user-action option if you know what you are doing and want to suppress this warning.
#9 174.3 Looking in indexes: http://simple/
#9 174.4 Collecting types-requests==2.32.0.20241016
#9 174.4   Downloading http://packages/types-requests/types_requests-2.32.0.20241016-py3-none-any.whl (15 kB)
#9 174.4 Requirement already satisfied: urllib3>=2 in /usr/local/lib/python3.10/site-packages (from types-requests==2.32.0.20241016) (2.3.0)
#9 174.9 Installing collected packages: types-requests
#9 174.9 Successfully installed types-requests-2.32.0.20241016
#9 174.9 WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager, possibly rendering your system unusable.It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv. Use the --root-user-action option if you know what you are doing and want to suppress this warning.
#9 175.7 Looking in indexes: http://simple/
#9 175.8 Collecting types-setuptools==75.6.0.20241126
#9 175.9   Downloading http://packages/types-setuptools/types_setuptools-75.6.0.20241126-py3-none-any.whl (72 kB)
#9 176.4 Installing collected packages: types-setuptools
#9 176.4 Successfully installed types-setuptools-75.6.0.20241126
#9 176.4 WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager, possibly rendering your system unusable.It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv. Use the --root-user-action option if you know what you are doing and want to suppress this warning.
#9 177.3 Looking in indexes: http://simple/
#9 177.3 Requirement already satisfied: pytest==8.3.4 in /usr/local/lib/python3.10/site-packages (8.3.4)
#9 177.3 Requirement already satisfied: exceptiongroup>=1.0.0rc8 in /usr/local/lib/python3.10/site-packages (from pytest==8.3.4) (1.2.2)
#9 177.3 Requirement already satisfied: iniconfig in /usr/local/lib/python3.10/site-packages (from pytest==8.3.4) (2.0.0)
#9 177.3 Requirement already satisfied: packaging in /usr/local/lib/python3.10/site-packages (from pytest==8.3.4) (24.2)
#9 177.3 Requirement already satisfied: pluggy<2,>=1.5 in /usr/local/lib/python3.10/site-packages (from pytest==8.3.4) (1.5.0)
#9 177.3 Requirement already satisfied: tomli>=1 in /usr/local/lib/python3.10/site-packages (from pytest==8.3.4) (2.0.1)
#9 177.9 WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager, possibly rendering your system unusable.It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv. Use the --root-user-action option if you know what you are doing and want to suppress this warning.
#9 178.6 Looking in indexes: http://simple/
#9 178.6 Collecting pytest-benchmark==5.1.0
#9 178.7   Downloading http://packages/pytest-benchmark/pytest_benchmark-5.1.0-py3-none-any.whl (44 kB)
#9 178.7 Requirement already satisfied: pytest>=8.1 in /usr/local/lib/python3.10/site-packages (from pytest-benchmark==5.1.0) (8.3.4)
#9 178.7 Collecting py-cpuinfo (from pytest-benchmark==5.1.0)
#9 178.7   Downloading http://packages/py-cpuinfo/py_cpuinfo-9.0.0-py3-none-any.whl (22 kB)
#9 178.8 Requirement already satisfied: exceptiongroup>=1.0.0rc8 in /usr/local/lib/python3.10/site-packages (from pytest>=8.1->pytest-benchmark==5.1.0) (1.2.2)
#9 178.8 Requirement already satisfied: iniconfig in /usr/local/lib/python3.10/site-packages (from pytest>=8.1->pytest-benchmark==5.1.0) (2.0.0)
#9 178.8 Requirement already satisfied: packaging in /usr/local/lib/python3.10/site-packages (from pytest>=8.1->pytest-benchmark==5.1.0) (24.2)
#9 178.8 Requirement already satisfied: pluggy<2,>=1.5 in /usr/local/lib/python3.10/site-packages (from pytest>=8.1->pytest-benchmark==5.1.0) (1.5.0)
#9 178.8 Requirement already satisfied: tomli>=1 in /usr/local/lib/python3.10/site-packages (from pytest>=8.1->pytest-benchmark==5.1.0) (2.0.1)
#9 179.4 Installing collected packages: py-cpuinfo, pytest-benchmark
#9 179.5 Successfully installed py-cpuinfo-9.0.0 pytest-benchmark-5.1.0
#9 179.5 WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager, possibly rendering your system unusable.It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv. Use the --root-user-action option if you know what you are doing and want to suppress this warning.
#9 180.2 Looking in indexes: http://simple/
#9 180.2 Requirement already satisfied: pytest-benchmark==5.1.0 in /usr/local/lib/python3.10/site-packages (from pytest-benchmark[histogram]==5.1.0) (5.1.0)
#9 180.2 Requirement already satisfied: pytest>=8.1 in /usr/local/lib/python3.10/site-packages (from pytest-benchmark==5.1.0->pytest-benchmark[histogram]==5.1.0) (8.3.4)
#9 180.2 Requirement already satisfied: py-cpuinfo in /usr/local/lib/python3.10/site-packages (from pytest-benchmark==5.1.0->pytest-benchmark[histogram]==5.1.0) (9.0.0)
#9 180.3 Collecting pygal (from pytest-benchmark[histogram]==5.1.0)
#9 180.4   Downloading http://packages/pygal/pygal-3.0.5-py3-none-any.whl (129 kB)
#9 180.5 Collecting pygaljs (from pytest-benchmark[histogram]==5.1.0)
#9 180.6   Downloading http://packages/pygaljs/pygaljs-1.0.2-py2.py3-none-any.whl (91 kB)
#9 180.6 Requirement already satisfied: setuptools in /usr/local/lib/python3.10/site-packages (from pytest-benchmark[histogram]==5.1.0) (65.5.1)
#9 180.6 Requirement already satisfied: exceptiongroup>=1.0.0rc8 in /usr/local/lib/python3.10/site-packages (from pytest>=8.1->pytest-benchmark==5.1.0->pytest-benchmark[histogram]==5.1.0) (1.2.2)
#9 180.6 Requirement already satisfied: iniconfig in /usr/local/lib/python3.10/site-packages (from pytest>=8.1->pytest-benchmark==5.1.0->pytest-benchmark[histogram]==5.1.0) (2.0.0)
#9 180.6 Requirement already satisfied: packaging in /usr/local/lib/python3.10/site-packages (from pytest>=8.1->pytest-benchmark==5.1.0->pytest-benchmark[histogram]==5.1.0) (24.2)
#9 180.6 Requirement already satisfied: pluggy<2,>=1.5 in /usr/local/lib/python3.10/site-packages (from pytest>=8.1->pytest-benchmark==5.1.0->pytest-benchmark[histogram]==5.1.0) (1.5.0)
#9 180.6 Requirement already satisfied: tomli>=1 in /usr/local/lib/python3.10/site-packages (from pytest>=8.1->pytest-benchmark==5.1.0->pytest-benchmark[histogram]==5.1.0) (2.0.1)
#9 180.6 Requirement already satisfied: importlib-metadata in /usr/local/lib/python3.10/site-packages (from pygal->pytest-benchmark[histogram]==5.1.0) (8.5.0)
#9 180.6 Requirement already satisfied: zipp>=3.20 in /usr/local/lib/python3.10/site-packages (from importlib-metadata->pygal->pytest-benchmark[histogram]==5.1.0) (3.21.0)
#9 181.1 Installing collected packages: pygaljs, pygal
#9 181.3 Successfully installed pygal-3.0.5 pygaljs-1.0.2
#9 181.3 WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager, possibly rendering your system unusable.It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv. Use the --root-user-action option if you know what you are doing and want to suppress this warning.
#9 182.0 Looking in indexes: http://simple/
#9 182.1 Collecting buildkite-test-collector==0.1.9
#9 182.2   Downloading http://packages/buildkite-test-collector/buildkite_test_collector-0.1.9-py3-none-any.whl (12 kB)
#9 182.2 Requirement already satisfied: requests>=2 in /usr/local/lib/python3.10/site-packages (from buildkite-test-collector==0.1.9) (2.32.3)
#9 182.2 Requirement already satisfied: pytest>=7 in /usr/local/lib/python3.10/site-packages (from buildkite-test-collector==0.1.9) (8.3.4)
#9 182.2 Requirement already satisfied: exceptiongroup>=1.0.0rc8 in /usr/local/lib/python3.10/site-packages (from pytest>=7->buildkite-test-collector==0.1.9) (1.2.2)
#9 182.2 Requirement already satisfied: iniconfig in /usr/local/lib/python3.10/site-packages (from pytest>=7->buildkite-test-collector==0.1.9) (2.0.0)
#9 182.2 Requirement already satisfied: packaging in /usr/local/lib/python3.10/site-packages (from pytest>=7->buildkite-test-collector==0.1.9) (24.2)
#9 182.2 Requirement already satisfied: pluggy<2,>=1.5 in /usr/local/lib/python3.10/site-packages (from pytest>=7->buildkite-test-collector==0.1.9) (1.5.0)
#9 182.2 Requirement already satisfied: tomli>=1 in /usr/local/lib/python3.10/site-packages (from pytest>=7->buildkite-test-collector==0.1.9) (2.0.1)
#9 182.2 Requirement already satisfied: charset-normalizer<4,>=2 in /usr/local/lib/python3.10/site-packages (from requests>=2->buildkite-test-collector==0.1.9) (3.4.1)
#9 182.2 Requirement already satisfied: idna<4,>=2.5 in /usr/local/lib/python3.10/site-packages (from requests>=2->buildkite-test-collector==0.1.9) (3.10)
#9 182.2 Requirement already satisfied: urllib3<3,>=1.21.1 in /usr/local/lib/python3.10/site-packages (from requests>=2->buildkite-test-collector==0.1.9) (2.3.0)
#9 182.2 Requirement already satisfied: certifi>=2017.4.17 in /usr/local/lib/python3.10/site-packages (from requests>=2->buildkite-test-collector==0.1.9) (2024.12.14)
#9 182.8 Installing collected packages: buildkite-test-collector
#9 182.8 Successfully installed buildkite-test-collector-0.1.9
#9 182.8 WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager, possibly rendering your system unusable.It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv. Use the --root-user-action option if you know what you are doing and want to suppress this warning.
#9 DONE 184.8s

#10 [6/8] RUN python /code_edit.py -t "/search_patch/0.patch" &&     python /code_edit.py -t "/search_patch/1.patch"
#10 0.571 * Succeed Patch:
#10 0.571 --- arepolmcachestorage_backendserdecachegen_decoder.py
#10 0.571 +++ brepolmcachestorage_backendserdecachegen_decoder.py
#10 0.571 @@ -1,7 +1,7 @@
#10 0.571  from typing import List, Optional
#10 0.571  
#10 0.571  import torch
#10 0.571 -import torchac_cuda  # type: ignore
#10 0.571 +# import torchac_cuda  # type: ignore
#10 0.571  
#10 0.571  import lmcache.storage_backend.serde.cachegen_basics as CGBasics
#10 0.571  from lmcache.config import LMCacheEngineConfig, LMCacheEngineMetadata
#10 0.571 
#10 0.571 
#10 0.637 * Succeed Patch:
#10 0.637 --- arepolmcachestorage_backendserdecachegen_encoder.py
#10 0.637 +++ brepolmcachestorage_backendserdecachegen_encoder.py
#10 0.637 @@ -1,7 +1,7 @@
#10 0.637  from typing import Dict, Tuple
#10 0.637  
#10 0.637  import torch
#10 0.637 -import torchac_cuda  # type: ignore
#10 0.637 +# import torchac_cuda  # type: ignore
#10 0.637  
#10 0.637  import lmcache.storage_backend.serde.cachegen_basics as CGBasics
#10 0.637  from lmcache.config import LMCacheEngineConfig, LMCacheEngineMetadata
#10 0.637 
#10 0.637 
#10 DONE 0.8s

#11 [7/8] RUN cd /repo && pytest --collect-only -q
#11 4.866 tests/benchmarks/test_benchmark.py::test_cachegen_decoder_bench[64-vllm]
#11 4.866 tests/benchmarks/test_benchmark.py::test_cachegen_decoder_bench[64-huggingface]
#11 4.866 tests/benchmarks/test_benchmark.py::test_cachegen_decoder_bench[256-vllm]
#11 4.866 tests/benchmarks/test_benchmark.py::test_cachegen_decoder_bench[256-huggingface]
#11 4.866 tests/benchmarks/test_benchmark.py::test_cachegen_decoder_bench[768-vllm]
#11 4.866 tests/benchmarks/test_benchmark.py::test_cachegen_decoder_bench[768-huggingface]
#11 4.866 tests/test_backends.py::test_creation[cpu]
#11 4.866 tests/test_backends.py::test_creation_from_file[cpu]
#11 4.866 tests/test_backends.py::test_backends[cpu-cuda-local]
#11 4.866 tests/test_backends.py::test_backends[cpu-cuda-remote]
#11 4.866 tests/test_backends.py::test_backends[cpu-cuda-hybrid]
#11 4.866 tests/test_backends.py::test_backends[cpu-cuda-hybrid_pipelined]
#11 4.866 tests/test_backends.py::test_backends[cpu-cpu-local]
#11 4.866 tests/test_backends.py::test_backends[cpu-cpu-remote]
#11 4.866 tests/test_backends.py::test_backends[cpu-cpu-hybrid]
#11 4.866 tests/test_backends.py::test_backends[cpu-cpu-hybrid_pipelined]
#11 4.866 tests/test_backends.py::test_nonblocking_put[cpu-local]
#11 4.866 tests/test_backends.py::test_nonblocking_put[cpu-remote]
#11 4.866 tests/test_backends.py::test_nonblocking_put[cpu-hybrid]
#11 4.866 tests/test_backends.py::test_restart[cpu]
#11 4.866 tests/test_backends.py::test_creation[remote_disk/]
#11 4.866 tests/test_backends.py::test_backends[remote_disk/-cuda-local]
#11 4.866 tests/test_backends.py::test_backends[remote_disk/-cuda-remote]
#11 4.866 tests/test_backends.py::test_backends[remote_disk/-cuda-hybrid]
#11 4.866 tests/test_backends.py::test_backends[remote_disk/-cuda-hybrid_pipelined]
#11 4.866 tests/test_backends.py::test_backends[remote_disk/-cpu-local]
#11 4.866 tests/test_backends.py::test_backends[remote_disk/-cpu-remote]
#11 4.866 tests/test_backends.py::test_backends[remote_disk/-cpu-hybrid]
#11 4.866 tests/test_backends.py::test_backends[remote_disk/-cpu-hybrid_pipelined]
#11 4.866 tests/test_backends.py::test_nonblocking_put[remote_disk/-local]
#11 4.866 tests/test_backends.py::test_nonblocking_put[remote_disk/-remote]
#11 4.866 tests/test_backends.py::test_nonblocking_put[remote_disk/-hybrid]
#11 4.866 tests/test_backends.py::test_restart[remote_disk/]
#11 4.866 tests/test_blend.py::test_drop_spt_and_get_indices[1-vllm]
#11 4.866 tests/test_blend.py::test_drop_spt_and_get_indices[1-huggingface]
#11 4.866 tests/test_blend.py::test_drop_spt_and_get_indices[2-vllm]
#11 4.866 tests/test_blend.py::test_drop_spt_and_get_indices[2-huggingface]
#11 4.866 tests/test_blend.py::test_spt_full_hit[1-vllm]
#11 4.866 tests/test_blend.py::test_spt_full_hit[2-vllm]
#11 4.866 tests/test_blend.py::test_spt_hit_miss[1-vllm]
#11 4.866 tests/test_blend.py::test_spt_hit_miss[2-vllm]
#11 4.866 tests/test_blend.py::test_spt_all_miss[1-vllm]
#11 4.866 tests/test_blend.py::test_spt_all_miss[2-vllm]
#11 4.866 tests/test_blend.py::test_spt_partial_hit[1-vllm]
#11 4.866 tests/test_blend.py::test_spt_partial_hit[2-vllm]
#11 4.866 tests/test_blend.py::test_spt_multi_query[1-vllm]
#11 4.866 tests/test_blend.py::test_spt_multi_query[2-vllm]
#11 4.866 tests/test_blend.py::test_cacheblend_executor_single_query
#11 4.866 tests/test_cache_engine.py::test_retrieve_device[cuda-cuda:0-cuda:0]
#11 4.866 tests/test_cache_engine.py::test_retrieve_device[cuda-cuda:0-cuda]
#11 4.866 tests/test_cache_engine.py::test_retrieve_device[cuda-cuda:0-cpu]
#11 4.866 tests/test_cache_engine.py::test_retrieve_device[cpu-cuda:0-cuda:0]
#11 4.866 tests/test_cache_engine.py::test_retrieve_device[cpu-cuda:0-cuda]
#11 4.866 tests/test_cache_engine.py::test_retrieve_device[cpu-cuda:0-cpu]
#11 4.866 tests/test_cache_engine.py::test_retrieve_device[file://local_disk/-cuda:0-cuda:0]
#11 4.866 tests/test_cache_engine.py::test_retrieve_device[file://local_disk/-cuda:0-cuda]
#11 4.866 tests/test_cache_engine.py::test_retrieve_device[file://local_disk/-cuda:0-cpu]
#11 4.866 tests/test_cache_engine.py::test_same_retrieve_store[cpu-torch-cuda-vllm]
#11 4.866 tests/test_cache_engine.py::test_same_retrieve_store[cpu-torch-cpu-vllm]
#11 4.866 tests/test_cache_engine.py::test_same_retrieve_store[cpu-torch-file://local_disk/-vllm]
#11 4.866 tests/test_cache_engine.py::test_same_retrieve_store[cpu-torch-redis://localhost:6379-vllm]
#11 4.866 tests/test_cache_engine.py::test_same_retrieve_store[cpu-torch-lm://localhost:65000-vllm]
#11 4.866 tests/test_cache_engine.py::test_same_retrieve_store[cpu-safetensor-cuda-vllm]
#11 4.866 tests/test_cache_engine.py::test_same_retrieve_store[cpu-safetensor-cpu-vllm]
#11 4.866 tests/test_cache_engine.py::test_same_retrieve_store[cpu-safetensor-file://local_disk/-vllm]
#11 4.866 tests/test_cache_engine.py::test_same_retrieve_store[cpu-safetensor-redis://localhost:6379-vllm]
#11 4.866 tests/test_cache_engine.py::test_same_retrieve_store[cpu-safetensor-lm://localhost:65000-vllm]
#11 4.866 tests/test_cache_engine.py::test_retrieve_prefix[cpu-cuda-128-vllm]
#11 4.866 tests/test_cache_engine.py::test_retrieve_prefix[cpu-cuda-256-vllm]
#11 4.866 tests/test_cache_engine.py::test_retrieve_prefix[cpu-cpu-128-vllm]
#11 4.866 tests/test_cache_engine.py::test_retrieve_prefix[cpu-cpu-256-vllm]
#11 4.866 tests/test_cache_engine.py::test_retrieve_prefix[cpu-file://local_disk/-128-vllm]
#11 4.866 tests/test_cache_engine.py::test_retrieve_prefix[cpu-file://local_disk/-256-vllm]
#11 4.866 tests/test_cache_engine.py::test_retrieve_prefix[cpu-redis://localhost:6379-128-vllm]
#11 4.866 tests/test_cache_engine.py::test_retrieve_prefix[cpu-redis://localhost:6379-256-vllm]
#11 4.866 tests/test_cache_engine.py::test_retrieve_prefix[cpu-lm://localhost:65000-128-vllm]
#11 4.866 tests/test_cache_engine.py::test_retrieve_prefix[cpu-lm://localhost:65000-256-vllm]
#11 4.866 tests/test_cache_engine.py::test_mixed_retrieve[cpu-cuda-128-vllm]
#11 4.866 tests/test_cache_engine.py::test_mixed_retrieve[cpu-cuda-256-vllm]
#11 4.866 tests/test_cache_engine.py::test_mixed_retrieve[cpu-redis://localhost:6379-128-vllm]
#11 4.866 tests/test_cache_engine.py::test_mixed_retrieve[cpu-redis://localhost:6379-256-vllm]
#11 4.866 tests/test_cache_engine.py::test_mixed_retrieve[cpu-lm://localhost:65000-128-vllm]
#11 4.866 tests/test_cache_engine.py::test_mixed_retrieve[cpu-lm://localhost:65000-256-vllm]
#11 4.866 tests/test_cache_engine.py::test_same_retrieve_store[remote_disk/-torch-cuda-vllm]
#11 4.866 tests/test_cache_engine.py::test_same_retrieve_store[remote_disk/-torch-cpu-vllm]
#11 4.866 tests/test_cache_engine.py::test_same_retrieve_store[remote_disk/-torch-file://local_disk/-vllm]
#11 4.866 tests/test_cache_engine.py::test_same_retrieve_store[remote_disk/-torch-redis://localhost:6379-vllm]
#11 4.866 tests/test_cache_engine.py::test_same_retrieve_store[remote_disk/-torch-lm://localhost:65000-vllm]
#11 4.866 tests/test_cache_engine.py::test_same_retrieve_store[remote_disk/-safetensor-cuda-vllm]
#11 4.866 tests/test_cache_engine.py::test_same_retrieve_store[remote_disk/-safetensor-cpu-vllm]
#11 4.866 tests/test_cache_engine.py::test_same_retrieve_store[remote_disk/-safetensor-file://local_disk/-vllm]
#11 4.866 tests/test_cache_engine.py::test_same_retrieve_store[remote_disk/-safetensor-redis://localhost:6379-vllm]
#11 4.866 tests/test_cache_engine.py::test_same_retrieve_store[remote_disk/-safetensor-lm://localhost:65000-vllm]
#11 4.866 tests/test_cache_engine.py::test_retrieve_single_tensor[cuda-vllm]
#11 4.866 tests/test_cache_engine.py::test_retrieve_single_tensor[cpu-vllm]
#11 4.866 tests/test_cache_engine.py::test_skipping[vllm]
#11 4.866 tests/test_cache_engine.py::test_lookup[vllm]
#11 4.866 tests/test_cache_engine.py::test_store_kv_tensors_mask[vllm]
#11 4.866 tests/test_cache_engine.py::test_builder
#11 4.866 tests/test_connector.py::test_lm_connector[redis://localhost:6379-cpu]
#11 4.866 tests/test_connector.py::test_lm_connector[redis-sentinel://localhost:6379,localhost:6380,localhost:6381-cpu]
#11 4.866 tests/test_connector.py::test_lm_connector[lm://localhost:65000-cpu]
#11 4.866 tests/test_evictor.py::test_lru[cuda-cuda:0]
#11 4.866 tests/test_evictor.py::test_lru[cpu-cuda:0]
#11 4.866 tests/test_evictor.py::test_lru[file://local_disk/-cuda:0]
#11 4.866 tests/test_evictor.py::test_lru_fragmentation[cuda-cuda:0]
#11 4.866 tests/test_evictor.py::test_lru_fragmentation[cpu-cuda:0]
#11 4.866 tests/test_mempool.py::test_alloc_full[LocalCPUBufferPool]
#11 4.866 tests/test_mempool.py::test_alloc_full[LocalCPUPool]
#11 4.866 tests/test_mempool.py::test_alloc_full[LocalGPUPool]
#11 4.866 tests/test_mempool.py::test_alloc_partial[LocalCPUBufferPool]
#11 4.866 tests/test_mempool.py::test_alloc_partial[LocalCPUPool]
#11 4.866 tests/test_mempool.py::test_alloc_partial[LocalGPUPool]
#11 4.866 tests/test_protocol.py::test_client_meta_message
#11 4.866 tests/test_protocol.py::test_server_meta_message
#11 4.866 tests/test_serde.py::test_cachegen_encoder[16]
#11 4.866 tests/test_serde.py::test_cachegen_encoder[128]
#11 4.866 tests/test_serde.py::test_cachegen_encoder[256]
#11 4.866 tests/test_serde.py::test_cachegen_decoder[16-vllm]
#11 4.866 tests/test_serde.py::test_cachegen_decoder[16-huggingface]
#11 4.866 tests/test_serde.py::test_cachegen_decoder[128-vllm]
#11 4.866 tests/test_serde.py::test_cachegen_decoder[128-huggingface]
#11 4.869 tests/test_serde.py::test_cachegen_decoder[256-vllm]
#11 4.869 tests/test_serde.py::test_cachegen_decoder[256-huggingface]
#11 4.869 tests/test_serde.py::test_cachegen_unmatched_size[vllm]
#11 4.869 tests/test_serde.py::test_cachegen_unmatched_size[huggingface]
#11 4.869 
#11 4.869 126 tests collected in 3.57s
#11 DONE 6.0s

#12 exporting to image
#12 exporting layers
#12 exporting layers 48.0s done
#12 writing image sha256:e3c48a3c1af021f3ef51c96626f78c8bd652e5d5ff4ecaea7987df033bf0d709 done
#12 naming to docker.io/library/tmp:tmp done
#12 DONE 48.0s
