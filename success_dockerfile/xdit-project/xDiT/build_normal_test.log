#0 building with "default" instance using docker driver

#1 [internal] load build definition from Dockerfile
#1 transferring dockerfile: 3.58kB done
#1 DONE 0.0s

#2 [internal] load metadata for docker.io/library/python:3.10
#2 DONE 0.0s

#3 [internal] load .dockerignore
#3 transferring context: 2B done
#3 DONE 0.0s

#4 [internal] load build context
#4 transferring context: 25.47kB done
#4 DONE 0.0s

#5 [ 1/10] FROM docker.io/library/python:3.10
#5 CACHED

#6 [ 2/10] COPY search_patch /search_patch
#6 DONE 0.1s

#7 [ 3/10] COPY code_edit.py /code_edit.py
#7 DONE 0.0s

#8 [ 4/10] RUN mkdir -p ~/.pip && touch ~/.pip/pip.conf &&     echo "[global]" >> ~/.pip/pip.conf && echo "index-url=http://simple/" >> ~/.pip/pip.conf && echo "[install]" >> ~/.pip/pip.conf && echo "trusted-host=pypi..org" >> ~/.pip/pip.conf &&     apt-get update && apt-get install -y curl &&     curl -sSL https://install.python-poetry.org | python -
#8 0.553 Get:1 http://deb.debian.org/debian bookworm InRelease [151 kB]
#8 0.918 Get:2 http://deb.debian.org/debian bookworm-updates InRelease [55.4 kB]
#8 1.076 Get:3 http://deb.debian.org/debian-security bookworm-security InRelease [48.0 kB]
#8 1.236 Get:4 http://deb.debian.org/debian bookworm/main amd64 Packages [8792 kB]
#8 1.771 Get:5 http://deb.debian.org/debian bookworm-updates/main amd64 Packages [13.5 kB]
#8 1.926 Get:6 http://deb.debian.org/debian-security bookworm-security/main amd64 Packages [243 kB]
#8 3.136 Fetched 9303 kB in 3s (3378 kB/s)
#8 3.136 Reading package lists...
#8 3.911 Reading package lists...
#8 4.775 Building dependency tree...
#8 5.117 Reading state information...
#8 5.812 curl is already the newest version (7.88.1-10+deb12u8).
#8 5.812 0 upgraded, 0 newly installed, 0 to remove and 33 not upgraded.
#8 25.38 Retrieving Poetry metadata
#8 25.38 
#8 25.38 # Welcome to Poetry!
#8 25.38 
#8 25.38 This will download and install the latest version of Poetry,
#8 25.38 a dependency and package manager for Python.
#8 25.38 
#8 25.38 It will add the `poetry` command to Poetry's bin directory, located at:
#8 25.38 
#8 25.38 /root/.local/bin
#8 25.38 
#8 25.38 You can uninstall at any time by executing this script with the --uninstall option,
#8 25.38 and these changes will be reverted.
#8 25.38 
#8 25.38 Installing Poetry (2.0.1)
#8 25.38 Installing Poetry (2.0.1): Creating environment
#8 25.38 Installing Poetry (2.0.1): Installing Poetry
#8 25.38 Installing Poetry (2.0.1): Creating script
#8 25.38 Installing Poetry (2.0.1): Done
#8 25.38 
#8 25.38 Poetry (2.0.1) is installed now. Great!
#8 25.38 
#8 25.38 To get started you need Poetry's bin directory (/root/.local/bin) in your `PATH`
#8 25.38 environment variable.
#8 25.38 
#8 25.38 Add `export PATH="/root/.local/bin:$PATH"` to your shell configuration file.
#8 25.38 
#8 25.38 Alternatively, you can call Poetry explicitly with `/root/.local/bin/poetry`.
#8 25.38 
#8 25.38 You can test that everything is set up by executing:
#8 25.38 
#8 25.38 `poetry --version`
#8 25.38 
#8 DONE 25.7s

#9 [ 5/10] RUN pip install pytest pytest-xdist &&     pip install pipdeptree &&     git clone https://github.com/xdit-project/xDiT.git &&     mkdir /repo &&     git config --global --add safe.directory /repo &&     cp -r /xDiT/. /repo && rm -rf /xDiT/ &&     rm -rf /xDiT &&     cd /repo && git checkout a7bd51915fc0b31dd0fdca30adab1fea8c2b7354 &&     pip install torch==2.5.1 &&     apt-get update -qq &&     python /code_edit.py -t "/search_patch/0.patch" &&     cd /repo && pip install -e . &&     apt-get update -qq &&     apt-get update -qq &&     apt-get install -y -qq gnupg2 curl &&     curl -s -L https://nvidia.github.io/nvidia-container-runtime/gpgkey | apt-key add - &&     curl -s -L https://nvidia.github.io/nvidia-container-runtime/nvidia-container-runtime.list | tee /etc/apt/sources.list.d/nvidia-container-runtime.list &&     apt-get update -qq &&     python /code_edit.py -t "/search_patch/1.patch" &&     pip install yunchang==0.6.0 -U &&     pip install yunchang==0.6.0 &&     python /code_edit.py -t "/search_patch/2.patch" &&     python /code_edit.py -t "/search_patch/3.patch" &&     python /code_edit.py -t "/search_patch/4.patch" &&     python /code_edit.py -t "/search_patch/5.patch" &&     pip install ninja==1.11.1.3
#9 1.824 Looking in indexes: http://simple/
#9 1.967 Collecting pytest
#9 1.983   Downloading http://packages/pytest/pytest-8.3.4-py3-none-any.whl (343 kB)
#9 1.998      ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 343.1/343.1 kB 32.7 MB/s eta 0:00:00
#9 2.064 Collecting pytest-xdist
#9 2.080   Downloading http://packages/pytest-xdist/pytest_xdist-3.6.1-py3-none-any.whl (46 kB)
#9 2.089      ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 46.1/46.1 kB 7.3 MB/s eta 0:00:00
#9 2.148 Collecting exceptiongroup>=1.0.0rc8
#9 2.165   Downloading http://packages/exceptiongroup/exceptiongroup-1.2.2-py3-none-any.whl (16 kB)
#9 2.225 Collecting packaging
#9 2.242   Downloading http://packages/packaging/packaging-24.2-py3-none-any.whl (65 kB)
#9 2.251      ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 65.5/65.5 kB 10.8 MB/s eta 0:00:00
#9 2.274 Collecting iniconfig
#9 2.289   Downloading http://packages/iniconfig/iniconfig-2.0.0-py3-none-any.whl (5.9 kB)
#9 2.338 Collecting tomli>=1
#9 2.353   Downloading http://packages/tomli/tomli-2.2.1-py3-none-any.whl (14 kB)
#9 2.398 Collecting pluggy<2,>=1.5
#9 2.415   Downloading http://packages/pluggy/pluggy-1.5.0-py3-none-any.whl (20 kB)
#9 2.482 Collecting execnet>=2.1
#9 2.496   Downloading http://packages/execnet/execnet-2.1.1-py3-none-any.whl (40 kB)
#9 2.505      ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 40.6/40.6 kB 6.3 MB/s eta 0:00:00
#9 2.623 Installing collected packages: tomli, pluggy, packaging, iniconfig, execnet, exceptiongroup, pytest, pytest-xdist
#9 3.171 Successfully installed exceptiongroup-1.2.2 execnet-2.1.1 iniconfig-2.0.0 packaging-24.2 pluggy-1.5.0 pytest-8.3.4 pytest-xdist-3.6.1 tomli-2.2.1
#9 3.171 WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv
#9 3.292 
#9 3.292 [notice] A new release of pip is available: 23.0.1 -> 25.0
#9 3.292 [notice] To update, run: pip install --upgrade pip
#9 3.998 Looking in indexes: http://simple/
#9 4.074 Collecting pipdeptree
#9 4.088   Downloading http://packages/pipdeptree/pipdeptree-2.25.0-py3-none-any.whl (32 kB)
#9 4.221 Collecting pip>=24.2
#9 4.239   Using cached http://packages/pip/pip-25.0-py3-none-any.whl (1.8 MB)
#9 4.257 Requirement already satisfied: packaging>=24.1 in /usr/local/lib/python3.10/site-packages (from pipdeptree) (24.2)
#9 4.362 Installing collected packages: pip, pipdeptree
#9 4.362   Attempting uninstall: pip
#9 4.363     Found existing installation: pip 23.0.1
#9 4.525     Uninstalling pip-23.0.1:
#9 4.777       Successfully uninstalled pip-23.0.1
#9 6.171 Successfully installed pip-25.0 pipdeptree-2.25.0
#9 6.171 WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv
#9 6.338 Cloning into 'xDiT'...
#9 10.81 Note: switching to 'a7bd51915fc0b31dd0fdca30adab1fea8c2b7354'.
#9 10.81 
#9 10.81 You are in 'detached HEAD' state. You can look around, make experimental
#9 10.81 changes and commit them, and you can discard any commits you make in this
#9 10.81 state without impacting any branches by switching back to a branch.
#9 10.81 
#9 10.81 If you want to create a new branch to retain commits you create, you may
#9 10.81 do so (now or later) by using -c with the switch command. Example:
#9 10.81 
#9 10.81   git switch -c <new-branch-name>
#9 10.81 
#9 10.81 Or undo this operation with:
#9 10.81 
#9 10.81   git switch -
#9 10.81 
#9 10.81 Turn off this advice by setting config variable advice.detachedHead to false
#9 10.81 
#9 10.81 HEAD is now at a7bd519 fix readme typos for hunyuanvideo (#390)
#9 11.63 Looking in indexes: http://simple/
#9 11.79 Collecting torch==2.5.1
#9 11.82   Downloading http://packages/torch/torch-2.5.1-cp310-cp310-manylinux1_x86_64.whl (906.4 MB)
#9 22.06      ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 906.4/906.4 MB 39.1 MB/s eta 0:00:00
#9 25.18 Collecting filelock (from torch==2.5.1)
#9 25.19   Using cached http://packages/filelock/filelock-3.17.0-py3-none-any.whl (16 kB)
#9 25.22 Collecting typing-extensions>=4.8.0 (from torch==2.5.1)
#9 25.24   Downloading http://packages/typing-extensions/typing_extensions-4.12.2-py3-none-any.whl (37 kB)
#9 25.29 Collecting networkx (from torch==2.5.1)
#9 25.30   Downloading http://packages/networkx/networkx-3.4.2-py3-none-any.whl (1.7 MB)
#9 25.32      ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 1.7/1.7 MB 106.1 MB/s eta 0:00:00
#9 25.37 Collecting jinja2 (from torch==2.5.1)
#9 25.39   Downloading http://packages/jinja2/jinja2-3.1.5-py3-none-any.whl (134 kB)
#9 25.44 Collecting fsspec (from torch==2.5.1)
#9 25.45   Downloading http://packages/fsspec/fsspec-2025.2.0-py3-none-any.whl (184 kB)
#9 25.54 Collecting nvidia-cuda-nvrtc-cu12==12.4.127 (from torch==2.5.1)
#9 25.55   Downloading http://packages/nvidia-cuda-nvrtc-cu12/nvidia_cuda_nvrtc_cu12-12.4.127-py3-none-manylinux2014_x86_64.whl (24.6 MB)
#9 25.68      ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 24.6/24.6 MB 205.9 MB/s eta 0:00:00
#9 25.78 Collecting nvidia-cuda-runtime-cu12==12.4.127 (from torch==2.5.1)
#9 25.79   Downloading http://packages/nvidia-cuda-runtime-cu12/nvidia_cuda_runtime_cu12-12.4.127-py3-none-manylinux2014_x86_64.whl (883 kB)
#9 25.81      ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 883.7/883.7 kB 59.7 MB/s eta 0:00:00
#9 25.84 Collecting nvidia-cuda-cupti-cu12==12.4.127 (from torch==2.5.1)
#9 25.85   Downloading http://packages/nvidia-cuda-cupti-cu12/nvidia_cuda_cupti_cu12-12.4.127-py3-none-manylinux2014_x86_64.whl (13.8 MB)
#9 25.92      ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 13.8/13.8 MB 204.6 MB/s eta 0:00:00
#9 25.99 Collecting nvidia-cudnn-cu12==9.1.0.70 (from torch==2.5.1)
#9 26.01   Downloading http://packages/nvidia-cudnn-cu12/nvidia_cudnn_cu12-9.1.0.70-py3-none-manylinux2014_x86_64.whl (664.8 MB)
#9 31.62      ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 664.8/664.8 MB 57.6 MB/s eta 0:00:00
#9 33.77 Collecting nvidia-cublas-cu12==12.4.5.8 (from torch==2.5.1)
#9 33.78   Downloading http://packages/nvidia-cublas-cu12/nvidia_cublas_cu12-12.4.5.8-py3-none-manylinux2014_x86_64.whl (363.4 MB)
#9 36.56      ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 363.4/363.4 MB 106.7 MB/s eta 0:00:00
#9 37.74 Collecting nvidia-cufft-cu12==11.2.1.3 (from torch==2.5.1)
#9 37.76   Downloading http://packages/nvidia-cufft-cu12/nvidia_cufft_cu12-11.2.1.3-py3-none-manylinux2014_x86_64.whl (211.5 MB)
#9 39.17      ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 211.5/211.5 MB 150.5 MB/s eta 0:00:00
#9 39.84 Collecting nvidia-curand-cu12==10.3.5.147 (from torch==2.5.1)
#9 39.86   Downloading http://packages/nvidia-curand-cu12/nvidia_curand_cu12-10.3.5.147-py3-none-manylinux2014_x86_64.whl (56.3 MB)
#9 40.19      ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 56.3/56.3 MB 171.5 MB/s eta 0:00:00
#9 40.39 Collecting nvidia-cusolver-cu12==11.6.1.9 (from torch==2.5.1)
#9 40.41   Downloading http://packages/nvidia-cusolver-cu12/nvidia_cusolver_cu12-11.6.1.9-py3-none-manylinux2014_x86_64.whl (127.9 MB)
#9 41.05      ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 127.9/127.9 MB 200.6 MB/s eta 0:00:00
#9 41.51 Collecting nvidia-cusparse-cu12==12.3.1.170 (from torch==2.5.1)
#9 41.53   Downloading http://packages/nvidia-cusparse-cu12/nvidia_cusparse_cu12-12.3.1.170-py3-none-manylinux2014_x86_64.whl (207.5 MB)
#9 42.66      ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 207.5/207.5 MB 182.7 MB/s eta 0:00:00
#9 43.34 Collecting nvidia-nccl-cu12==2.21.5 (from torch==2.5.1)
#9 43.35   Downloading http://packages/nvidia-nccl-cu12/nvidia_nccl_cu12-2.21.5-py3-none-manylinux2014_x86_64.whl (188.7 MB)
#9 46.78      ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 188.7/188.7 MB 55.0 MB/s eta 0:00:00
#9 47.40 Collecting nvidia-nvtx-cu12==12.4.127 (from torch==2.5.1)
#9 47.41   Downloading http://packages/nvidia-nvtx-cu12/nvidia_nvtx_cu12-12.4.127-py3-none-manylinux2014_x86_64.whl (99 kB)
#9 47.85 Collecting nvidia-nvjitlink-cu12==12.4.127 (from torch==2.5.1)
#9 47.87   Downloading http://packages/nvidia-nvjitlink-cu12/nvidia_nvjitlink_cu12-12.4.127-py3-none-manylinux2014_x86_64.whl (21.1 MB)
#9 47.98      ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 21.1/21.1 MB 198.7 MB/s eta 0:00:00
#9 48.08 Collecting triton==3.1.0 (from torch==2.5.1)
#9 48.10   Downloading http://packages/triton/triton-3.1.0-cp310-cp310-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (209.5 MB)
#9 49.88      ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 209.5/209.5 MB 117.7 MB/s eta 0:00:00
#9 50.57 Collecting sympy==1.13.1 (from torch==2.5.1)
#9 50.58   Downloading http://packages/sympy/sympy-1.13.1-py3-none-any.whl (6.2 MB)
#9 50.62      ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 6.2/6.2 MB 170.2 MB/s eta 0:00:00
#9 50.70 Collecting mpmath<1.4,>=1.1.0 (from sympy==1.13.1->torch==2.5.1)
#9 50.72   Downloading http://packages/mpmath/mpmath-1.3.0-py3-none-any.whl (536 kB)
#9 50.73      ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 536.2/536.2 kB 28.1 MB/s eta 0:00:00
#9 50.86 Collecting MarkupSafe>=2.0 (from jinja2->torch==2.5.1)
#9 50.87   Downloading http://packages/markupsafe/MarkupSafe-3.0.2-cp310-cp310-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (20 kB)
#9 51.26 Installing collected packages: mpmath, typing-extensions, sympy, nvidia-nvtx-cu12, nvidia-nvjitlink-cu12, nvidia-nccl-cu12, nvidia-curand-cu12, nvidia-cufft-cu12, nvidia-cuda-runtime-cu12, nvidia-cuda-nvrtc-cu12, nvidia-cuda-cupti-cu12, nvidia-cublas-cu12, networkx, MarkupSafe, fsspec, filelock, triton, nvidia-cusparse-cu12, nvidia-cudnn-cu12, jinja2, nvidia-cusolver-cu12, torch
#9 124.1 Successfully installed MarkupSafe-3.0.2 filelock-3.17.0 fsspec-2025.2.0 jinja2-3.1.5 mpmath-1.3.0 networkx-3.4.2 nvidia-cublas-cu12-12.4.5.8 nvidia-cuda-cupti-cu12-12.4.127 nvidia-cuda-nvrtc-cu12-12.4.127 nvidia-cuda-runtime-cu12-12.4.127 nvidia-cudnn-cu12-9.1.0.70 nvidia-cufft-cu12-11.2.1.3 nvidia-curand-cu12-10.3.5.147 nvidia-cusolver-cu12-11.6.1.9 nvidia-cusparse-cu12-12.3.1.170 nvidia-nccl-cu12-2.21.5 nvidia-nvjitlink-cu12-12.4.127 nvidia-nvtx-cu12-12.4.127 sympy-1.13.1 torch-2.5.1 triton-3.1.0 typing-extensions-4.12.2
#9 124.1 WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager, possibly rendering your system unusable. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv. Use the --root-user-action option if you know what you are doing and want to suppress this warning.
#9 127.1 * Succeed Patch:
#9 127.1 --- areposetup.py
#9 127.1 +++ breposetup.py
#9 127.1 @@ -39,7 +39,6 @@
#9 127.1              "imageio",
#9 127.1              "imageio-ffmpeg",
#9 127.1              "optimum-quanto",
#9 127.1 -            "flash_attn>=2.6.3"
#9 127.1          ],
#9 127.1          extras_require={
#9 127.1              "diffusers": [
#9 127.1 
#9 127.1 
#9 127.7 Looking in indexes: http://simple/
#9 127.7 Obtaining file:///repo
#9 127.7   Preparing metadata (setup.py): started
#9 128.5   Preparing metadata (setup.py): finished with status 'done'
#9 128.5 Requirement already satisfied: torch>=2.1.0 in /usr/local/lib/python3.10/site-packages (from xfuser==0.4.0) (2.5.1)
#9 128.6 Collecting accelerate>=0.33.0 (from xfuser==0.4.0)
#9 128.6   Downloading http://packages/accelerate/accelerate-1.3.0-py3-none-any.whl (336 kB)
#9 128.7 Collecting transformers>=4.39.1 (from xfuser==0.4.0)
#9 128.7   Downloading http://packages/transformers/transformers-4.48.3-py3-none-any.whl (9.7 MB)
#9 128.8      ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 9.7/9.7 MB 135.1 MB/s eta 0:00:00
#9 129.3 Collecting sentencepiece>=0.1.99 (from xfuser==0.4.0)
#9 129.3   Downloading http://packages/sentencepiece/sentencepiece-0.2.0-cp310-cp310-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (1.3 MB)
#9 129.3      ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 1.3/1.3 MB 82.3 MB/s eta 0:00:00
#9 129.3 Collecting beautifulsoup4>=4.12.3 (from xfuser==0.4.0)
#9 129.3   Downloading http://packages/beautifulsoup4/beautifulsoup4-4.13.3-py3-none-any.whl (186 kB)
#9 129.4 Collecting distvae (from xfuser==0.4.0)
#9 129.5   Downloading http://packages/distvae/DistVAE-0.0.0b5-py3-none-any.whl (28 kB)
#9 129.6 Collecting yunchang>=0.3.0 (from xfuser==0.4.0)
#9 129.7   Downloading http://packages/yunchang/yunchang-0.6.0-py3-none-any.whl (50 kB)
#9 129.7 Requirement already satisfied: pytest in /usr/local/lib/python3.10/site-packages (from xfuser==0.4.0) (8.3.4)
#9 129.8 Collecting flask (from xfuser==0.4.0)
#9 129.8   Downloading http://packages/flask/flask-3.1.0-py3-none-any.whl (102 kB)
#9 129.9 Collecting opencv-python (from xfuser==0.4.0)
#9 129.9   Downloading http://packages/opencv-python/opencv_python-4.11.0.86-cp37-abi3-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (63.0 MB)
#9 130.3      ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 63.0/63.0 MB 196.4 MB/s eta 0:00:00
#9 130.5 Collecting imageio (from xfuser==0.4.0)
#9 130.5   Downloading http://packages/imageio/imageio-2.37.0-py3-none-any.whl (315 kB)
#9 130.6 Collecting imageio-ffmpeg (from xfuser==0.4.0)
#9 130.6   Downloading http://packages/imageio-ffmpeg/imageio_ffmpeg-0.6.0-py3-none-manylinux2014_x86_64.whl (29.5 MB)
#9 130.8      ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 29.5/29.5 MB 208.1 MB/s eta 0:00:00
#9 131.0 Collecting optimum-quanto (from xfuser==0.4.0)
#9 131.2   Downloading http://packages/optimum-quanto/optimum_quanto-0.2.6-py3-none-any.whl (165 kB)
#9 131.7 Collecting numpy<3.0.0,>=1.17 (from accelerate>=0.33.0->xfuser==0.4.0)
#9 131.7   Downloading http://packages/numpy/numpy-2.2.2-cp310-cp310-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (16.4 MB)
#9 132.3      ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 16.4/16.4 MB 31.4 MB/s eta 0:00:00
#9 132.4 Requirement already satisfied: packaging>=20.0 in /usr/local/lib/python3.10/site-packages (from accelerate>=0.33.0->xfuser==0.4.0) (24.2)
#9 132.6 Collecting psutil (from accelerate>=0.33.0->xfuser==0.4.0)
#9 132.6   Downloading http://packages/psutil/psutil-6.1.1-cp36-abi3-manylinux_2_12_x86_64.manylinux2010_x86_64.manylinux_2_17_x86_64.manylinux2014_x86_64.whl (287 kB)
#9 133.0 Collecting pyyaml (from accelerate>=0.33.0->xfuser==0.4.0)
#9 133.0   Downloading http://packages/pyyaml/PyYAML-6.0.2-cp310-cp310-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (751 kB)
#9 133.4      ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 751.2/751.2 kB 1.3 MB/s eta 0:00:00
#9 133.5 Collecting huggingface-hub>=0.21.0 (from accelerate>=0.33.0->xfuser==0.4.0)
#9 133.5   Downloading http://packages/huggingface-hub/huggingface_hub-0.28.1-py3-none-any.whl (464 kB)
#9 134.1 Collecting safetensors>=0.4.3 (from accelerate>=0.33.0->xfuser==0.4.0)
#9 134.1   Downloading http://packages/safetensors/safetensors-0.5.2-cp38-abi3-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (461 kB)
#9 135.1 Collecting soupsieve>1.2 (from beautifulsoup4>=4.12.3->xfuser==0.4.0)
#9 135.2   Downloading http://packages/soupsieve/soupsieve-2.6-py3-none-any.whl (36 kB)
#9 135.8 Requirement already satisfied: typing-extensions>=4.0.0 in /usr/local/lib/python3.10/site-packages (from beautifulsoup4>=4.12.3->xfuser==0.4.0) (4.12.2)
#9 135.8 Requirement already satisfied: filelock in /usr/local/lib/python3.10/site-packages (from torch>=2.1.0->xfuser==0.4.0) (3.17.0)
#9 135.8 Requirement already satisfied: networkx in /usr/local/lib/python3.10/site-packages (from torch>=2.1.0->xfuser==0.4.0) (3.4.2)
#9 135.8 Requirement already satisfied: jinja2 in /usr/local/lib/python3.10/site-packages (from torch>=2.1.0->xfuser==0.4.0) (3.1.5)
#9 135.8 Requirement already satisfied: fsspec in /usr/local/lib/python3.10/site-packages (from torch>=2.1.0->xfuser==0.4.0) (2025.2.0)
#9 135.8 Requirement already satisfied: nvidia-cuda-nvrtc-cu12==12.4.127 in /usr/local/lib/python3.10/site-packages (from torch>=2.1.0->xfuser==0.4.0) (12.4.127)
#9 135.8 Requirement already satisfied: nvidia-cuda-runtime-cu12==12.4.127 in /usr/local/lib/python3.10/site-packages (from torch>=2.1.0->xfuser==0.4.0) (12.4.127)
#9 135.8 Requirement already satisfied: nvidia-cuda-cupti-cu12==12.4.127 in /usr/local/lib/python3.10/site-packages (from torch>=2.1.0->xfuser==0.4.0) (12.4.127)
#9 135.8 Requirement already satisfied: nvidia-cudnn-cu12==9.1.0.70 in /usr/local/lib/python3.10/site-packages (from torch>=2.1.0->xfuser==0.4.0) (9.1.0.70)
#9 135.8 Requirement already satisfied: nvidia-cublas-cu12==12.4.5.8 in /usr/local/lib/python3.10/site-packages (from torch>=2.1.0->xfuser==0.4.0) (12.4.5.8)
#9 135.8 Requirement already satisfied: nvidia-cufft-cu12==11.2.1.3 in /usr/local/lib/python3.10/site-packages (from torch>=2.1.0->xfuser==0.4.0) (11.2.1.3)
#9 135.8 Requirement already satisfied: nvidia-curand-cu12==10.3.5.147 in /usr/local/lib/python3.10/site-packages (from torch>=2.1.0->xfuser==0.4.0) (10.3.5.147)
#9 135.8 Requirement already satisfied: nvidia-cusolver-cu12==11.6.1.9 in /usr/local/lib/python3.10/site-packages (from torch>=2.1.0->xfuser==0.4.0) (11.6.1.9)
#9 135.8 Requirement already satisfied: nvidia-cusparse-cu12==12.3.1.170 in /usr/local/lib/python3.10/site-packages (from torch>=2.1.0->xfuser==0.4.0) (12.3.1.170)
#9 135.8 Requirement already satisfied: nvidia-nccl-cu12==2.21.5 in /usr/local/lib/python3.10/site-packages (from torch>=2.1.0->xfuser==0.4.0) (2.21.5)
#9 135.8 Requirement already satisfied: nvidia-nvtx-cu12==12.4.127 in /usr/local/lib/python3.10/site-packages (from torch>=2.1.0->xfuser==0.4.0) (12.4.127)
#9 135.8 Requirement already satisfied: nvidia-nvjitlink-cu12==12.4.127 in /usr/local/lib/python3.10/site-packages (from torch>=2.1.0->xfuser==0.4.0) (12.4.127)
#9 135.8 Requirement already satisfied: triton==3.1.0 in /usr/local/lib/python3.10/site-packages (from torch>=2.1.0->xfuser==0.4.0) (3.1.0)
#9 135.8 Requirement already satisfied: sympy==1.13.1 in /usr/local/lib/python3.10/site-packages (from torch>=2.1.0->xfuser==0.4.0) (1.13.1)
#9 135.8 Requirement already satisfied: mpmath<1.4,>=1.1.0 in /usr/local/lib/python3.10/site-packages (from sympy==1.13.1->torch>=2.1.0->xfuser==0.4.0) (1.3.0)
#9 136.5 Collecting regex!=2019.12.17 (from transformers>=4.39.1->xfuser==0.4.0)
#9 136.5   Downloading http://packages/regex/regex-2024.11.6-cp310-cp310-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (781 kB)
#9 136.6      ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 781.7/781.7 kB 44.7 MB/s eta 0:00:00
#9 136.6 Collecting requests (from transformers>=4.39.1->xfuser==0.4.0)
#9 136.6   Using cached http://packages/requests/requests-2.32.3-py3-none-any.whl (64 kB)
#9 137.0 Collecting tokenizers<0.22,>=0.21 (from transformers>=4.39.1->xfuser==0.4.0)
#9 137.0   Downloading http://packages/tokenizers/tokenizers-0.21.0-cp39-abi3-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (3.0 MB)
#9 137.0      ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 3.0/3.0 MB 129.0 MB/s eta 0:00:00
#9 137.1 Collecting tqdm>=4.27 (from transformers>=4.39.1->xfuser==0.4.0)
#9 137.1   Downloading http://packages/tqdm/tqdm-4.67.1-py3-none-any.whl (78 kB)
#9 137.3 Collecting diffusers>=0.27.2 (from distvae->xfuser==0.4.0)
#9 137.3   Downloading http://packages/diffusers/diffusers-0.32.2-py3-none-any.whl (3.2 MB)
#9 137.3      ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 3.2/3.2 MB 103.0 MB/s eta 0:00:00
#9 137.4 Collecting Werkzeug>=3.1 (from flask->xfuser==0.4.0)
#9 137.4   Downloading http://packages/werkzeug/werkzeug-3.1.3-py3-none-any.whl (224 kB)
#9 137.5 Collecting itsdangerous>=2.2 (from flask->xfuser==0.4.0)
#9 137.5   Downloading http://packages/itsdangerous/itsdangerous-2.2.0-py3-none-any.whl (16 kB)
#9 137.5 Collecting click>=8.1.3 (from flask->xfuser==0.4.0)
#9 137.5   Downloading http://packages/click/click-8.1.8-py3-none-any.whl (98 kB)
#9 137.6 Collecting blinker>=1.9 (from flask->xfuser==0.4.0)
#9 137.6   Downloading http://packages/blinker/blinker-1.9.0-py3-none-any.whl (8.5 kB)
#9 137.9 Collecting pillow>=8.3.2 (from imageio->xfuser==0.4.0)
#9 138.0   Downloading http://packages/pillow/pillow-11.1.0-cp310-cp310-manylinux_2_28_x86_64.whl (4.5 MB)
#9 138.0      ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 4.5/4.5 MB 138.0 MB/s eta 0:00:00
#9 138.1 Collecting ninja (from optimum-quanto->xfuser==0.4.0)
#9 138.2   Downloading http://packages/ninja/ninja-1.11.1.3-py3-none-manylinux_2_12_x86_64.manylinux2010_x86_64.whl (422 kB)
#9 138.2 Requirement already satisfied: exceptiongroup>=1.0.0rc8 in /usr/local/lib/python3.10/site-packages (from pytest->xfuser==0.4.0) (1.2.2)
#9 138.2 Requirement already satisfied: iniconfig in /usr/local/lib/python3.10/site-packages (from pytest->xfuser==0.4.0) (2.0.0)
#9 138.2 Requirement already satisfied: pluggy<2,>=1.5 in /usr/local/lib/python3.10/site-packages (from pytest->xfuser==0.4.0) (1.5.0)
#9 138.2 Requirement already satisfied: tomli>=1 in /usr/local/lib/python3.10/site-packages (from pytest->xfuser==0.4.0) (2.2.1)
#9 138.2 Collecting importlib-metadata (from diffusers>=0.27.2->distvae->xfuser==0.4.0)
#9 138.2   Using cached http://packages/importlib-metadata/importlib_metadata-8.6.1-py3-none-any.whl (26 kB)
#9 138.4 Requirement already satisfied: MarkupSafe>=2.0 in /usr/local/lib/python3.10/site-packages (from jinja2->torch>=2.1.0->xfuser==0.4.0) (3.0.2)
#9 138.6 Collecting charset-normalizer<4,>=2 (from requests->transformers>=4.39.1->xfuser==0.4.0)
#9 138.6   Using cached http://packages/charset-normalizer/charset_normalizer-3.4.1-cp310-cp310-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (146 kB)
#9 138.6 Collecting idna<4,>=2.5 (from requests->transformers>=4.39.1->xfuser==0.4.0)
#9 138.6   Using cached http://packages/idna/idna-3.10-py3-none-any.whl (70 kB)
#9 138.7 Collecting urllib3<3,>=1.21.1 (from requests->transformers>=4.39.1->xfuser==0.4.0)
#9 138.7   Using cached http://packages/urllib3/urllib3-2.3.0-py3-none-any.whl (128 kB)
#9 138.7 Collecting certifi>=2017.4.17 (from requests->transformers>=4.39.1->xfuser==0.4.0)
#9 138.7   Using cached http://packages/certifi/certifi-2025.1.31-py3-none-any.whl (166 kB)
#9 138.8 Collecting zipp>=3.20 (from importlib-metadata->diffusers>=0.27.2->distvae->xfuser==0.4.0)
#9 138.8   Using cached http://packages/zipp/zipp-3.21.0-py3-none-any.whl (9.6 kB)
#9 139.5 Installing collected packages: sentencepiece, zipp, yunchang, Werkzeug, urllib3, tqdm, soupsieve, safetensors, regex, pyyaml, psutil, pillow, numpy, ninja, itsdangerous, imageio-ffmpeg, idna, click, charset-normalizer, certifi, blinker, requests, opencv-python, importlib-metadata, imageio, flask, beautifulsoup4, huggingface-hub, tokenizers, optimum-quanto, diffusers, accelerate, transformers, distvae, xfuser
#9 158.4   DEPRECATION: Legacy editable install of xfuser==0.4.0 from file:///repo (setup.py develop) is deprecated. pip 25.1 will enforce this behaviour change. A possible replacement is to add a pyproject.toml or enable --use-pep517, and use setuptools >= 64. If the resulting installation is not behaving as expected, try using --config-settings editable_mode=compat. Please consult the setuptools documentation for more information. Discussion can be found at https://github.com/pypa/pip/issues/11457
#9 158.4   Running setup.py develop for xfuser
#9 159.1 Successfully installed Werkzeug-3.1.3 accelerate-1.3.0 beautifulsoup4-4.13.3 blinker-1.9.0 certifi-2025.1.31 charset-normalizer-3.4.1 click-8.1.8 diffusers-0.32.2 distvae-0.0.0b5 flask-3.1.0 huggingface-hub-0.28.1 idna-3.10 imageio-2.37.0 imageio-ffmpeg-0.6.0 importlib-metadata-8.6.1 itsdangerous-2.2.0 ninja-1.11.1.3 numpy-2.2.2 opencv-python-4.11.0.86 optimum-quanto-0.2.6 pillow-11.1.0 psutil-6.1.1 pyyaml-6.0.2 regex-2024.11.6 requests-2.32.3 safetensors-0.5.2 sentencepiece-0.2.0 soupsieve-2.6 tokenizers-0.21.0 tqdm-4.67.1 transformers-4.48.3 urllib3-2.3.0 xfuser yunchang-0.6.0 zipp-3.21.0
#9 159.1 WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager, possibly rendering your system unusable. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv. Use the --root-user-action option if you know what you are doing and want to suppress this warning.
#9 165.2 debconf: delaying package configuration, since apt-utils is not installed
#9 165.3 Selecting previously unselected package gnupg2.
#9 165.3 (Reading database ... 
(Reading database ... 5%
(Reading database ... 10%
(Reading database ... 15%
(Reading database ... 20%
(Reading database ... 25%
(Reading database ... 30%
(Reading database ... 35%
(Reading database ... 40%
(Reading database ... 45%
(Reading database ... 50%
(Reading database ... 55%
(Reading database ... 60%
(Reading database ... 65%
(Reading database ... 70%
(Reading database ... 75%
(Reading database ... 80%
(Reading database ... 85%
(Reading database ... 90%
(Reading database ... 95%
(Reading database ... 100%
(Reading database ... 23969 files and directories currently installed.)
#9 165.5 Preparing to unpack .../gnupg2_2.2.40-1.1_all.deb ...
#9 165.5 Unpacking gnupg2 (2.2.40-1.1) ...
#9 165.6 Setting up gnupg2 (2.2.40-1.1) ...
#9 165.7 Warning: apt-key is deprecated. Manage keyring files in trusted.gpg.d instead (see apt-key(8)).
#9 166.5 OK
#9 166.9 # Unsupported distribution!
#9 166.9 # Check https://nvidia.github.io/nvidia-container-runtime
#9 168.2 * Succeed Patch:
#9 168.2 --- arepoxfuserenvs.py
#9 168.2 +++ brepoxfuserenvs.py
#9 168.2 @@ -60,7 +60,7 @@
#9 168.2  
#9 168.2      def initialize(self):
#9 168.2          self.packages_info = {
#9 168.2 -            "has_flash_attn": self.check_flash_attn(),
#9 168.2 +            "has_flash_attn": False,
#9 168.2              "has_long_ctx_attn": self.check_long_ctx_attn(),
#9 168.2              "diffusers_version": self.check_diffusers_version(),
#9 168.2          }
#9 168.2 
#9 168.2 
#9 168.8 Looking in indexes: http://simple/
#9 168.8 Requirement already satisfied: yunchang==0.6.0 in /usr/local/lib/python3.10/site-packages (0.6.0)
#9 169.5 WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager, possibly rendering your system unusable. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv. Use the --root-user-action option if you know what you are doing and want to suppress this warning.
#9 170.2 Looking in indexes: http://simple/
#9 170.2 Requirement already satisfied: yunchang==0.6.0 in /usr/local/lib/python3.10/site-packages (0.6.0)
#9 170.8 WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager, possibly rendering your system unusable. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv. Use the --root-user-action option if you know what you are doing and want to suppress this warning.
#9 171.1 * Succeed Patch:
#9 171.1 --- arepoxfusercorelong_ctx_attentionulyssesattn_layer.py
#9 171.1 +++ brepoxfusercorelong_ctx_attentionulyssesattn_layer.py
#9 171.1 @@ -10,7 +10,7 @@
#9 171.1  from yunchang.comm.all_to_all import SeqAllToAll4D
#9 171.1  try:
#9 171.1      # yunchang > 0.4.0
#9 171.1 -    from yunchang.kernels.attention import torch_attn
#9 171.1 +    from yunchang.kernels.attention import pytorch_attn_forward as torch_attn
#9 171.1  except:
#9 171.1      print(f"detect you are not use the latest yunchang. Please install yunchang>=0.4.0")
#9 171.1      try:
#9 171.1 
#9 171.1 
#9 171.1 * Succeed Patch:
#9 171.1 --- arepoxfusercorefast_attentionattn_layer.py
#9 171.1 +++ brepoxfusercorefast_attentionattn_layer.py
#9 171.1 @@ -7,7 +7,6 @@
#9 171.1  from diffusers.models.attention_processor import Attention
#9 171.1  from typing import Optional
#9 171.1  import torch.nn.functional as F
#9 171.1 -import flash_attn
#9 171.1  from enum import Flag, auto
#9 171.1  from .fast_attn_state import get_fast_attn_window_size
#9 171.1  
#9 171.1 
#9 171.1 
#9 171.2 * Succeed Patch:
#9 171.2 --- arepoxfusercorelong_ctx_attentionringring_flash_attn.py
#9 171.2 +++ brepoxfusercorelong_ctx_attentionringring_flash_attn.py
#9 171.2 @@ -1,5 +1,4 @@
#9 171.2  import torch
#9 171.2 -import flash_attn
#9 171.2  from flash_attn.flash_attn_interface import _flash_attn_forward
#9 171.2  from xfuser.core.long_ctx_attention import xFuserLongContextAttention
#9 171.2  from xfuser.core.cache_manager.cache_manager import get_cache_manager
#9 171.2 
#9 171.2 
#9 171.3 * Succeed Patch:
#9 171.3 --- arepoxfusercorelong_ctx_attentionringring_flash_attn.py
#9 171.3 +++ brepoxfusercorelong_ctx_attentionringring_flash_attn.py
#9 171.3 @@ -1,5 +1,4 @@
#9 171.3  import torch
#9 171.3 -from flash_attn.flash_attn_interface import _flash_attn_forward
#9 171.3  from xfuser.core.long_ctx_attention import xFuserLongContextAttention
#9 171.3  from xfuser.core.cache_manager.cache_manager import get_cache_manager
#9 171.3  from yunchang.ring.utils import RingComm, update_out_and_lse
#9 171.3 
#9 171.3 
#9 171.9 Looking in indexes: http://simple/
#9 171.9 Requirement already satisfied: ninja==1.11.1.3 in /usr/local/lib/python3.10/site-packages (1.11.1.3)
#9 172.5 WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager, possibly rendering your system unusable. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv. Use the --root-user-action option if you know what you are doing and want to suppress this warning.
#9 DONE 174.5s

#10 [ 6/10] RUN apt-get update -qq &&     apt-get update -qq &&     apt-get install -y -qq gnupg2 curl &&     curl -s -L https://developer.download.nvidia.com/compute/cuda/repos/ubuntu2004/x86_64/cuda-ubuntu2004.pin | tee /etc/apt/preferences.d/cuda-repository-pin-600 &&     curl -s -L https://developer.download.nvidia.com/compute/cuda/11.8.0/local_installers/cuda-repo-ubuntu2004-11-8-local_11.8.0-500.101.06-1_amd64.deb -o /tmp/cuda-repo-ubuntu2004-11-8-local_11.8.0-500.101.06-1_amd64.deb &&     apt-key adv --fetch-keys https://developer.download.nvidia.com/compute/cuda/repos/ubuntu2004/x86_64/3bf863cc.pub &&     apt-get update -qq &&     pip install diffusers==0.32.1 &&     pip install distvae==0.0.0b4 &&     pip install Flask==2.2.2 &&     pip install huggingface_hub==0.27.0 &&     pip install imageio==2.26.0 &&     pip install numpy==1.23.5 &&     pip install onediff==1.2.0 &&     pip install optimum==1.23.3 &&     pip install packaging==24.2 &&     pip install Pillow==9.4.0 &&     pip install pytest==7.1.2 &&     pip install setuptools==65.6.3 &&     pip install torch==2.5.1 &&     pip install torch_xla==2.5.1 &&     pip install torchvision==0.20.1 &&     pip install tqdm==4.67.1 &&     pip install yunchang==0.6.0
#10 5.414 Package: nsight-compute
#10 5.414 Pin: origin *ubuntu.com*
#10 5.414 Pin-Priority: -1
#10 5.414 
#10 5.414 Package: nsight-systems
#10 5.414 Pin: origin *ubuntu.com*
#10 5.414 Pin-Priority: -1
#10 5.414 
#10 5.414 Package: *
#10 5.414 Pin: release l=NVIDIA CUDA
#10 5.414 Pin-Priority: 600
#10 7.267 Warning: apt-key is deprecated. Manage keyring files in trusted.gpg.d instead (see apt-key(8)).
#10 7.327 Executing: /tmp/apt-key-gpghome.vA1mHtcSiw/gpg.1.sh --fetch-keys https://developer.download.nvidia.com/compute/cuda/repos/ubuntu2004/x86_64/3bf863cc.pub
#10 7.331 gpg: requesting key from 'https://developer.download.nvidia.com/compute/cuda/repos/ubuntu2004/x86_64/3bf863cc.pub'
#10 8.276 gpg: key A4B469963BF863CC: public key "cudatools <cudatools@nvidia.com>" imported
#10 8.287 gpg: Total number processed: 1
#10 8.287 gpg:               imported: 1
#10 10.82 Looking in indexes: http://simple/
#10 10.87 Collecting diffusers==0.32.1
#10 10.89   Downloading http://packages/diffusers/diffusers-0.32.1-py3-none-any.whl (3.2 MB)
#10 10.96      ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 3.2/3.2 MB 49.6 MB/s eta 0:00:00
#10 11.00 Requirement already satisfied: importlib-metadata in /usr/local/lib/python3.10/site-packages (from diffusers==0.32.1) (8.6.1)
#10 11.00 Requirement already satisfied: filelock in /usr/local/lib/python3.10/site-packages (from diffusers==0.32.1) (3.17.0)
#10 11.00 Requirement already satisfied: huggingface-hub>=0.23.2 in /usr/local/lib/python3.10/site-packages (from diffusers==0.32.1) (0.28.1)
#10 11.00 Requirement already satisfied: numpy in /usr/local/lib/python3.10/site-packages (from diffusers==0.32.1) (2.2.2)
#10 11.01 Requirement already satisfied: regex!=2019.12.17 in /usr/local/lib/python3.10/site-packages (from diffusers==0.32.1) (2024.11.6)
#10 11.01 Requirement already satisfied: requests in /usr/local/lib/python3.10/site-packages (from diffusers==0.32.1) (2.32.3)
#10 11.01 Requirement already satisfied: safetensors>=0.3.1 in /usr/local/lib/python3.10/site-packages (from diffusers==0.32.1) (0.5.2)
#10 11.01 Requirement already satisfied: Pillow in /usr/local/lib/python3.10/site-packages (from diffusers==0.32.1) (11.1.0)
#10 11.08 Requirement already satisfied: fsspec>=2023.5.0 in /usr/local/lib/python3.10/site-packages (from huggingface-hub>=0.23.2->diffusers==0.32.1) (2025.2.0)
#10 11.08 Requirement already satisfied: packaging>=20.9 in /usr/local/lib/python3.10/site-packages (from huggingface-hub>=0.23.2->diffusers==0.32.1) (24.2)
#10 11.08 Requirement already satisfied: pyyaml>=5.1 in /usr/local/lib/python3.10/site-packages (from huggingface-hub>=0.23.2->diffusers==0.32.1) (6.0.2)
#10 11.08 Requirement already satisfied: tqdm>=4.42.1 in /usr/local/lib/python3.10/site-packages (from huggingface-hub>=0.23.2->diffusers==0.32.1) (4.67.1)
#10 11.08 Requirement already satisfied: typing-extensions>=3.7.4.3 in /usr/local/lib/python3.10/site-packages (from huggingface-hub>=0.23.2->diffusers==0.32.1) (4.12.2)
#10 11.11 Requirement already satisfied: zipp>=3.20 in /usr/local/lib/python3.10/site-packages (from importlib-metadata->diffusers==0.32.1) (3.21.0)
#10 11.12 Requirement already satisfied: charset-normalizer<4,>=2 in /usr/local/lib/python3.10/site-packages (from requests->diffusers==0.32.1) (3.4.1)
#10 11.12 Requirement already satisfied: idna<4,>=2.5 in /usr/local/lib/python3.10/site-packages (from requests->diffusers==0.32.1) (3.10)
#10 11.12 Requirement already satisfied: urllib3<3,>=1.21.1 in /usr/local/lib/python3.10/site-packages (from requests->diffusers==0.32.1) (2.3.0)
#10 11.12 Requirement already satisfied: certifi>=2017.4.17 in /usr/local/lib/python3.10/site-packages (from requests->diffusers==0.32.1) (2025.1.31)
#10 11.66 Installing collected packages: diffusers
#10 11.66   Attempting uninstall: diffusers
#10 11.67     Found existing installation: diffusers 0.32.2
#10 11.74     Uninstalling diffusers-0.32.2:
#10 12.32       Successfully uninstalled diffusers-0.32.2
#10 14.74 Successfully installed diffusers-0.32.1
#10 14.74 WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager, possibly rendering your system unusable. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv. Use the --root-user-action option if you know what you are doing and want to suppress this warning.
#10 15.60 Looking in indexes: http://simple/
#10 15.63 Collecting distvae==0.0.0b4
#10 15.73   Downloading http://packages/distvae/DistVAE-0.0.0b4-py3-none-any.whl (27 kB)
#10 15.75 Requirement already satisfied: torch>=2.2 in /usr/local/lib/python3.10/site-packages (from distvae==0.0.0b4) (2.5.1)
#10 15.75 Requirement already satisfied: diffusers>=0.27.2 in /usr/local/lib/python3.10/site-packages (from distvae==0.0.0b4) (0.32.1)
#10 15.75 Requirement already satisfied: transformers in /usr/local/lib/python3.10/site-packages (from distvae==0.0.0b4) (4.48.3)
#10 15.78 Requirement already satisfied: importlib-metadata in /usr/local/lib/python3.10/site-packages (from diffusers>=0.27.2->distvae==0.0.0b4) (8.6.1)
#10 15.78 Requirement already satisfied: filelock in /usr/local/lib/python3.10/site-packages (from diffusers>=0.27.2->distvae==0.0.0b4) (3.17.0)
#10 15.78 Requirement already satisfied: huggingface-hub>=0.23.2 in /usr/local/lib/python3.10/site-packages (from diffusers>=0.27.2->distvae==0.0.0b4) (0.28.1)
#10 15.78 Requirement already satisfied: numpy in /usr/local/lib/python3.10/site-packages (from diffusers>=0.27.2->distvae==0.0.0b4) (2.2.2)
#10 15.78 Requirement already satisfied: regex!=2019.12.17 in /usr/local/lib/python3.10/site-packages (from diffusers>=0.27.2->distvae==0.0.0b4) (2024.11.6)
#10 15.78 Requirement already satisfied: requests in /usr/local/lib/python3.10/site-packages (from diffusers>=0.27.2->distvae==0.0.0b4) (2.32.3)
#10 15.79 Requirement already satisfied: safetensors>=0.3.1 in /usr/local/lib/python3.10/site-packages (from diffusers>=0.27.2->distvae==0.0.0b4) (0.5.2)
#10 15.79 Requirement already satisfied: Pillow in /usr/local/lib/python3.10/site-packages (from diffusers>=0.27.2->distvae==0.0.0b4) (11.1.0)
#10 15.80 Requirement already satisfied: typing-extensions>=4.8.0 in /usr/local/lib/python3.10/site-packages (from torch>=2.2->distvae==0.0.0b4) (4.12.2)
#10 15.80 Requirement already satisfied: networkx in /usr/local/lib/python3.10/site-packages (from torch>=2.2->distvae==0.0.0b4) (3.4.2)
#10 15.80 Requirement already satisfied: jinja2 in /usr/local/lib/python3.10/site-packages (from torch>=2.2->distvae==0.0.0b4) (3.1.5)
#10 15.80 Requirement already satisfied: fsspec in /usr/local/lib/python3.10/site-packages (from torch>=2.2->distvae==0.0.0b4) (2025.2.0)
#10 15.80 Requirement already satisfied: nvidia-cuda-nvrtc-cu12==12.4.127 in /usr/local/lib/python3.10/site-packages (from torch>=2.2->distvae==0.0.0b4) (12.4.127)
#10 15.80 Requirement already satisfied: nvidia-cuda-runtime-cu12==12.4.127 in /usr/local/lib/python3.10/site-packages (from torch>=2.2->distvae==0.0.0b4) (12.4.127)
#10 15.81 Requirement already satisfied: nvidia-cuda-cupti-cu12==12.4.127 in /usr/local/lib/python3.10/site-packages (from torch>=2.2->distvae==0.0.0b4) (12.4.127)
#10 15.81 Requirement already satisfied: nvidia-cudnn-cu12==9.1.0.70 in /usr/local/lib/python3.10/site-packages (from torch>=2.2->distvae==0.0.0b4) (9.1.0.70)
#10 15.81 Requirement already satisfied: nvidia-cublas-cu12==12.4.5.8 in /usr/local/lib/python3.10/site-packages (from torch>=2.2->distvae==0.0.0b4) (12.4.5.8)
#10 15.81 Requirement already satisfied: nvidia-cufft-cu12==11.2.1.3 in /usr/local/lib/python3.10/site-packages (from torch>=2.2->distvae==0.0.0b4) (11.2.1.3)
#10 15.81 Requirement already satisfied: nvidia-curand-cu12==10.3.5.147 in /usr/local/lib/python3.10/site-packages (from torch>=2.2->distvae==0.0.0b4) (10.3.5.147)
#10 15.81 Requirement already satisfied: nvidia-cusolver-cu12==11.6.1.9 in /usr/local/lib/python3.10/site-packages (from torch>=2.2->distvae==0.0.0b4) (11.6.1.9)
#10 15.81 Requirement already satisfied: nvidia-cusparse-cu12==12.3.1.170 in /usr/local/lib/python3.10/site-packages (from torch>=2.2->distvae==0.0.0b4) (12.3.1.170)
#10 15.81 Requirement already satisfied: nvidia-nccl-cu12==2.21.5 in /usr/local/lib/python3.10/site-packages (from torch>=2.2->distvae==0.0.0b4) (2.21.5)
#10 15.81 Requirement already satisfied: nvidia-nvtx-cu12==12.4.127 in /usr/local/lib/python3.10/site-packages (from torch>=2.2->distvae==0.0.0b4) (12.4.127)
#10 15.82 Requirement already satisfied: nvidia-nvjitlink-cu12==12.4.127 in /usr/local/lib/python3.10/site-packages (from torch>=2.2->distvae==0.0.0b4) (12.4.127)
#10 15.82 Requirement already satisfied: triton==3.1.0 in /usr/local/lib/python3.10/site-packages (from torch>=2.2->distvae==0.0.0b4) (3.1.0)
#10 15.82 Requirement already satisfied: sympy==1.13.1 in /usr/local/lib/python3.10/site-packages (from torch>=2.2->distvae==0.0.0b4) (1.13.1)
#10 15.84 Requirement already satisfied: mpmath<1.4,>=1.1.0 in /usr/local/lib/python3.10/site-packages (from sympy==1.13.1->torch>=2.2->distvae==0.0.0b4) (1.3.0)
#10 16.19 Requirement already satisfied: packaging>=20.0 in /usr/local/lib/python3.10/site-packages (from transformers->distvae==0.0.0b4) (24.2)
#10 16.19 Requirement already satisfied: pyyaml>=5.1 in /usr/local/lib/python3.10/site-packages (from transformers->distvae==0.0.0b4) (6.0.2)
#10 16.19 Requirement already satisfied: tokenizers<0.22,>=0.21 in /usr/local/lib/python3.10/site-packages (from transformers->distvae==0.0.0b4) (0.21.0)
#10 16.19 Requirement already satisfied: tqdm>=4.27 in /usr/local/lib/python3.10/site-packages (from transformers->distvae==0.0.0b4) (4.67.1)
#10 16.39 Requirement already satisfied: zipp>=3.20 in /usr/local/lib/python3.10/site-packages (from importlib-metadata->diffusers>=0.27.2->distvae==0.0.0b4) (3.21.0)
#10 16.40 Requirement already satisfied: MarkupSafe>=2.0 in /usr/local/lib/python3.10/site-packages (from jinja2->torch>=2.2->distvae==0.0.0b4) (3.0.2)
#10 16.43 Requirement already satisfied: charset-normalizer<4,>=2 in /usr/local/lib/python3.10/site-packages (from requests->diffusers>=0.27.2->distvae==0.0.0b4) (3.4.1)
#10 16.43 Requirement already satisfied: idna<4,>=2.5 in /usr/local/lib/python3.10/site-packages (from requests->diffusers>=0.27.2->distvae==0.0.0b4) (3.10)
#10 16.43 Requirement already satisfied: urllib3<3,>=1.21.1 in /usr/local/lib/python3.10/site-packages (from requests->diffusers>=0.27.2->distvae==0.0.0b4) (2.3.0)
#10 16.44 Requirement already satisfied: certifi>=2017.4.17 in /usr/local/lib/python3.10/site-packages (from requests->diffusers>=0.27.2->distvae==0.0.0b4) (2025.1.31)
#10 16.61 Installing collected packages: distvae
#10 16.61   Attempting uninstall: distvae
#10 16.61     Found existing installation: DistVAE 0.0.0b5
#10 16.63     Uninstalling DistVAE-0.0.0b5:
#10 16.66       Successfully uninstalled DistVAE-0.0.0b5
#10 16.75 Successfully installed distvae-0.0.0b4
#10 16.75 WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager, possibly rendering your system unusable. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv. Use the --root-user-action option if you know what you are doing and want to suppress this warning.
#10 17.74 Looking in indexes: http://simple/
#10 17.78 Collecting Flask==2.2.2
#10 17.80   Downloading http://packages/flask/Flask-2.2.2-py3-none-any.whl (101 kB)
#10 17.82 Requirement already satisfied: Werkzeug>=2.2.2 in /usr/local/lib/python3.10/site-packages (from Flask==2.2.2) (3.1.3)
#10 17.82 Requirement already satisfied: Jinja2>=3.0 in /usr/local/lib/python3.10/site-packages (from Flask==2.2.2) (3.1.5)
#10 17.82 Requirement already satisfied: itsdangerous>=2.0 in /usr/local/lib/python3.10/site-packages (from Flask==2.2.2) (2.2.0)
#10 17.82 Requirement already satisfied: click>=8.0 in /usr/local/lib/python3.10/site-packages (from Flask==2.2.2) (8.1.8)
#10 17.82 Requirement already satisfied: MarkupSafe>=2.0 in /usr/local/lib/python3.10/site-packages (from Jinja2>=3.0->Flask==2.2.2) (3.0.2)
#10 18.45 Installing collected packages: Flask
#10 18.45   Attempting uninstall: Flask
#10 18.45     Found existing installation: Flask 3.1.0
#10 18.45     Uninstalling Flask-3.1.0:
#10 18.47       Successfully uninstalled Flask-3.1.0
#10 18.56 Successfully installed Flask-2.2.2
#10 18.56 WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager, possibly rendering your system unusable. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv. Use the --root-user-action option if you know what you are doing and want to suppress this warning.
#10 19.33 Looking in indexes: http://simple/
#10 19.40 Collecting huggingface_hub==0.27.0
#10 19.42   Downloading http://packages/huggingface-hub/huggingface_hub-0.27.0-py3-none-any.whl (450 kB)
#10 19.50 Requirement already satisfied: filelock in /usr/local/lib/python3.10/site-packages (from huggingface_hub==0.27.0) (3.17.0)
#10 19.50 Requirement already satisfied: fsspec>=2023.5.0 in /usr/local/lib/python3.10/site-packages (from huggingface_hub==0.27.0) (2025.2.0)
#10 19.50 Requirement already satisfied: packaging>=20.9 in /usr/local/lib/python3.10/site-packages (from huggingface_hub==0.27.0) (24.2)
#10 19.50 Requirement already satisfied: pyyaml>=5.1 in /usr/local/lib/python3.10/site-packages (from huggingface_hub==0.27.0) (6.0.2)
#10 19.50 Requirement already satisfied: requests in /usr/local/lib/python3.10/site-packages (from huggingface_hub==0.27.0) (2.32.3)
#10 19.50 Requirement already satisfied: tqdm>=4.42.1 in /usr/local/lib/python3.10/site-packages (from huggingface_hub==0.27.0) (4.67.1)
#10 19.50 Requirement already satisfied: typing-extensions>=3.7.4.3 in /usr/local/lib/python3.10/site-packages (from huggingface_hub==0.27.0) (4.12.2)
#10 19.57 Requirement already satisfied: charset-normalizer<4,>=2 in /usr/local/lib/python3.10/site-packages (from requests->huggingface_hub==0.27.0) (3.4.1)
#10 19.57 Requirement already satisfied: idna<4,>=2.5 in /usr/local/lib/python3.10/site-packages (from requests->huggingface_hub==0.27.0) (3.10)
#10 19.57 Requirement already satisfied: urllib3<3,>=1.21.1 in /usr/local/lib/python3.10/site-packages (from requests->huggingface_hub==0.27.0) (2.3.0)
#10 19.57 Requirement already satisfied: certifi>=2017.4.17 in /usr/local/lib/python3.10/site-packages (from requests->huggingface_hub==0.27.0) (2025.1.31)
#10 20.11 Installing collected packages: huggingface_hub
#10 20.11   Attempting uninstall: huggingface_hub
#10 20.11     Found existing installation: huggingface-hub 0.28.1
#10 20.13     Uninstalling huggingface-hub-0.28.1:
#10 20.19       Successfully uninstalled huggingface-hub-0.28.1
#10 20.50 Successfully installed huggingface_hub-0.27.0
#10 20.50 WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager, possibly rendering your system unusable. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv. Use the --root-user-action option if you know what you are doing and want to suppress this warning.
#10 21.31 Looking in indexes: http://simple/
#10 21.36 Collecting imageio==2.26.0
#10 21.38   Downloading http://packages/imageio/imageio-2.26.0-py3-none-any.whl (3.4 MB)
#10 21.41      ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 3.4/3.4 MB 105.0 MB/s eta 0:00:00
#10 21.46 Requirement already satisfied: numpy in /usr/local/lib/python3.10/site-packages (from imageio==2.26.0) (2.2.2)
#10 21.46 Requirement already satisfied: pillow>=8.3.2 in /usr/local/lib/python3.10/site-packages (from imageio==2.26.0) (11.1.0)
#10 22.08 Installing collected packages: imageio
#10 22.08   Attempting uninstall: imageio
#10 22.08     Found existing installation: imageio 2.37.0
#10 22.09     Uninstalling imageio-2.37.0:
#10 22.12       Successfully uninstalled imageio-2.37.0
#10 22.42 Successfully installed imageio-2.26.0
#10 22.42 WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager, possibly rendering your system unusable. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv. Use the --root-user-action option if you know what you are doing and want to suppress this warning.
#10 23.24 Looking in indexes: http://simple/
#10 23.62 Collecting numpy==1.23.5
#10 23.64   Downloading http://packages/numpy/numpy-1.23.5-cp310-cp310-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (17.1 MB)
#10 23.88      ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 17.1/17.1 MB 72.5 MB/s eta 0:00:00
#10 24.58 Installing collected packages: numpy
#10 24.58   Attempting uninstall: numpy
#10 24.59     Found existing installation: numpy 2.2.2
#10 24.67     Uninstalling numpy-2.2.2:
#10 25.06       Successfully uninstalled numpy-2.2.2
#10 27.92 Successfully installed numpy-1.23.5
#10 27.92 WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager, possibly rendering your system unusable. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv. Use the --root-user-action option if you know what you are doing and want to suppress this warning.
#10 28.73 Looking in indexes: http://simple/
#10 28.86 Collecting onediff==1.2.0
#10 28.87   Downloading http://packages/onediff/onediff-1.2.0-py3-none-any.whl (104 kB)
#10 28.89 Requirement already satisfied: transformers>=4.27.1 in /usr/local/lib/python3.10/site-packages (from onediff==1.2.0) (4.48.3)
#10 28.89 Requirement already satisfied: diffusers>=0.19.3 in /usr/local/lib/python3.10/site-packages (from onediff==1.2.0) (0.32.1)
#10 28.89 Requirement already satisfied: accelerate in /usr/local/lib/python3.10/site-packages (from onediff==1.2.0) (1.3.0)
#10 28.89 Requirement already satisfied: torch in /usr/local/lib/python3.10/site-packages (from onediff==1.2.0) (2.5.1)
#10 28.91 Requirement already satisfied: importlib-metadata in /usr/local/lib/python3.10/site-packages (from diffusers>=0.19.3->onediff==1.2.0) (8.6.1)
#10 28.92 Requirement already satisfied: filelock in /usr/local/lib/python3.10/site-packages (from diffusers>=0.19.3->onediff==1.2.0) (3.17.0)
#10 28.92 Requirement already satisfied: huggingface-hub>=0.23.2 in /usr/local/lib/python3.10/site-packages (from diffusers>=0.19.3->onediff==1.2.0) (0.27.0)
#10 28.92 Requirement already satisfied: numpy in /usr/local/lib/python3.10/site-packages (from diffusers>=0.19.3->onediff==1.2.0) (1.23.5)
#10 28.92 Requirement already satisfied: regex!=2019.12.17 in /usr/local/lib/python3.10/site-packages (from diffusers>=0.19.3->onediff==1.2.0) (2024.11.6)
#10 28.92 Requirement already satisfied: requests in /usr/local/lib/python3.10/site-packages (from diffusers>=0.19.3->onediff==1.2.0) (2.32.3)
#10 28.92 Requirement already satisfied: safetensors>=0.3.1 in /usr/local/lib/python3.10/site-packages (from diffusers>=0.19.3->onediff==1.2.0) (0.5.2)
#10 28.92 Requirement already satisfied: Pillow in /usr/local/lib/python3.10/site-packages (from diffusers>=0.19.3->onediff==1.2.0) (11.1.0)
#10 29.20 Requirement already satisfied: packaging>=20.0 in /usr/local/lib/python3.10/site-packages (from transformers>=4.27.1->onediff==1.2.0) (24.2)
#10 29.20 Requirement already satisfied: pyyaml>=5.1 in /usr/local/lib/python3.10/site-packages (from transformers>=4.27.1->onediff==1.2.0) (6.0.2)
#10 29.20 Requirement already satisfied: tokenizers<0.22,>=0.21 in /usr/local/lib/python3.10/site-packages (from transformers>=4.27.1->onediff==1.2.0) (0.21.0)
#10 29.20 Requirement already satisfied: tqdm>=4.27 in /usr/local/lib/python3.10/site-packages (from transformers>=4.27.1->onediff==1.2.0) (4.67.1)
#10 29.23 Requirement already satisfied: psutil in /usr/local/lib/python3.10/site-packages (from accelerate->onediff==1.2.0) (6.1.1)
#10 29.24 Requirement already satisfied: typing-extensions>=4.8.0 in /usr/local/lib/python3.10/site-packages (from torch->onediff==1.2.0) (4.12.2)
#10 29.24 Requirement already satisfied: networkx in /usr/local/lib/python3.10/site-packages (from torch->onediff==1.2.0) (3.4.2)
#10 29.24 Requirement already satisfied: jinja2 in /usr/local/lib/python3.10/site-packages (from torch->onediff==1.2.0) (3.1.5)
#10 29.24 Requirement already satisfied: fsspec in /usr/local/lib/python3.10/site-packages (from torch->onediff==1.2.0) (2025.2.0)
#10 29.24 Requirement already satisfied: nvidia-cuda-nvrtc-cu12==12.4.127 in /usr/local/lib/python3.10/site-packages (from torch->onediff==1.2.0) (12.4.127)
#10 29.24 Requirement already satisfied: nvidia-cuda-runtime-cu12==12.4.127 in /usr/local/lib/python3.10/site-packages (from torch->onediff==1.2.0) (12.4.127)
#10 29.24 Requirement already satisfied: nvidia-cuda-cupti-cu12==12.4.127 in /usr/local/lib/python3.10/site-packages (from torch->onediff==1.2.0) (12.4.127)
#10 29.24 Requirement already satisfied: nvidia-cudnn-cu12==9.1.0.70 in /usr/local/lib/python3.10/site-packages (from torch->onediff==1.2.0) (9.1.0.70)
#10 29.25 Requirement already satisfied: nvidia-cublas-cu12==12.4.5.8 in /usr/local/lib/python3.10/site-packages (from torch->onediff==1.2.0) (12.4.5.8)
#10 29.25 Requirement already satisfied: nvidia-cufft-cu12==11.2.1.3 in /usr/local/lib/python3.10/site-packages (from torch->onediff==1.2.0) (11.2.1.3)
#10 29.25 Requirement already satisfied: nvidia-curand-cu12==10.3.5.147 in /usr/local/lib/python3.10/site-packages (from torch->onediff==1.2.0) (10.3.5.147)
#10 29.25 Requirement already satisfied: nvidia-cusolver-cu12==11.6.1.9 in /usr/local/lib/python3.10/site-packages (from torch->onediff==1.2.0) (11.6.1.9)
#10 29.25 Requirement already satisfied: nvidia-cusparse-cu12==12.3.1.170 in /usr/local/lib/python3.10/site-packages (from torch->onediff==1.2.0) (12.3.1.170)
#10 29.25 Requirement already satisfied: nvidia-nccl-cu12==2.21.5 in /usr/local/lib/python3.10/site-packages (from torch->onediff==1.2.0) (2.21.5)
#10 29.25 Requirement already satisfied: nvidia-nvtx-cu12==12.4.127 in /usr/local/lib/python3.10/site-packages (from torch->onediff==1.2.0) (12.4.127)
#10 29.25 Requirement already satisfied: nvidia-nvjitlink-cu12==12.4.127 in /usr/local/lib/python3.10/site-packages (from torch->onediff==1.2.0) (12.4.127)
#10 29.25 Requirement already satisfied: triton==3.1.0 in /usr/local/lib/python3.10/site-packages (from torch->onediff==1.2.0) (3.1.0)
#10 29.25 Requirement already satisfied: sympy==1.13.1 in /usr/local/lib/python3.10/site-packages (from torch->onediff==1.2.0) (1.13.1)
#10 29.27 Requirement already satisfied: mpmath<1.4,>=1.1.0 in /usr/local/lib/python3.10/site-packages (from sympy==1.13.1->torch->onediff==1.2.0) (1.3.0)
#10 29.41 Requirement already satisfied: zipp>=3.20 in /usr/local/lib/python3.10/site-packages (from importlib-metadata->diffusers>=0.19.3->onediff==1.2.0) (3.21.0)
#10 29.42 Requirement already satisfied: MarkupSafe>=2.0 in /usr/local/lib/python3.10/site-packages (from jinja2->torch->onediff==1.2.0) (3.0.2)
#10 29.44 Requirement already satisfied: charset-normalizer<4,>=2 in /usr/local/lib/python3.10/site-packages (from requests->diffusers>=0.19.3->onediff==1.2.0) (3.4.1)
#10 29.44 Requirement already satisfied: idna<4,>=2.5 in /usr/local/lib/python3.10/site-packages (from requests->diffusers>=0.19.3->onediff==1.2.0) (3.10)
#10 29.44 Requirement already satisfied: urllib3<3,>=1.21.1 in /usr/local/lib/python3.10/site-packages (from requests->diffusers>=0.19.3->onediff==1.2.0) (2.3.0)
#10 29.45 Requirement already satisfied: certifi>=2017.4.17 in /usr/local/lib/python3.10/site-packages (from requests->diffusers>=0.19.3->onediff==1.2.0) (2025.1.31)
#10 29.54 Installing collected packages: onediff
#10 29.67 Successfully installed onediff-1.2.0
#10 29.67 WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager, possibly rendering your system unusable. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv. Use the --root-user-action option if you know what you are doing and want to suppress this warning.
#10 30.46 Looking in indexes: http://simple/
#10 30.51 Collecting optimum==1.23.3
#10 30.64   Downloading http://packages/optimum/optimum-1.23.3-py3-none-any.whl (424 kB)
#10 30.76 Collecting coloredlogs (from optimum==1.23.3)
#10 30.77   Downloading http://packages/coloredlogs/coloredlogs-15.0.1-py2.py3-none-any.whl (46 kB)
#10 30.78 Requirement already satisfied: sympy in /usr/local/lib/python3.10/site-packages (from optimum==1.23.3) (1.13.1)
#10 30.78 Requirement already satisfied: transformers>=4.29 in /usr/local/lib/python3.10/site-packages (from optimum==1.23.3) (4.48.3)
#10 30.79 Requirement already satisfied: torch>=1.11 in /usr/local/lib/python3.10/site-packages (from optimum==1.23.3) (2.5.1)
#10 30.79 Requirement already satisfied: packaging in /usr/local/lib/python3.10/site-packages (from optimum==1.23.3) (24.2)
#10 30.79 Requirement already satisfied: numpy in /usr/local/lib/python3.10/site-packages (from optimum==1.23.3) (1.23.5)
#10 30.79 Requirement already satisfied: huggingface-hub>=0.8.0 in /usr/local/lib/python3.10/site-packages (from optimum==1.23.3) (0.27.0)
#10 30.83 Collecting datasets (from optimum==1.23.3)
#10 30.84   Downloading http://packages/datasets/datasets-3.2.0-py3-none-any.whl (480 kB)
#10 30.94 Requirement already satisfied: filelock in /usr/local/lib/python3.10/site-packages (from huggingface-hub>=0.8.0->optimum==1.23.3) (3.17.0)
#10 30.94 Requirement already satisfied: fsspec>=2023.5.0 in /usr/local/lib/python3.10/site-packages (from huggingface-hub>=0.8.0->optimum==1.23.3) (2025.2.0)
#10 30.95 Requirement already satisfied: pyyaml>=5.1 in /usr/local/lib/python3.10/site-packages (from huggingface-hub>=0.8.0->optimum==1.23.3) (6.0.2)
#10 30.95 Requirement already satisfied: requests in /usr/local/lib/python3.10/site-packages (from huggingface-hub>=0.8.0->optimum==1.23.3) (2.32.3)
#10 30.95 Requirement already satisfied: tqdm>=4.42.1 in /usr/local/lib/python3.10/site-packages (from huggingface-hub>=0.8.0->optimum==1.23.3) (4.67.1)
#10 30.95 Requirement already satisfied: typing-extensions>=3.7.4.3 in /usr/local/lib/python3.10/site-packages (from huggingface-hub>=0.8.0->optimum==1.23.3) (4.12.2)
#10 30.96 Requirement already satisfied: networkx in /usr/local/lib/python3.10/site-packages (from torch>=1.11->optimum==1.23.3) (3.4.2)
#10 30.96 Requirement already satisfied: jinja2 in /usr/local/lib/python3.10/site-packages (from torch>=1.11->optimum==1.23.3) (3.1.5)
#10 30.96 Requirement already satisfied: nvidia-cuda-nvrtc-cu12==12.4.127 in /usr/local/lib/python3.10/site-packages (from torch>=1.11->optimum==1.23.3) (12.4.127)
#10 30.96 Requirement already satisfied: nvidia-cuda-runtime-cu12==12.4.127 in /usr/local/lib/python3.10/site-packages (from torch>=1.11->optimum==1.23.3) (12.4.127)
#10 30.97 Requirement already satisfied: nvidia-cuda-cupti-cu12==12.4.127 in /usr/local/lib/python3.10/site-packages (from torch>=1.11->optimum==1.23.3) (12.4.127)
#10 30.97 Requirement already satisfied: nvidia-cudnn-cu12==9.1.0.70 in /usr/local/lib/python3.10/site-packages (from torch>=1.11->optimum==1.23.3) (9.1.0.70)
#10 30.97 Requirement already satisfied: nvidia-cublas-cu12==12.4.5.8 in /usr/local/lib/python3.10/site-packages (from torch>=1.11->optimum==1.23.3) (12.4.5.8)
#10 30.97 Requirement already satisfied: nvidia-cufft-cu12==11.2.1.3 in /usr/local/lib/python3.10/site-packages (from torch>=1.11->optimum==1.23.3) (11.2.1.3)
#10 30.97 Requirement already satisfied: nvidia-curand-cu12==10.3.5.147 in /usr/local/lib/python3.10/site-packages (from torch>=1.11->optimum==1.23.3) (10.3.5.147)
#10 30.97 Requirement already satisfied: nvidia-cusolver-cu12==11.6.1.9 in /usr/local/lib/python3.10/site-packages (from torch>=1.11->optimum==1.23.3) (11.6.1.9)
#10 30.97 Requirement already satisfied: nvidia-cusparse-cu12==12.3.1.170 in /usr/local/lib/python3.10/site-packages (from torch>=1.11->optimum==1.23.3) (12.3.1.170)
#10 30.97 Requirement already satisfied: nvidia-nccl-cu12==2.21.5 in /usr/local/lib/python3.10/site-packages (from torch>=1.11->optimum==1.23.3) (2.21.5)
#10 30.97 Requirement already satisfied: nvidia-nvtx-cu12==12.4.127 in /usr/local/lib/python3.10/site-packages (from torch>=1.11->optimum==1.23.3) (12.4.127)
#10 30.97 Requirement already satisfied: nvidia-nvjitlink-cu12==12.4.127 in /usr/local/lib/python3.10/site-packages (from torch>=1.11->optimum==1.23.3) (12.4.127)
#10 30.98 Requirement already satisfied: triton==3.1.0 in /usr/local/lib/python3.10/site-packages (from torch>=1.11->optimum==1.23.3) (3.1.0)
#10 30.98 Requirement already satisfied: mpmath<1.4,>=1.1.0 in /usr/local/lib/python3.10/site-packages (from sympy->optimum==1.23.3) (1.3.0)
#10 31.29 Requirement already satisfied: regex!=2019.12.17 in /usr/local/lib/python3.10/site-packages (from transformers>=4.29->optimum==1.23.3) (2024.11.6)
#10 31.29 Requirement already satisfied: tokenizers<0.22,>=0.21 in /usr/local/lib/python3.10/site-packages (from transformers>=4.29->optimum==1.23.3) (0.21.0)
#10 31.29 Requirement already satisfied: safetensors>=0.4.1 in /usr/local/lib/python3.10/site-packages (from transformers>=4.29->optimum==1.23.3) (0.5.2)
#10 31.34 Collecting humanfriendly>=9.1 (from coloredlogs->optimum==1.23.3)
#10 31.35   Downloading http://packages/humanfriendly/humanfriendly-10.0-py2.py3-none-any.whl (86 kB)
#10 31.52 Collecting pyarrow>=15.0.0 (from datasets->optimum==1.23.3)
#10 31.53   Downloading http://packages/pyarrow/pyarrow-19.0.0-cp310-cp310-manylinux_2_28_x86_64.whl (42.1 MB)
#10 31.74      ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 42.1/42.1 MB 210.2 MB/s eta 0:00:00
#10 31.91 Collecting dill<0.3.9,>=0.3.0 (from datasets->optimum==1.23.3)
#10 31.93   Downloading http://packages/dill/dill-0.3.8-py3-none-any.whl (116 kB)
#10 32.17 Collecting pandas (from datasets->optimum==1.23.3)
#10 32.19   Downloading http://packages/pandas/pandas-2.2.3-cp310-cp310-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (13.1 MB)
#10 32.76      ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 13.1/13.1 MB 23.9 MB/s eta 0:00:00
#10 33.02 Collecting xxhash (from datasets->optimum==1.23.3)
#10 33.04   Downloading http://packages/xxhash/xxhash-3.5.0-cp310-cp310-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (194 kB)
#10 33.09 Collecting multiprocess<0.70.17 (from datasets->optimum==1.23.3)
#10 33.10   Downloading http://packages/multiprocess/multiprocess-0.70.16-py310-none-any.whl (134 kB)
#10 33.16 Collecting fsspec>=2023.5.0 (from huggingface-hub>=0.8.0->optimum==1.23.3)
#10 33.18   Downloading http://packages/fsspec/fsspec-2024.9.0-py3-none-any.whl (179 kB)
#10 34.31 Collecting aiohttp (from datasets->optimum==1.23.3)
#10 34.34   Downloading http://packages/aiohttp/aiohttp-3.11.12-cp310-cp310-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (1.6 MB)
#10 34.36      ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 1.6/1.6 MB 86.4 MB/s eta 0:00:00
#10 34.45 Collecting aiohappyeyeballs>=2.3.0 (from aiohttp->datasets->optimum==1.23.3)
#10 34.47   Downloading http://packages/aiohappyeyeballs/aiohappyeyeballs-2.4.6-py3-none-any.whl (14 kB)
#10 34.50 Collecting aiosignal>=1.1.2 (from aiohttp->datasets->optimum==1.23.3)
#10 34.52   Downloading http://packages/aiosignal/aiosignal-1.3.2-py2.py3-none-any.whl (7.6 kB)
#10 34.55 Collecting async-timeout<6.0,>=4.0 (from aiohttp->datasets->optimum==1.23.3)
#10 34.56   Downloading http://packages/async-timeout/async_timeout-5.0.1-py3-none-any.whl (6.2 kB)
#10 34.59 Collecting attrs>=17.3.0 (from aiohttp->datasets->optimum==1.23.3)
#10 34.61   Downloading http://packages/attrs/attrs-25.1.0-py3-none-any.whl (63 kB)
#10 34.76 Collecting frozenlist>=1.1.1 (from aiohttp->datasets->optimum==1.23.3)
#10 34.77   Downloading http://packages/frozenlist/frozenlist-1.5.0-cp310-cp310-manylinux_2_5_x86_64.manylinux1_x86_64.manylinux_2_17_x86_64.manylinux2014_x86_64.whl (241 kB)
#10 35.12 Collecting multidict<7.0,>=4.5 (from aiohttp->datasets->optimum==1.23.3)
#10 35.13   Downloading http://packages/multidict/multidict-6.1.0-cp310-cp310-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (124 kB)
#10 35.20 Collecting propcache>=0.2.0 (from aiohttp->datasets->optimum==1.23.3)
#10 35.22   Downloading http://packages/propcache/propcache-0.2.1-cp310-cp310-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (205 kB)
#10 35.83 Collecting yarl<2.0,>=1.17.0 (from aiohttp->datasets->optimum==1.23.3)
#10 35.84   Downloading http://packages/yarl/yarl-1.18.3-cp310-cp310-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (319 kB)
#10 35.88 Requirement already satisfied: charset-normalizer<4,>=2 in /usr/local/lib/python3.10/site-packages (from requests->huggingface-hub>=0.8.0->optimum==1.23.3) (3.4.1)
#10 35.88 Requirement already satisfied: idna<4,>=2.5 in /usr/local/lib/python3.10/site-packages (from requests->huggingface-hub>=0.8.0->optimum==1.23.3) (3.10)
#10 35.88 Requirement already satisfied: urllib3<3,>=1.21.1 in /usr/local/lib/python3.10/site-packages (from requests->huggingface-hub>=0.8.0->optimum==1.23.3) (2.3.0)
#10 35.89 Requirement already satisfied: certifi>=2017.4.17 in /usr/local/lib/python3.10/site-packages (from requests->huggingface-hub>=0.8.0->optimum==1.23.3) (2025.1.31)
#10 35.92 Requirement already satisfied: MarkupSafe>=2.0 in /usr/local/lib/python3.10/site-packages (from jinja2->torch>=1.11->optimum==1.23.3) (3.0.2)
#10 35.96 Collecting python-dateutil>=2.8.2 (from pandas->datasets->optimum==1.23.3)
#10 35.97   Downloading http://packages/python-dateutil/python_dateutil-2.9.0.post0-py2.py3-none-any.whl (229 kB)
#10 36.07 Collecting pytz>=2020.1 (from pandas->datasets->optimum==1.23.3)
#10 36.09   Downloading http://packages/pytz/pytz-2025.1-py2.py3-none-any.whl (507 kB)
#10 36.14 Collecting tzdata>=2022.7 (from pandas->datasets->optimum==1.23.3)
#10 36.15   Downloading http://packages/tzdata/tzdata-2025.1-py2.py3-none-any.whl (346 kB)
#10 36.24 Collecting six>=1.5 (from python-dateutil>=2.8.2->pandas->datasets->optimum==1.23.3)
#10 36.25   Downloading http://packages/six/six-1.17.0-py2.py3-none-any.whl (11 kB)
#10 36.84 Installing collected packages: pytz, xxhash, tzdata, six, pyarrow, propcache, multidict, humanfriendly, fsspec, frozenlist, dill, attrs, async-timeout, aiohappyeyeballs, yarl, python-dateutil, multiprocess, coloredlogs, aiosignal, pandas, aiohttp, datasets, optimum
#10 39.02   Attempting uninstall: fsspec
#10 39.02     Found existing installation: fsspec 2025.2.0
#10 39.03     Uninstalling fsspec-2025.2.0:
#10 39.06       Successfully uninstalled fsspec-2025.2.0
#10 47.34 Successfully installed aiohappyeyeballs-2.4.6 aiohttp-3.11.12 aiosignal-1.3.2 async-timeout-5.0.1 attrs-25.1.0 coloredlogs-15.0.1 datasets-3.2.0 dill-0.3.8 frozenlist-1.5.0 fsspec-2024.9.0 humanfriendly-10.0 multidict-6.1.0 multiprocess-0.70.16 optimum-1.23.3 pandas-2.2.3 propcache-0.2.1 pyarrow-19.0.0 python-dateutil-2.9.0.post0 pytz-2025.1 six-1.17.0 tzdata-2025.1 xxhash-3.5.0 yarl-1.18.3
#10 47.34 WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager, possibly rendering your system unusable. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv. Use the --root-user-action option if you know what you are doing and want to suppress this warning.
#10 48.36 Looking in indexes: http://simple/
#10 48.36 Requirement already satisfied: packaging==24.2 in /usr/local/lib/python3.10/site-packages (24.2)
#10 49.12 WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager, possibly rendering your system unusable. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv. Use the --root-user-action option if you know what you are doing and want to suppress this warning.
#10 49.91 Looking in indexes: http://simple/
#10 50.29 Collecting Pillow==9.4.0
#10 50.31   Downloading http://packages/pillow/Pillow-9.4.0-cp310-cp310-manylinux_2_28_x86_64.whl (3.4 MB)
#10 50.34      ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 3.4/3.4 MB 103.0 MB/s eta 0:00:00
#10 51.12 Installing collected packages: Pillow
#10 51.12   Attempting uninstall: Pillow
#10 51.12     Found existing installation: pillow 11.1.0
#10 51.13     Uninstalling pillow-11.1.0:
#10 51.19       Successfully uninstalled pillow-11.1.0
#10 51.55 Successfully installed Pillow-9.4.0
#10 51.55 WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager, possibly rendering your system unusable. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv. Use the --root-user-action option if you know what you are doing and want to suppress this warning.
#10 52.37 Looking in indexes: http://simple/
#10 52.48 Collecting pytest==7.1.2
#10 52.49   Downloading http://packages/pytest/pytest-7.1.2-py3-none-any.whl (297 kB)
#10 52.52 Requirement already satisfied: attrs>=19.2.0 in /usr/local/lib/python3.10/site-packages (from pytest==7.1.2) (25.1.0)
#10 52.52 Requirement already satisfied: iniconfig in /usr/local/lib/python3.10/site-packages (from pytest==7.1.2) (2.0.0)
#10 52.52 Requirement already satisfied: packaging in /usr/local/lib/python3.10/site-packages (from pytest==7.1.2) (24.2)
#10 52.52 Requirement already satisfied: pluggy<2.0,>=0.12 in /usr/local/lib/python3.10/site-packages (from pytest==7.1.2) (1.5.0)
#10 52.54 Collecting py>=1.8.2 (from pytest==7.1.2)
#10 52.56   Downloading http://packages/py/py-1.11.0-py2.py3-none-any.whl (98 kB)
#10 52.57 Requirement already satisfied: tomli>=1.0.0 in /usr/local/lib/python3.10/site-packages (from pytest==7.1.2) (2.2.1)
#10 53.30 Installing collected packages: py, pytest
#10 53.40   Attempting uninstall: pytest
#10 53.40     Found existing installation: pytest 8.3.4
#10 53.41     Uninstalling pytest-8.3.4:
#10 53.68       Successfully uninstalled pytest-8.3.4
#10 53.97 Successfully installed py-1.11.0 pytest-7.1.2
#10 53.97 WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager, possibly rendering your system unusable. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv. Use the --root-user-action option if you know what you are doing and want to suppress this warning.
#10 54.85 Looking in indexes: http://simple/
#10 55.15 Collecting setuptools==65.6.3
#10 55.16   Downloading http://packages/setuptools/setuptools-65.6.3-py3-none-any.whl (1.2 MB)
#10 55.19      ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 1.2/1.2 MB 56.6 MB/s eta 0:00:00
#10 56.01 Installing collected packages: setuptools
#10 56.01   Attempting uninstall: setuptools
#10 56.02     Found existing installation: setuptools 65.5.1
#10 56.04     Uninstalling setuptools-65.5.1:
#10 56.41       Successfully uninstalled setuptools-65.5.1
#10 57.19 Successfully installed setuptools-65.6.3
#10 57.19 WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager, possibly rendering your system unusable. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv. Use the --root-user-action option if you know what you are doing and want to suppress this warning.
#10 58.03 Looking in indexes: http://simple/
#10 58.03 Requirement already satisfied: torch==2.5.1 in /usr/local/lib/python3.10/site-packages (2.5.1)
#10 58.04 Requirement already satisfied: filelock in /usr/local/lib/python3.10/site-packages (from torch==2.5.1) (3.17.0)
#10 58.04 Requirement already satisfied: typing-extensions>=4.8.0 in /usr/local/lib/python3.10/site-packages (from torch==2.5.1) (4.12.2)
#10 58.04 Requirement already satisfied: networkx in /usr/local/lib/python3.10/site-packages (from torch==2.5.1) (3.4.2)
#10 58.04 Requirement already satisfied: jinja2 in /usr/local/lib/python3.10/site-packages (from torch==2.5.1) (3.1.5)
#10 58.04 Requirement already satisfied: fsspec in /usr/local/lib/python3.10/site-packages (from torch==2.5.1) (2024.9.0)
#10 58.04 Requirement already satisfied: nvidia-cuda-nvrtc-cu12==12.4.127 in /usr/local/lib/python3.10/site-packages (from torch==2.5.1) (12.4.127)
#10 58.04 Requirement already satisfied: nvidia-cuda-runtime-cu12==12.4.127 in /usr/local/lib/python3.10/site-packages (from torch==2.5.1) (12.4.127)
#10 58.05 Requirement already satisfied: nvidia-cuda-cupti-cu12==12.4.127 in /usr/local/lib/python3.10/site-packages (from torch==2.5.1) (12.4.127)
#10 58.05 Requirement already satisfied: nvidia-cudnn-cu12==9.1.0.70 in /usr/local/lib/python3.10/site-packages (from torch==2.5.1) (9.1.0.70)
#10 58.05 Requirement already satisfied: nvidia-cublas-cu12==12.4.5.8 in /usr/local/lib/python3.10/site-packages (from torch==2.5.1) (12.4.5.8)
#10 58.05 Requirement already satisfied: nvidia-cufft-cu12==11.2.1.3 in /usr/local/lib/python3.10/site-packages (from torch==2.5.1) (11.2.1.3)
#10 58.05 Requirement already satisfied: nvidia-curand-cu12==10.3.5.147 in /usr/local/lib/python3.10/site-packages (from torch==2.5.1) (10.3.5.147)
#10 58.05 Requirement already satisfied: nvidia-cusolver-cu12==11.6.1.9 in /usr/local/lib/python3.10/site-packages (from torch==2.5.1) (11.6.1.9)
#10 58.05 Requirement already satisfied: nvidia-cusparse-cu12==12.3.1.170 in /usr/local/lib/python3.10/site-packages (from torch==2.5.1) (12.3.1.170)
#10 58.05 Requirement already satisfied: nvidia-nccl-cu12==2.21.5 in /usr/local/lib/python3.10/site-packages (from torch==2.5.1) (2.21.5)
#10 58.05 Requirement already satisfied: nvidia-nvtx-cu12==12.4.127 in /usr/local/lib/python3.10/site-packages (from torch==2.5.1) (12.4.127)
#10 58.05 Requirement already satisfied: nvidia-nvjitlink-cu12==12.4.127 in /usr/local/lib/python3.10/site-packages (from torch==2.5.1) (12.4.127)
#10 58.06 Requirement already satisfied: triton==3.1.0 in /usr/local/lib/python3.10/site-packages (from torch==2.5.1) (3.1.0)
#10 58.06 Requirement already satisfied: sympy==1.13.1 in /usr/local/lib/python3.10/site-packages (from torch==2.5.1) (1.13.1)
#10 58.07 Requirement already satisfied: mpmath<1.4,>=1.1.0 in /usr/local/lib/python3.10/site-packages (from sympy==1.13.1->torch==2.5.1) (1.3.0)
#10 58.16 Requirement already satisfied: MarkupSafe>=2.0 in /usr/local/lib/python3.10/site-packages (from jinja2->torch==2.5.1) (3.0.2)
#10 58.82 WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager, possibly rendering your system unusable. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv. Use the --root-user-action option if you know what you are doing and want to suppress this warning.
#10 59.59 Looking in indexes: http://simple/
#10 59.61 Collecting torch_xla==2.5.1
#10 62.07   Downloading http://packages/torch-xla/torch_xla-2.5.1-cp310-cp310-manylinux_2_28_x86_64.whl (90.6 MB)
#10 62.59      ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 90.6/90.6 MB 175.1 MB/s eta 0:00:00
#10 62.90 Collecting absl-py>=1.0.0 (from torch_xla==2.5.1)
#10 62.93   Downloading http://packages/absl-py/absl_py-2.1.0-py3-none-any.whl (133 kB)
#10 62.94 Requirement already satisfied: numpy in /usr/local/lib/python3.10/site-packages (from torch_xla==2.5.1) (1.23.5)
#10 62.94 Requirement already satisfied: pyyaml in /usr/local/lib/python3.10/site-packages (from torch_xla==2.5.1) (6.0.2)
#10 62.94 Requirement already satisfied: requests in /usr/local/lib/python3.10/site-packages (from torch_xla==2.5.1) (2.32.3)
#10 62.94 Requirement already satisfied: charset-normalizer<4,>=2 in /usr/local/lib/python3.10/site-packages (from requests->torch_xla==2.5.1) (3.4.1)
#10 62.94 Requirement already satisfied: idna<4,>=2.5 in /usr/local/lib/python3.10/site-packages (from requests->torch_xla==2.5.1) (3.10)
#10 62.94 Requirement already satisfied: urllib3<3,>=1.21.1 in /usr/local/lib/python3.10/site-packages (from requests->torch_xla==2.5.1) (2.3.0)
#10 62.94 Requirement already satisfied: certifi>=2017.4.17 in /usr/local/lib/python3.10/site-packages (from requests->torch_xla==2.5.1) (2025.1.31)
#10 63.75 Installing collected packages: absl-py, torch_xla
#10 66.08 Successfully installed absl-py-2.1.0 torch_xla-2.5.1
#10 66.08 WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager, possibly rendering your system unusable. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv. Use the --root-user-action option if you know what you are doing and want to suppress this warning.
#10 66.93 Looking in indexes: http://simple/
#10 67.03 Collecting torchvision==0.20.1
#10 67.05   Downloading http://packages/torchvision/torchvision-0.20.1-cp310-cp310-manylinux1_x86_64.whl (7.2 MB)
#10 67.15      ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 7.2/7.2 MB 115.8 MB/s eta 0:00:00
#10 67.18 Requirement already satisfied: numpy in /usr/local/lib/python3.10/site-packages (from torchvision==0.20.1) (1.23.5)
#10 67.19 Requirement already satisfied: torch==2.5.1 in /usr/local/lib/python3.10/site-packages (from torchvision==0.20.1) (2.5.1)
#10 67.19 Requirement already satisfied: pillow!=8.3.*,>=5.3.0 in /usr/local/lib/python3.10/site-packages (from torchvision==0.20.1) (9.4.0)
#10 67.20 Requirement already satisfied: filelock in /usr/local/lib/python3.10/site-packages (from torch==2.5.1->torchvision==0.20.1) (3.17.0)
#10 67.20 Requirement already satisfied: typing-extensions>=4.8.0 in /usr/local/lib/python3.10/site-packages (from torch==2.5.1->torchvision==0.20.1) (4.12.2)
#10 67.20 Requirement already satisfied: networkx in /usr/local/lib/python3.10/site-packages (from torch==2.5.1->torchvision==0.20.1) (3.4.2)
#10 67.20 Requirement already satisfied: jinja2 in /usr/local/lib/python3.10/site-packages (from torch==2.5.1->torchvision==0.20.1) (3.1.5)
#10 67.20 Requirement already satisfied: fsspec in /usr/local/lib/python3.10/site-packages (from torch==2.5.1->torchvision==0.20.1) (2024.9.0)
#10 67.20 Requirement already satisfied: nvidia-cuda-nvrtc-cu12==12.4.127 in /usr/local/lib/python3.10/site-packages (from torch==2.5.1->torchvision==0.20.1) (12.4.127)
#10 67.21 Requirement already satisfied: nvidia-cuda-runtime-cu12==12.4.127 in /usr/local/lib/python3.10/site-packages (from torch==2.5.1->torchvision==0.20.1) (12.4.127)
#10 67.21 Requirement already satisfied: nvidia-cuda-cupti-cu12==12.4.127 in /usr/local/lib/python3.10/site-packages (from torch==2.5.1->torchvision==0.20.1) (12.4.127)
#10 67.21 Requirement already satisfied: nvidia-cudnn-cu12==9.1.0.70 in /usr/local/lib/python3.10/site-packages (from torch==2.5.1->torchvision==0.20.1) (9.1.0.70)
#10 67.21 Requirement already satisfied: nvidia-cublas-cu12==12.4.5.8 in /usr/local/lib/python3.10/site-packages (from torch==2.5.1->torchvision==0.20.1) (12.4.5.8)
#10 67.21 Requirement already satisfied: nvidia-cufft-cu12==11.2.1.3 in /usr/local/lib/python3.10/site-packages (from torch==2.5.1->torchvision==0.20.1) (11.2.1.3)
#10 67.21 Requirement already satisfied: nvidia-curand-cu12==10.3.5.147 in /usr/local/lib/python3.10/site-packages (from torch==2.5.1->torchvision==0.20.1) (10.3.5.147)
#10 67.21 Requirement already satisfied: nvidia-cusolver-cu12==11.6.1.9 in /usr/local/lib/python3.10/site-packages (from torch==2.5.1->torchvision==0.20.1) (11.6.1.9)
#10 67.21 Requirement already satisfied: nvidia-cusparse-cu12==12.3.1.170 in /usr/local/lib/python3.10/site-packages (from torch==2.5.1->torchvision==0.20.1) (12.3.1.170)
#10 67.21 Requirement already satisfied: nvidia-nccl-cu12==2.21.5 in /usr/local/lib/python3.10/site-packages (from torch==2.5.1->torchvision==0.20.1) (2.21.5)
#10 67.22 Requirement already satisfied: nvidia-nvtx-cu12==12.4.127 in /usr/local/lib/python3.10/site-packages (from torch==2.5.1->torchvision==0.20.1) (12.4.127)
#10 67.22 Requirement already satisfied: nvidia-nvjitlink-cu12==12.4.127 in /usr/local/lib/python3.10/site-packages (from torch==2.5.1->torchvision==0.20.1) (12.4.127)
#10 67.22 Requirement already satisfied: triton==3.1.0 in /usr/local/lib/python3.10/site-packages (from torch==2.5.1->torchvision==0.20.1) (3.1.0)
#10 67.22 Requirement already satisfied: sympy==1.13.1 in /usr/local/lib/python3.10/site-packages (from torch==2.5.1->torchvision==0.20.1) (1.13.1)
#10 67.24 Requirement already satisfied: mpmath<1.4,>=1.1.0 in /usr/local/lib/python3.10/site-packages (from sympy==1.13.1->torch==2.5.1->torchvision==0.20.1) (1.3.0)
#10 67.31 Requirement already satisfied: MarkupSafe>=2.0 in /usr/local/lib/python3.10/site-packages (from jinja2->torch==2.5.1->torchvision==0.20.1) (3.0.2)
#10 68.01 Installing collected packages: torchvision
#10 68.66 Successfully installed torchvision-0.20.1
#10 68.66 WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager, possibly rendering your system unusable. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv. Use the --root-user-action option if you know what you are doing and want to suppress this warning.
#10 69.51 Looking in indexes: http://simple/
#10 69.51 Requirement already satisfied: tqdm==4.67.1 in /usr/local/lib/python3.10/site-packages (4.67.1)
#10 70.28 WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager, possibly rendering your system unusable. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv. Use the --root-user-action option if you know what you are doing and want to suppress this warning.
#10 71.07 Looking in indexes: http://simple/
#10 71.07 Requirement already satisfied: yunchang==0.6.0 in /usr/local/lib/python3.10/site-packages (0.6.0)
#10 71.94 WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager, possibly rendering your system unusable. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv. Use the --root-user-action option if you know what you are doing and want to suppress this warning.
#10 DONE 74.4s

#11 [ 7/10] RUN pip install nvidia-cudnn-cu11==9.6.0.74 nvidia-cusolver-cu11==11.4.1.48
#11 0.940 Looking in indexes: http://simple/
#11 0.972 Collecting nvidia-cudnn-cu11==9.6.0.74
#11 3.912   Downloading http://packages/nvidia-cudnn-cu11/nvidia_cudnn_cu11-9.6.0.74-py3-none-manylinux_2_27_x86_64.whl (504.0 MB)
#11 8.096      ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 504.0/504.0 MB 83.1 MB/s eta 0:00:00
#11 9.731 Collecting nvidia-cusolver-cu11==11.4.1.48
#11 9.746   Downloading http://packages/nvidia-cusolver-cu11/nvidia_cusolver_cu11-11.4.1.48-py3-none-manylinux2014_x86_64.whl (128.2 MB)
#11 10.31      ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 128.2/128.2 MB 228.3 MB/s eta 0:00:00
#11 10.75 Collecting nvidia-cublas-cu11 (from nvidia-cudnn-cu11==9.6.0.74)
#11 10.76   Downloading http://packages/nvidia-cublas-cu11/nvidia_cublas_cu11-11.11.3.6-py3-none-manylinux2014_x86_64.whl (417.9 MB)
#11 13.78      ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 417.9/417.9 MB 100.2 MB/s eta 0:00:00
#11 15.82 Installing collected packages: nvidia-cublas-cu11, nvidia-cusolver-cu11, nvidia-cudnn-cu11
#11 33.21 Successfully installed nvidia-cublas-cu11-11.11.3.6 nvidia-cudnn-cu11-9.6.0.74 nvidia-cusolver-cu11-11.4.1.48
#11 33.21 WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager, possibly rendering your system unusable. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv. Use the --root-user-action option if you know what you are doing and want to suppress this warning.
#11 DONE 39.4s

#12 [ 8/10] RUN python /code_edit.py -t "/search_patch/6.patch" &&     python /code_edit.py -t "/search_patch/7.patch"
#12 0.399 * Succeed Patch:
#12 0.399 Create and write /repo/xfuser/core/long_ctx_attention/ring/flash_attn.py!
#12 0.399 
#12 0.466 * Succeed Patch:
#12 0.466 Create and write /repo/tests/core/flash_attn.py!
#12 0.466 
#12 DONE 0.6s

#13 [ 9/10] RUN cd /repo && pytest --collect-only -q
#13 8.982 tests/core/test_ring_flash_attn.py::TestRingFlashAttn::test_xdit_ring_flash_attn_func
#13 8.982 tests/core/test_ring_flash_attn.py::TestRingFlashAttn::test_xdit_ring_flash_attn_func_joint_strategy_front
#13 8.982 tests/core/test_ring_flash_attn.py::TestRingFlashAttn::test_xdit_ring_flash_attn_func_joint_strategy_rear
#13 8.982 tests/core/test_xfuser_attn.py::TestRingFlashAttn::test_xfuser_attn_layer
#13 8.982 tests/core/test_xfuser_attn.py::TestRingFlashAttn::test_xfuser_attn_layer_joint_strategy_rear
#13 8.982 tests/layers/attention_processor_test.py::test_multi_process[HunyuanDiT]
#13 8.982 tests/layers/feedforward_test.py::TestFeedForward::test_feedforward
#13 8.982 
#13 8.982 =============================== warnings summary ===============================
#13 8.982 xfuser/core/distributed/utils.py:7
#13 8.982   /repo/xfuser/core/distributed/utils.py:7: DeprecationWarning: invalid escape sequence '\i'
#13 8.982     """Generate orthogonal parallel groups based on the parallel size and mask.
#13 8.982 
#13 8.982 -- Docs: https://docs.pytest.org/en/stable/how-to/capture-warnings.html
#13 8.982 7 tests collected in 8.08s
#13 DONE 10.9s

#14 exporting to image
#14 exporting layers
#14 exporting layers 48.7s done
#14 writing image sha256:a8b6ce975b4094bb3aeb1f72d8d77c24884ed8693494c7d20a91a9f9f5e3c064 done
#14 naming to docker.io/library/tmp:tmp done
#14 DONE 48.7s
