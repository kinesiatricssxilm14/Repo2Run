#0 building with "default" instance using docker driver

#1 [internal] load build definition from Dockerfile
#1 transferring dockerfile: 1.24kB done
#1 DONE 0.0s

#2 [internal] load metadata for docker.io/library/python:3.12
#2 DONE 0.0s

#3 [internal] load .dockerignore
#3 transferring context: 2B done
#3 DONE 0.0s

#4 [1/7] FROM docker.io/library/python:3.12
#4 DONE 0.0s

#5 [2/7] RUN mkdir -p ~/.pip && touch ~/.pip/pip.conf &&     echo "[global]" >> ~/.pip/pip.conf && echo "index-url=http://simple/" >> ~/.pip/pip.conf && echo "[install]" >> ~/.pip/pip.conf && echo "trusted-host=pypi..org" >> ~/.pip/pip.conf &&     apt-get update && apt-get install -y curl &&     curl -sSL https://install.python-poetry.org | python -
#5 CACHED

#6 [3/7] RUN pip install pytest pytest-xdist &&     pip install pipdeptree &&     git clone https://github.com/Integuru-AI/Integuru.git &&     mkdir /repo &&     git config --global --add safe.directory /repo &&     cp -r /Integuru/. /repo && rm -rf /Integuru/ &&     rm -rf /Integuru &&     cd /repo && git checkout 928e8285b5d6204dd30dec8fc7a56aabb53ba2a1 &&     cd /repo && poetry install
#6 2.067 Looking in indexes: http://simple/
#6 2.202 Collecting pytest
#6 2.217   Downloading http://packages/pytest/pytest-8.3.4-py3-none-any.whl (343 kB)
#6 2.299 Collecting pytest-xdist
#6 2.316   Downloading http://packages/pytest-xdist/pytest_xdist-3.6.1-py3-none-any.whl (46 kB)
#6 2.344 Collecting iniconfig (from pytest)
#6 2.367   Downloading http://packages/iniconfig/iniconfig-2.0.0-py3-none-any.whl (5.9 kB)
#6 2.418 Collecting packaging (from pytest)
#6 2.440   Using cached http://packages/packaging/packaging-24.2-py3-none-any.whl (65 kB)
#6 2.473 Collecting pluggy<2,>=1.5 (from pytest)
#6 2.491   Downloading http://packages/pluggy/pluggy-1.5.0-py3-none-any.whl (20 kB)
#6 2.534 Collecting execnet>=2.1 (from pytest-xdist)
#6 2.551   Downloading http://packages/execnet/execnet-2.1.1-py3-none-any.whl (40 kB)
#6 2.626 Installing collected packages: pluggy, packaging, iniconfig, execnet, pytest, pytest-xdist
#6 3.349 Successfully installed execnet-2.1.1 iniconfig-2.0.0 packaging-24.2 pluggy-1.5.0 pytest-8.3.4 pytest-xdist-3.6.1
#6 3.349 WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager, possibly rendering your system unusable.It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv. Use the --root-user-action option if you know what you are doing and want to suppress this warning.
#6 3.508 
#6 3.508 [notice] A new release of pip is available: 24.3.1 -> 25.0
#6 3.508 [notice] To update, run: pip install --upgrade pip
#6 4.271 Looking in indexes: http://simple/
#6 4.334 Collecting pipdeptree
#6 4.352   Downloading http://packages/pipdeptree/pipdeptree-2.25.0-py3-none-any.whl (32 kB)
#6 4.369 Requirement already satisfied: packaging>=24.1 in /usr/local/lib/python3.12/site-packages (from pipdeptree) (24.2)
#6 4.369 Requirement already satisfied: pip>=24.2 in /usr/local/lib/python3.12/site-packages (from pipdeptree) (24.3.1)
#6 4.387 Installing collected packages: pipdeptree
#6 4.433 Successfully installed pipdeptree-2.25.0
#6 4.433 WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager, possibly rendering your system unusable.It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv. Use the --root-user-action option if you know what you are doing and want to suppress this warning.
#6 4.480 
#6 4.480 [notice] A new release of pip is available: 24.3.1 -> 25.0
#6 4.480 [notice] To update, run: pip install --upgrade pip
#6 4.626 Cloning into 'Integuru'...
#6 8.182 Note: switching to '928e8285b5d6204dd30dec8fc7a56aabb53ba2a1'.
#6 8.182 
#6 8.182 You are in 'detached HEAD' state. You can look around, make experimental
#6 8.182 changes and commit them, and you can discard any commits you make in this
#6 8.182 state without impacting any branches by switching back to a branch.
#6 8.182 
#6 8.182 If you want to create a new branch to retain commits you create, you may
#6 8.182 do so (now or later) by using -c with the switch command. Example:
#6 8.182 
#6 8.182   git switch -c <new-branch-name>
#6 8.182 
#6 8.182 Or undo this operation with:
#6 8.182 
#6 8.182   git switch -
#6 8.182 
#6 8.182 Turn off this advice by setting config variable advice.detachedHead to false
#6 8.182 
#6 8.182 HEAD is now at 928e828 Merge pull request #25 from luca3m/main
#6 9.448 Creating virtualenv integuru-gW_DSdP6-py3.12 in /root/.cache/pypoetry/virtualenvs
#6 10.06 Installing dependencies from lock file
#6 10.51 
#6 10.51 Package operations: 73 installs, 0 updates, 0 removals
#6 10.51 
#6 10.51   - Installing certifi (2024.8.30)
#6 10.51   - Installing h11 (0.14.0)
#6 10.51   - Installing idna (3.10)
#6 10.51   - Installing sniffio (1.3.1)
#6 10.51   - Installing typing-extensions (4.12.2)
#6 12.05   - Installing annotated-types (0.7.0)
#6 12.05   - Installing anyio (4.4.0)
#6 12.05   - Installing httpcore (1.0.5)
#6 12.05   - Installing charset-normalizer (3.3.2)
#6 12.06   - Installing urllib3 (2.2.3)
#6 12.06   - Installing pydantic-core (2.23.4)
#6 13.61   - Installing httpx (0.27.2)
#6 13.61   - Installing jsonpointer (3.0.0)
#6 13.61   - Installing orjson (3.10.7)
#6 13.61   - Installing requests (2.32.3)
#6 13.62   - Installing six (1.16.0)
#6 13.62   - Installing pydantic (2.9.2)
#6 14.19   - Installing asttokens (2.4.1)
#6 14.19   - Installing executing (2.1.0)
#6 14.20   - Installing jsonpatch (1.33)
#6 14.20   - Installing langsmith (0.1.122)
#6 14.20   - Installing parso (0.8.4)
#6 14.21   - Installing platformdirs (4.3.6)
#6 14.21   - Installing pure-eval (0.2.3)
#6 14.21   - Installing pyyaml (6.0.2)
#6 14.21   - Installing traitlets (5.14.3)
#6 14.21   - Installing packaging (24.1)
#6 14.22   - Installing wcwidth (0.2.13)
#6 14.22   - Installing tenacity (8.5.0)
#6 14.22   - Installing ptyprocess (0.7.0)
#6 15.25   - Installing decorator (5.1.1)
#6 15.25   - Installing distro (1.9.0)
#6 15.26   - Installing jedi (0.19.1)
#6 15.26   - Installing jupyter-core (5.7.2)
#6 15.26   - Installing langchain-core (0.3.1)
#6 15.26   - Installing msgpack (1.1.0)
#6 15.27   - Installing numpy (2.1.1)
#6 15.27   - Installing prompt-toolkit (3.0.48)
#6 15.27   - Installing matplotlib-inline (0.1.7)
#6 15.28   - Installing python-dateutil (2.9.0.post0)
#6 15.28   - Installing regex (2024.9.11)
#6 15.28   - Installing stack-data (0.6.3)
#6 15.29   - Installing tornado (6.4.1)
#6 15.29   - Installing tqdm (4.66.5)
#6 15.29   - Installing pexpect (4.9.0)
#6 15.29   - Installing jiter (0.5.0)
#6 15.29   - Installing pygments (2.18.0)
#6 15.29   - Installing pyzmq (26.2.0)
#6 18.89   - Installing comm (0.2.2)
#6 18.89   - Installing contourpy (1.3.0)
#6 18.89   - Installing cycler (0.12.1)
#6 18.89   - Installing debugpy (1.8.6)
#6 18.89   - Installing fonttools (4.53.1)
#6 18.90   - Installing greenlet (3.0.3)
#6 18.90   - Installing jupyter-client (8.6.3)
#6 18.90   - Installing kiwisolver (1.4.7)
#6 18.91   - Installing langgraph-checkpoint (1.0.10)
#6 18.91   - Installing nest-asyncio (1.6.0)
#6 18.91   - Installing ipython (8.28.0)
#6 18.91   - Installing openai (1.46.0)
#6 18.92   - Installing psutil (6.0.0)
#6 18.92   - Installing pillow (10.4.0)
#6 18.92   - Installing tiktoken (0.7.0)
#6 18.92   - Installing pyparsing (3.1.4)
#6 18.92   - Installing pyee (12.0.0)
#6 21.87   - Installing click (8.1.7)
#6 21.87   - Installing ipykernel (6.29.5)
#6 21.87   - Installing langchain-openai (0.2.0)
#6 21.87   - Installing langgraph (0.2.22)
#6 21.87   - Installing matplotlib (3.9.2)
#6 21.88   - Installing networkx (3.3)
#6 21.88   - Installing playwright (1.47.0)
#6 21.88   - Installing python-dotenv (1.0.1)
#6 29.64 
#6 29.64 Installing the current project: integuru (0.1.0)
#6 DONE 31.9s

#7 [4/7] RUN cd /repo && poetry add langchain-openai &&     pip install langchain_openai==0.2.14
#7 1.494 The following packages are already present in the pyproject.toml and will be skipped:
#7 1.494 
#7 1.494   - langchain-openai
#7 1.494 
#7 1.494 If you want to update it to the latest compatible version, you can use `poetry update package`.
#7 1.494 If you prefer to upgrade it to the latest available version, you can use `poetry add package@latest`.
#7 1.494 
#7 1.494 Nothing to add.
#7 2.306 Looking in indexes: http://simple/
#7 2.370 Collecting langchain_openai==0.2.14
#7 2.389   Downloading http://packages/langchain-openai/langchain_openai-0.2.14-py3-none-any.whl (50 kB)
#7 2.515 Collecting langchain-core<0.4.0,>=0.3.27 (from langchain_openai==0.2.14)
#7 2.536   Downloading http://packages/langchain-core/langchain_core-0.3.34-py3-none-any.whl (412 kB)
#7 2.697 Collecting openai<2.0.0,>=1.58.1 (from langchain_openai==0.2.14)
#7 2.722   Downloading http://packages/openai/openai-1.61.1-py3-none-any.whl (463 kB)
#7 2.809 Collecting tiktoken<1,>=0.7 (from langchain_openai==0.2.14)
#7 2.827   Downloading http://packages/tiktoken/tiktoken-0.8.0-cp312-cp312-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (1.2 MB)
#7 2.848      ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 1.2/1.2 MB 65.6 MB/s eta 0:00:00
#7 3.116 Collecting langsmith<0.4,>=0.1.125 (from langchain-core<0.4.0,>=0.3.27->langchain_openai==0.2.14)
#7 3.134   Downloading http://packages/langsmith/langsmith-0.3.7-py3-none-any.whl (332 kB)
#7 3.191 Collecting tenacity!=8.4.0,<10.0.0,>=8.1.0 (from langchain-core<0.4.0,>=0.3.27->langchain_openai==0.2.14)
#7 3.208   Downloading http://packages/tenacity/tenacity-9.0.0-py3-none-any.whl (28 kB)
#7 3.258 Collecting jsonpatch<2.0,>=1.33 (from langchain-core<0.4.0,>=0.3.27->langchain_openai==0.2.14)
#7 3.278   Downloading http://packages/jsonpatch/jsonpatch-1.33-py2.py3-none-any.whl (12 kB)
#7 3.375 Collecting PyYAML>=5.3 (from langchain-core<0.4.0,>=0.3.27->langchain_openai==0.2.14)
#7 3.393   Downloading http://packages/pyyaml/PyYAML-6.0.2-cp312-cp312-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (767 kB)
#7 3.409      ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 767.5/767.5 kB 45.7 MB/s eta 0:00:00
#7 3.417 Requirement already satisfied: packaging<25,>=23.2 in /usr/local/lib/python3.12/site-packages (from langchain-core<0.4.0,>=0.3.27->langchain_openai==0.2.14) (24.2)
#7 3.452 Collecting typing-extensions>=4.7 (from langchain-core<0.4.0,>=0.3.27->langchain_openai==0.2.14)
#7 3.467   Downloading http://packages/typing-extensions/typing_extensions-4.12.2-py3-none-any.whl (37 kB)
#7 3.773 Collecting pydantic<3.0.0,>=2.7.4 (from langchain-core<0.4.0,>=0.3.27->langchain_openai==0.2.14)
#7 3.788   Downloading http://packages/pydantic/pydantic-2.10.6-py3-none-any.whl (431 kB)
#7 3.884 Collecting anyio<5,>=3.5.0 (from openai<2.0.0,>=1.58.1->langchain_openai==0.2.14)
#7 3.900   Downloading http://packages/anyio/anyio-4.8.0-py3-none-any.whl (96 kB)
#7 3.937 Collecting distro<2,>=1.7.0 (from openai<2.0.0,>=1.58.1->langchain_openai==0.2.14)
#7 3.954   Downloading http://packages/distro/distro-1.9.0-py3-none-any.whl (20 kB)
#7 4.018 Collecting httpx<1,>=0.23.0 (from openai<2.0.0,>=1.58.1->langchain_openai==0.2.14)
#7 4.034   Downloading http://packages/httpx/httpx-0.28.1-py3-none-any.whl (73 kB)
#7 4.164 Collecting jiter<1,>=0.4.0 (from openai<2.0.0,>=1.58.1->langchain_openai==0.2.14)
#7 4.184   Downloading http://packages/jiter/jiter-0.8.2-cp312-cp312-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (345 kB)
#7 4.233 Collecting sniffio (from openai<2.0.0,>=1.58.1->langchain_openai==0.2.14)
#7 4.249   Downloading http://packages/sniffio/sniffio-1.3.1-py3-none-any.whl (10 kB)
#7 4.372 Collecting tqdm>4 (from openai<2.0.0,>=1.58.1->langchain_openai==0.2.14)
#7 4.387   Downloading http://packages/tqdm/tqdm-4.67.1-py3-none-any.whl (78 kB)
#7 5.139 Collecting regex>=2022.1.18 (from tiktoken<1,>=0.7->langchain_openai==0.2.14)
#7 5.163   Downloading http://packages/regex/regex-2024.11.6-cp312-cp312-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (796 kB)
#7 5.181      ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 796.9/796.9 kB 47.2 MB/s eta 0:00:00
#7 5.256 Collecting requests>=2.26.0 (from tiktoken<1,>=0.7->langchain_openai==0.2.14)
#7 5.276   Using cached http://packages/requests/requests-2.32.3-py3-none-any.whl (64 kB)
#7 5.313 Collecting idna>=2.8 (from anyio<5,>=3.5.0->openai<2.0.0,>=1.58.1->langchain_openai==0.2.14)
#7 5.331   Using cached http://packages/idna/idna-3.10-py3-none-any.whl (70 kB)
#7 5.386 Collecting certifi (from httpx<1,>=0.23.0->openai<2.0.0,>=1.58.1->langchain_openai==0.2.14)
#7 5.403   Downloading http://packages/certifi/certifi-2025.1.31-py3-none-any.whl (166 kB)
#7 5.461 Collecting httpcore==1.* (from httpx<1,>=0.23.0->openai<2.0.0,>=1.58.1->langchain_openai==0.2.14)
#7 5.488   Downloading http://packages/httpcore/httpcore-1.0.7-py3-none-any.whl (78 kB)
#7 5.526 Collecting h11<0.15,>=0.13 (from httpcore==1.*->httpx<1,>=0.23.0->openai<2.0.0,>=1.58.1->langchain_openai==0.2.14)
#7 5.548   Downloading http://packages/h11/h11-0.14.0-py3-none-any.whl (58 kB)
#7 5.684 Collecting jsonpointer>=1.9 (from jsonpatch<2.0,>=1.33->langchain-core<0.4.0,>=0.3.27->langchain_openai==0.2.14)
#7 5.698   Downloading http://packages/jsonpointer/jsonpointer-3.0.0-py2.py3-none-any.whl (7.6 kB)
#7 6.284 Collecting orjson<4.0.0,>=3.9.14 (from langsmith<0.4,>=0.1.125->langchain-core<0.4.0,>=0.3.27->langchain_openai==0.2.14)
#7 6.306   Downloading http://packages/orjson/orjson-3.10.15-cp312-cp312-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (130 kB)
#7 6.363 Collecting requests-toolbelt<2.0.0,>=1.0.0 (from langsmith<0.4,>=0.1.125->langchain-core<0.4.0,>=0.3.27->langchain_openai==0.2.14)
#7 6.381   Using cached http://packages/requests-toolbelt/requests_toolbelt-1.0.0-py2.py3-none-any.whl (54 kB)
#7 6.546 Collecting zstandard<0.24.0,>=0.23.0 (from langsmith<0.4,>=0.1.125->langchain-core<0.4.0,>=0.3.27->langchain_openai==0.2.14)
#7 6.731   Downloading http://packages/zstandard/zstandard-0.23.0-cp312-cp312-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (5.4 MB)
#7 6.778      ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 5.4/5.4 MB 127.1 MB/s eta 0:00:00
#7 6.819 Collecting annotated-types>=0.6.0 (from pydantic<3.0.0,>=2.7.4->langchain-core<0.4.0,>=0.3.27->langchain_openai==0.2.14)
#7 6.833   Downloading http://packages/annotated-types/annotated_types-0.7.0-py3-none-any.whl (13 kB)
#7 8.259 Collecting pydantic-core==2.27.2 (from pydantic<3.0.0,>=2.7.4->langchain-core<0.4.0,>=0.3.27->langchain_openai==0.2.14)
#7 8.296   Downloading http://packages/pydantic-core/pydantic_core-2.27.2-cp312-cp312-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (2.0 MB)
#7 8.320      ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 2.0/2.0 MB 91.3 MB/s eta 0:00:00
#7 8.521 Collecting charset-normalizer<4,>=2 (from requests>=2.26.0->tiktoken<1,>=0.7->langchain_openai==0.2.14)
#7 8.539   Using cached http://packages/charset-normalizer/charset_normalizer-3.4.1-cp312-cp312-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (145 kB)
#7 8.649 Collecting urllib3<3,>=1.21.1 (from requests>=2.26.0->tiktoken<1,>=0.7->langchain_openai==0.2.14)
#7 8.678   Using cached http://packages/urllib3/urllib3-2.3.0-py3-none-any.whl (128 kB)
#7 8.866 Installing collected packages: zstandard, urllib3, typing-extensions, tqdm, tenacity, sniffio, regex, PyYAML, orjson, jsonpointer, jiter, idna, h11, distro, charset-normalizer, certifi, annotated-types, requests, pydantic-core, jsonpatch, httpcore, anyio, tiktoken, requests-toolbelt, pydantic, httpx, openai, langsmith, langchain-core, langchain_openai
#7 12.63 Successfully installed PyYAML-6.0.2 annotated-types-0.7.0 anyio-4.8.0 certifi-2025.1.31 charset-normalizer-3.4.1 distro-1.9.0 h11-0.14.0 httpcore-1.0.7 httpx-0.28.1 idna-3.10 jiter-0.8.2 jsonpatch-1.33 jsonpointer-3.0.0 langchain-core-0.3.34 langchain_openai-0.2.14 langsmith-0.3.7 openai-1.61.1 orjson-3.10.15 pydantic-2.10.6 pydantic-core-2.27.2 regex-2024.11.6 requests-2.32.3 requests-toolbelt-1.0.0 sniffio-1.3.1 tenacity-9.0.0 tiktoken-0.8.0 tqdm-4.67.1 typing-extensions-4.12.2 urllib3-2.3.0 zstandard-0.23.0
#7 12.63 WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager, possibly rendering your system unusable.It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv. Use the --root-user-action option if you know what you are doing and want to suppress this warning.
#7 12.68 
#7 12.68 [notice] A new release of pip is available: 24.3.1 -> 25.0
#7 12.68 [notice] To update, run: pip install --upgrade pip
#7 DONE 14.1s

#8 [5/7] RUN pip install networkx==3.4.2
#8 1.185 Looking in indexes: http://simple/
#8 1.259 Collecting networkx==3.4.2
#8 1.277   Downloading http://packages/networkx/networkx-3.4.2-py3-none-any.whl (1.7 MB)
#8 1.312      ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 1.7/1.7 MB 68.3 MB/s eta 0:00:00
#8 1.455 Installing collected packages: networkx
#8 4.624 Successfully installed networkx-3.4.2
#8 4.624 WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager, possibly rendering your system unusable.It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv. Use the --root-user-action option if you know what you are doing and want to suppress this warning.
#8 4.677 
#8 4.677 [notice] A new release of pip is available: 24.3.1 -> 25.0
#8 4.677 [notice] To update, run: pip install --upgrade pip
#8 DONE 5.1s

#9 [6/7] RUN cd /repo && pytest --collect-only -q
#9 3.974 tests/test_integration_agent.py::TestIntegrationAgent::test_dynamic_part_identifying_agent
#9 3.974 tests/test_integration_agent.py::TestIntegrationAgent::test_end_url_identify_agent
#9 3.974 tests/test_integration_agent.py::TestIntegrationAgent::test_input_variables_identifying_agent
#9 3.974 
#9 3.974 3 tests collected in 1.80s
#9 DONE 4.8s

#10 exporting to image
#10 exporting layers
#10 exporting layers 4.1s done
#10 writing image sha256:ea3e6e024a56932ff78be94bff4f4d9bd8e233ea6e5ae8c90870a470e8f86110 done
#10 naming to docker.io/library/tmp:tmp done
#10 DONE 4.1s
