#0 building with "default" instance using docker driver

#1 [internal] load build definition from Dockerfile
#1 transferring dockerfile: 1.08kB done
#1 DONE 0.0s

#2 [internal] load metadata for docker.io/library/python:3.10
#2 DONE 0.0s

#3 [internal] load .dockerignore
#3 transferring context: 2B done
#3 DONE 0.0s

#4 [1/5] FROM docker.io/library/python:3.10
#4 DONE 0.0s

#5 [2/5] RUN mkdir -p ~/.pip && touch ~/.pip/pip.conf &&     echo "[global]" >> ~/.pip/pip.conf && echo "index-url=http://simple/" >> ~/.pip/pip.conf && echo "[install]" >> ~/.pip/pip.conf && echo "trusted-host=pypi..org" >> ~/.pip/pip.conf &&     apt-get update && apt-get install -y curl &&     curl -sSL https://install.python-poetry.org | python -
#5 CACHED

#6 [3/5] RUN pip install pytest pytest-xdist &&     pip install pipdeptree &&     git clone https://github.com/run-llama/llama_deploy.git &&     mkdir /repo &&     git config --global --add safe.directory /repo &&     cp -r /llama_deploy/. /repo && rm -rf /llama_deploy/ &&     rm -rf /llama_deploy &&     cd /repo && git checkout 47efff882cffa9b662f5a78e3032f5a13ea7bc17 &&     cd /repo && poetry install
#6 CACHED

#7 [4/5] RUN cd /repo && poetry run pytest --collect-only -q
#7 13.19 e2e_tests/apiserver/test_deploy.py::test_deploy
#7 13.19 e2e_tests/apiserver/test_deploy.py::test_deploy_sync
#7 13.19 e2e_tests/apiserver/test_status.py::test_status_down
#7 13.19 e2e_tests/apiserver/test_status.py::test_status_down_sync
#7 13.19 e2e_tests/apiserver/test_status.py::test_status_up
#7 13.19 e2e_tests/apiserver/test_status.py::test_status_up_sync
#7 13.19 e2e_tests/apiserver/test_streaming.py::test_stream
#7 13.19 e2e_tests/basic_hitl/test_run_client.py::test_run_client
#7 13.19 e2e_tests/basic_hitl/test_run_client.py::test_run_client_async
#7 13.19 e2e_tests/basic_session/test_run_client.py::test_run_client
#7 13.19 e2e_tests/basic_session/test_run_client.py::test_run_client_async
#7 13.19 e2e_tests/basic_streaming/test_run_client.py::test_run_client
#7 13.19 e2e_tests/basic_streaming/test_run_client.py::test_run_client_async
#7 13.19 e2e_tests/basic_workflow/test_run_client.py::test_run_client
#7 13.19 e2e_tests/basic_workflow/test_run_client.py::test_run_client_async
#7 13.19 e2e_tests/core/test_services.py::test_services
#7 13.19 e2e_tests/core/test_services.py::test_services_async
#7 13.19 e2e_tests/message_queues/message_queue_kafka/test_message_queue.py::test_roundtrip
#7 13.19 e2e_tests/message_queues/message_queue_kafka/test_message_queue.py::test_multiple_control_planes
#7 13.19 e2e_tests/message_queues/message_queue_rabbitmq/test_message_queue.py::test_roundtrip
#7 13.19 e2e_tests/message_queues/message_queue_rabbitmq/test_message_queue.py::test_multiple_control_planes
#7 13.19 e2e_tests/message_queues/message_queue_simple/test_message_queue.py::test_cancel_launch_server
#7 13.19 tests/apiserver/routers/test_deployments.py::test_read_deployments
#7 13.19 tests/apiserver/routers/test_deployments.py::test_read_deployment
#7 13.19 tests/apiserver/routers/test_deployments.py::test_create_deployment
#7 13.19 tests/apiserver/routers/test_deployments.py::test_create_deployment_task_not_found
#7 13.19 tests/apiserver/routers/test_deployments.py::test_create_deployment_task_missing_service
#7 13.19 tests/apiserver/routers/test_deployments.py::test_run_deployment_task
#7 13.19 tests/apiserver/routers/test_deployments.py::test_create_deployment_task
#7 13.19 tests/apiserver/routers/test_deployments.py::test_get_event_stream
#7 13.19 tests/apiserver/routers/test_deployments.py::test_get_task_result
#7 13.19 tests/apiserver/routers/test_deployments.py::test_get_sessions
#7 13.19 tests/apiserver/routers/test_deployments.py::test_delete_session
#7 13.19 tests/apiserver/routers/test_status.py::test_read_main
#7 13.19 tests/apiserver/source_managers/test_git.py::test_parse_source
#7 13.19 tests/apiserver/source_managers/test_git.py::test_sync_wrong_params
#7 13.19 tests/apiserver/source_managers/test_git.py::test_sync
#7 13.19 tests/apiserver/test_app.py::test_read_main
#7 13.19 tests/apiserver/test_config_parser.py::test_load_config_file
#7 13.19 tests/apiserver/test_config_parser.py::test_from_yaml_bytes
#7 13.19 tests/apiserver/test_deployment.py::test_deployment_ctor
#7 13.19 tests/apiserver/test_deployment.py::test_deployment_ctor_missing_service_path
#7 13.19 tests/apiserver/test_deployment.py::test_deployment_ctor_missing_service_port
#7 13.19 tests/apiserver/test_deployment.py::test_deployment_ctor_missing_service_host
#7 13.19 tests/apiserver/test_deployment.py::test_deployment_ctor_skip_default_service
#7 13.19 tests/apiserver/test_deployment.py::test_deployment___load_message_queue_default
#7 13.19 tests/apiserver/test_deployment.py::test_deployment___load_message_queue_not_supported
#7 13.19 tests/apiserver/test_deployment.py::test_deployment__load_message_queues
#7 13.19 tests/apiserver/test_deployment.py::test__install_dependencies
#7 13.19 tests/apiserver/test_deployment.py::test__install_dependencies_raises
#7 13.19 tests/apiserver/test_deployment.py::test_manager_ctor
#7 13.19 tests/apiserver/test_deployment.py::test_manager_deploy_duplicate
#7 13.19 tests/apiserver/test_deployment.py::test_manager_deploy_maximum_reached
#7 13.19 tests/apiserver/test_deployment.py::test_manager_deploy
#7 13.19 tests/apiserver/test_deployment.py::test_manager_serve_loop
#7 13.19 tests/apiserver/test_deployment.py::test_manager_assign_control_plane_port
#7 13.19 tests/apiserver/test_server.py::test_lifespan
#7 13.19 tests/cli/test_cli.py::test_main
#7 13.19 tests/cli/test_cli.py::test_root_command
#7 13.19 tests/cli/test_deploy.py::test_deploy
#7 13.19 tests/cli/test_deploy.py::test_deploy_failed
#7 13.19 tests/cli/test_run.py::test_run
#7 13.19 tests/cli/test_run.py::test_run_error
#7 13.19 tests/cli/test_run.py::test_run_args
#7 13.19 tests/cli/test_sessions.py::test_session_create
#7 13.19 tests/cli/test_sessions.py::test_sessions_create_error
#7 13.19 tests/cli/test_status.py::test_status_raised
#7 13.19 tests/cli/test_status.py::test_status_server_down
#7 13.19 tests/cli/test_status.py::test_status_unhealthy
#7 13.19 tests/cli/test_status.py::test_status
#7 13.19 tests/cli/test_status.py::test_status_with_deployments
#7 13.19 tests/client/models/test_apiserver.py::test_session_collection_delete
#7 13.19 tests/client/models/test_apiserver.py::test_session_collection_create
#7 13.19 tests/client/models/test_apiserver.py::test_session_collection_list
#7 13.19 tests/client/models/test_apiserver.py::test_task_results
#7 13.19 tests/client/models/test_apiserver.py::test_task_collection_run
#7 13.19 tests/client/models/test_apiserver.py::test_task_collection_create
#7 13.19 tests/client/models/test_apiserver.py::test_task_deployment_tasks
#7 13.19 tests/client/models/test_apiserver.py::test_task_deployment_sessions
#7 13.19 tests/client/models/test_apiserver.py::test_task_deployment_collection_create
#7 13.19 tests/client/models/test_apiserver.py::test_task_deployment_collection_get
#7 13.19 tests/client/models/test_apiserver.py::test_status_down
#7 13.19 tests/client/models/test_apiserver.py::test_status_unhealthy
#7 13.19 tests/client/models/test_apiserver.py::test_status_healthy_no_deployments
#7 13.19 tests/client/models/test_apiserver.py::test_status_healthy
#7 13.19 tests/client/models/test_apiserver.py::test_deployments
#7 13.19 tests/client/models/test_core.py::test_session_run
#7 13.19 tests/client/models/test_core.py::test_session_create_task
#7 13.19 tests/client/models/test_core.py::test_session_get_task_result
#7 13.19 tests/client/models/test_core.py::test_service_collection_register
#7 13.19 tests/client/models/test_core.py::test_service_collection_deregister
#7 13.19 tests/client/models/test_core.py::test_core_services
#7 13.19 tests/client/models/test_core.py::test_session_collection_create
#7 13.19 tests/client/models/test_core.py::test_session_collection_get_existing
#7 13.19 tests/client/models/test_core.py::test_session_collection_get_nonexistent
#7 13.19 tests/client/models/test_core.py::test_session_collection_get_or_create_existing
#7 13.19 tests/client/models/test_core.py::test_session_collection_get_or_create_nonexistent
#7 13.19 tests/client/models/test_core.py::test_session_collection_get_or_create_error
#7 13.19 tests/client/models/test_core.py::test_session_collection_delete
#7 13.19 tests/client/models/test_core.py::test_core_sessions
#7 13.19 tests/client/models/test_core.py::test_session_get_tasks
#7 13.19 tests/client/models/test_core.py::test_session_send_event
#7 13.19 tests/client/models/test_core.py::test_session_run_nowait
#7 13.19 tests/client/models/test_core.py::test_get_task_result_stream_success
#7 13.19 tests/client/models/test_core.py::test_get_task_result_stream_timeout
#7 13.19 tests/client/models/test_core.py::test_get_task_result_stream_error
#7 13.19 tests/client/models/test_model.py::test_make_sync
#7 13.19 tests/client/models/test_model.py::test_make_sync_instance
#7 13.19 tests/client/models/test_model.py::test__prepare
#7 13.19 tests/client/models/test_model.py::test_collection_get
#7 13.19 tests/client/models/test_model.py::test__async_gen_to_list
#7 13.19 tests/client/test_client.py::test_client_init_default
#7 13.19 tests/client/test_client.py::test_client_init_settings
#7 13.19 tests/client/test_client.py::test_client_sync
#7 13.19 tests/client/test_client.py::test_client_sync_within_loop
#7 13.19 tests/client/test_client.py::test_client_attributes
#7 13.19 tests/client/test_client.py::test_client_request
#7 13.19 tests/control_plane/test_config.py::test_config_url
#7 13.19 tests/control_plane/test_config.py::test_parse_state_store_uri_malformed
#7 13.19 tests/control_plane/test_config.py::test_parse_state_store_uri_redis_not_installed
#7 13.19 tests/control_plane/test_config.py::test_parse_state_store_uri_redis
#7 13.19 tests/control_plane/test_config.py::test_parse_state_store_uri_mongodb_not_installed
#7 13.19 tests/control_plane/test_config.py::test_parse_state_store_uri_mongodb
#7 13.19 tests/control_plane/test_server.py::test_control_plane_init
#7 13.19 tests/control_plane/test_server.py::test_control_plane_init_state_store
#7 13.19 tests/message_queue_consumers/test_base.py::test_consumer_consumes_messages
#7 13.19 tests/message_queues/test_apache_kafka.py::test_init
#7 13.19 tests/message_queues/test_apache_kafka.py::test_from_url_params
#7 13.19 tests/message_queues/test_apache_kafka.py::test_publish
#7 13.19 tests/message_queues/test_rabbitmq.py::test_config_init
#7 13.20 tests/message_queues/test_rabbitmq.py::test_register_consumer
#7 13.20 tests/message_queues/test_rabbitmq.py::test_init
#7 13.20 tests/message_queues/test_rabbitmq.py::test_from_url_params
#7 13.20 tests/message_queues/test_rabbitmq.py::test_establish_connection
#7 13.20 tests/message_queues/test_rabbitmq.py::test_publish
#7 13.20 tests/message_queues/test_redis.py::test_new_connection
#7 13.20 tests/message_queues/test_redis.py::test_publish
#7 13.20 tests/message_queues/test_redis.py::test_register_consumer
#7 13.20 tests/message_queues/test_redis.py::test_deregister_consumer
#7 13.20 tests/message_queues/test_redis.py::test_cleanup_local
#7 13.20 tests/message_queues/test_redis.py::test_from_url_params
#7 13.20 tests/message_queues/test_redis.py::test_register_same_consumer_twice
#7 13.20 tests/message_queues/test_simple.py::test_simple_register_consumer
#7 13.20 tests/message_queues/test_simple.py::test_simple_deregister_consumer
#7 13.20 tests/message_queues/test_simple.py::test_simple_publish_consumer
#7 13.20 tests/message_queues/test_simple_app.py::test_register_consumer
#7 13.20 tests/message_queues/test_simple_app.py::test_deregister_consumer
#7 13.20 tests/message_queues/test_simple_app.py::test_get_consumers
#7 13.20 tests/message_queues/test_simple_app.py::test_publish
#7 13.20 tests/message_queues/test_simple_remote_client.py::test_remote_client_register_consumer
#7 13.20 tests/message_queues/test_simple_remote_client.py::test_remote_client_deregister_consumer
#7 13.20 tests/message_queues/test_simple_remote_client.py::test_remote_client_get_consumers
#7 13.20 tests/message_queues/test_simple_remote_client.py::test_remote_client_publish
#7 13.20 tests/message_queues/test_solace.py::test_solace_config
#7 13.20 tests/message_queues/test_solace.py::test_establish_connection
#7 13.20 tests/message_queues/test_solace.py::test_publish_message
#7 13.20 tests/message_queues/test_solace.py::test_register_consumer
#7 13.20 tests/message_queues/test_solace.py::test_deregister_consumer
#7 13.20 tests/message_queues/test_solace.py::test_disconnect
#7 13.20 tests/message_queues/test_solace.py::test_is_connected
#7 13.20 tests/message_queues/test_solace.py::test_bind_to_queue
#7 13.20 tests/message_queues/test_solace.py::test_message_handler_impl
#7 13.20 tests/orchestrators/test_simple_orchestrator.py::test_get_next_message
#7 13.20 tests/orchestrators/test_simple_orchestrator.py::test_add_result_to_state
#7 13.20 tests/services/test_agent_service.py::test_init
#7 13.20 tests/services/test_human_service.py::test_init
#7 13.20 tests/services/test_human_service.py::test_invalid_human_prompt_raises_validation_error
#7 13.20 tests/services/test_human_service.py::test_create_task
#7 13.20 tests/services/test_human_service.py::test_process_task
#7 13.20 tests/services/test_human_service.py::test_process_human_req_from_queue
#7 13.20 tests/services/test_human_service.py::test_process_task_with_custom_human_input_fn
#7 13.20 tests/services/test_human_service.py::test_process_task_as_tool_call
#7 13.20 tests/services/test_tool_service.py::test_init
#7 13.20 tests/services/test_tool_service.py::test_create_tool_call
#7 13.20 tests/services/test_tool_service.py::test_process_tool_call
#7 13.20 tests/services/test_tool_service.py::test_process_tool_call_from_queue
#7 13.20 tests/services/test_workflow_service.py::test_workflow_service
#7 13.20 tests/services/test_workflow_service.py::test_hitl_workflow_service
#7 13.20 tests/tools/test_agent_service_as_tool.py::test_tool_call_output
#7 13.20 tests/tools/test_agent_service_as_tool.py::test_tool_call_raises_timeout_error
#7 13.20 tests/tools/test_agent_service_as_tool.py::test_tool_call_hits_timeout_but_returns_tool_output
#7 13.20 tests/tools/test_human_service_as_tool.py::test_tool_call_output
#7 13.20 tests/tools/test_human_service_as_tool.py::test_tool_call_raises_timeout_error
#7 13.20 tests/tools/test_human_service_as_tool.py::test_tool_call_hits_timeout_but_returns_tool_output
#7 13.20 tests/tools/test_meta_service_tool.py::test_init
#7 13.20 tests/tools/test_meta_service_tool.py::test_create_from_tool_service_direct
#7 13.20 tests/tools/test_meta_service_tool.py::test_create_from_tool_service_raise_error[from_tool_service_kwargs0]
#7 13.20 tests/tools/test_meta_service_tool.py::test_create_from_tool_service_raise_error[from_tool_service_kwargs1]
#7 13.20 tests/tools/test_meta_service_tool.py::test_create_from_tool_service_raise_error[from_tool_service_kwargs2]
#7 13.20 tests/tools/test_meta_service_tool.py::test_create_from_tool_service_raise_error[from_tool_service_kwargs3]
#7 13.20 tests/tools/test_meta_service_tool.py::test_create_from_tool_service_raise_error[from_tool_service_kwargs4]
#7 13.20 tests/tools/test_meta_service_tool.py::test_create_from_tool_service_raise_error[from_tool_service_kwargs5]
#7 13.20 tests/tools/test_meta_service_tool.py::test_create_from_tool_service_raise_error[from_tool_service_kwargs6]
#7 13.20 tests/tools/test_meta_service_tool.py::test_tool_call_output
#7 13.20 tests/tools/test_meta_service_tool.py::test_tool_call_raise_timeout
#7 13.20 tests/tools/test_meta_service_tool.py::test_tool_call_reach_timeout
#7 13.20 tests/tools/test_service_as_tool.py::test_init[human_service]
#7 13.20 tests/tools/test_service_as_tool.py::test_init[agent_service]
#7 13.20 tests/tools/test_service_as_tool.py::test_init_invalid_tool_name_should_raise_error[human_service]
#7 13.20 tests/tools/test_service_as_tool.py::test_init_invalid_tool_name_should_raise_error[agent_service]
#7 13.20 tests/tools/test_service_as_tool.py::test_from_service_definition[human_service]
#7 13.20 tests/tools/test_service_as_tool.py::test_from_service_definition[agent_service]
#7 13.20 
#7 13.20 =============================== warnings summary ===============================
#7 13.20 ../root/.cache/pypoetry/virtualenvs/llama-deploy-gW_DSdP6-py3.10/lib/python3.10/site-packages/solace/messaging/config/solace_properties/authentication_properties.py:114
#7 13.20   /root/.cache/pypoetry/virtualenvs/llama-deploy-gW_DSdP6-py3.10/lib/python3.10/site-packages/solace/messaging/config/solace_properties/authentication_properties.py:114: DeprecationWarning: invalid escape sequence '\@'
#7 13.20     """ This property specifies the first part of Kerberos Service Principal Name (SPN) of the
#7 13.20 
#7 13.20 -- Docs: https://docs.pytest.org/en/stable/how-to/capture-warnings.html
#7 13.20 202 tests collected in 10.82s
#7 DONE 14.5s

#8 exporting to image
#8 exporting layers
#8 exporting layers 3.7s done
#8 writing image sha256:a60437e777f5940dfd417804a0ae9a6828fb25230565bb4e867e1f947dcc6286 done
#8 naming to docker.io/library/tmp:tmp done
#8 DONE 3.8s
