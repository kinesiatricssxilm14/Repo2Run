#0 building with "default" instance using docker driver

#1 [internal] load build definition from Dockerfile
#1 transferring dockerfile: 1.44kB done
#1 DONE 0.0s

#2 [internal] load metadata for docker.io/library/python:3.11
#2 DONE 0.0s

#3 [internal] load .dockerignore
#3 transferring context: 2B done
#3 DONE 0.0s

#4 [internal] load build context
#4 transferring context: 24.43kB done
#4 DONE 0.0s

#5 [1/8] FROM docker.io/library/python:3.11
#5 CACHED

#6 [2/8] COPY search_patch /search_patch
#6 DONE 0.0s

#7 [3/8] COPY code_edit.py /code_edit.py
#7 DONE 0.0s

#8 [4/8] RUN mkdir -p ~/.pip && touch ~/.pip/pip.conf &&     echo "[global]" >> ~/.pip/pip.conf && echo "index-url=http://simple/" >> ~/.pip/pip.conf && echo "[install]" >> ~/.pip/pip.conf && echo "trusted-host=pypi..org" >> ~/.pip/pip.conf &&     apt-get update && apt-get install -y curl &&     curl -sSL https://install.python-poetry.org | python -
#8 0.507 Get:1 http://deb.debian.org/debian bookworm InRelease [151 kB]
#8 0.856 Get:2 http://deb.debian.org/debian bookworm-updates InRelease [55.4 kB]
#8 0.951 Get:3 http://deb.debian.org/debian-security bookworm-security InRelease [48.0 kB]
#8 1.048 Get:4 http://deb.debian.org/debian bookworm/main amd64 Packages [8789 kB]
#8 1.572 Get:5 http://deb.debian.org/debian bookworm-updates/main amd64 Packages [8856 B]
#8 1.721 Get:6 http://deb.debian.org/debian-security bookworm-security/main amd64 Packages [240 kB]
#8 2.951 Fetched 9292 kB in 3s (3568 kB/s)
#8 2.951 Reading package lists...
#8 3.676 Reading package lists...
#8 4.394 Building dependency tree...
#8 4.624 Reading state information...
#8 5.002 curl is already the newest version (7.88.1-10+deb12u8).
#8 5.002 0 upgraded, 0 newly installed, 0 to remove and 0 not upgraded.
#8 24.76 Retrieving Poetry metadata
#8 24.76 
#8 24.76 # Welcome to Poetry!
#8 24.76 
#8 24.76 This will download and install the latest version of Poetry,
#8 24.76 a dependency and package manager for Python.
#8 24.76 
#8 24.76 It will add the `poetry` command to Poetry's bin directory, located at:
#8 24.76 
#8 24.76 /root/.local/bin
#8 24.76 
#8 24.76 You can uninstall at any time by executing this script with the --uninstall option,
#8 24.76 and these changes will be reverted.
#8 24.76 
#8 24.76 Installing Poetry (2.0.0)
#8 24.76 Installing Poetry (2.0.0): Creating environment
#8 24.76 Installing Poetry (2.0.0): Installing Poetry
#8 24.76 Installing Poetry (2.0.0): Creating script
#8 24.76 Installing Poetry (2.0.0): Done
#8 24.76 
#8 24.76 Poetry (2.0.0) is installed now. Great!
#8 24.76 
#8 24.76 To get started you need Poetry's bin directory (/root/.local/bin) in your `PATH`
#8 24.76 environment variable.
#8 24.76 
#8 24.76 Add `export PATH="/root/.local/bin:$PATH"` to your shell configuration file.
#8 24.76 
#8 24.76 Alternatively, you can call Poetry explicitly with `/root/.local/bin/poetry`.
#8 24.76 
#8 24.76 You can test that everything is set up by executing:
#8 24.76 
#8 24.76 `poetry --version`
#8 24.76 
#8 DONE 25.1s

#9 [5/8] RUN pip install pytest pytest-xdist &&     pip install pipdeptree &&     git clone https://github.com/nicobrenner/commandjobs.git &&     mkdir /repo &&     git config --global --add safe.directory /repo &&     cp -r /commandjobs/. /repo && rm -rf /commandjobs/ &&     rm -rf /commandjobs &&     cd /repo && git checkout 4c72648b6858e85734c02a3c33b08c0f09ef1061 &&     pip install beautifulsoup4==4.9.3 &&     pip install requests==2.25.1 &&     pip install openai==1.57.4 &&     pip install python-dotenv==1.0.1 &&     pip install selenium==4.25.0 &&     pip install webdriver-manager==4.0.2
#9 2.162 Looking in indexes: http://simple/
#9 2.283 Collecting pytest
#9 2.303   Downloading http://packages/pytest/pytest-8.3.4-py3-none-any.whl (343 kB)
#9 2.329      ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 343.1/343.1 kB 15.8 MB/s eta 0:00:00
#9 2.385 Collecting pytest-xdist
#9 2.406   Downloading http://packages/pytest-xdist/pytest_xdist-3.6.1-py3-none-any.whl (46 kB)
#9 2.419      ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 46.1/46.1 kB 3.9 MB/s eta 0:00:00
#9 2.457 Collecting iniconfig (from pytest)
#9 2.476   Downloading http://packages/iniconfig/iniconfig-2.0.0-py3-none-any.whl (5.9 kB)
#9 2.529 Collecting packaging (from pytest)
#9 2.531   Using cached http://packages/packaging/packaging-24.2-py3-none-any.whl (65 kB)
#9 2.567 Collecting pluggy<2,>=1.5 (from pytest)
#9 2.589   Downloading http://packages/pluggy/pluggy-1.5.0-py3-none-any.whl (20 kB)
#9 2.638 Collecting execnet>=2.1 (from pytest-xdist)
#9 2.665   Downloading http://packages/execnet/execnet-2.1.1-py3-none-any.whl (40 kB)
#9 2.675      ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 40.6/40.6 kB 4.9 MB/s eta 0:00:00
#9 2.779 Installing collected packages: pluggy, packaging, iniconfig, execnet, pytest, pytest-xdist
#9 3.267 Successfully installed execnet-2.1.1 iniconfig-2.0.0 packaging-24.2 pluggy-1.5.0 pytest-8.3.4 pytest-xdist-3.6.1
#9 3.267 WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv
#9 3.366 
#9 3.366 [notice] A new release of pip is available: 24.0 -> 24.3.1
#9 3.366 [notice] To update, run: pip install --upgrade pip
#9 4.069 Looking in indexes: http://simple/
#9 4.135 Collecting pipdeptree
#9 4.154   Downloading http://packages/pipdeptree/pipdeptree-2.24.0-py3-none-any.whl (32 kB)
#9 4.181 Requirement already satisfied: packaging>=24.1 in /usr/local/lib/python3.11/site-packages (from pipdeptree) (24.2)
#9 4.280 Collecting pip>=24.2 (from pipdeptree)
#9 4.283   Using cached http://packages/pip/pip-24.3.1-py3-none-any.whl (1.8 MB)
#9 4.397 Installing collected packages: pip, pipdeptree
#9 4.398   Attempting uninstall: pip
#9 4.402     Found existing installation: pip 24.0
#9 4.458     Uninstalling pip-24.0:
#9 4.649       Successfully uninstalled pip-24.0
#9 6.038 Successfully installed pip-24.3.1 pipdeptree-2.24.0
#9 6.039 WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv
#9 6.269 Cloning into 'commandjobs'...
#9 8.596 Note: switching to '4c72648b6858e85734c02a3c33b08c0f09ef1061'.
#9 8.596 
#9 8.596 You are in 'detached HEAD' state. You can look around, make experimental
#9 8.596 changes and commit them, and you can discard any commits you make in this
#9 8.596 state without impacting any branches by switching back to a branch.
#9 8.596 
#9 8.596 If you want to create a new branch to retain commits you create, you may
#9 8.596 do so (now or later) by using -c with the switch command. Example:
#9 8.596 
#9 8.596   git switch -c <new-branch-name>
#9 8.596 
#9 8.596 Or undo this operation with:
#9 8.596 
#9 8.596   git switch -
#9 8.596 
#9 8.596 Turn off this advice by setting config variable advice.detachedHead to false
#9 8.596 
#9 8.596 HEAD is now at 4c72648 Merge pull request #68 from noameron/fix/docker
#9 9.181 Looking in indexes: http://simple/
#9 9.223 Collecting beautifulsoup4==4.9.3
#9 9.243   Downloading http://packages/beautifulsoup4/beautifulsoup4-4.9.3-py3-none-any.whl (115 kB)
#9 9.305 Collecting soupsieve>1.2 (from beautifulsoup4==4.9.3)
#9 9.322   Downloading http://packages/soupsieve/soupsieve-2.6-py3-none-any.whl (36 kB)
#9 9.354 Installing collected packages: soupsieve, beautifulsoup4
#9 9.503 Successfully installed beautifulsoup4-4.9.3 soupsieve-2.6
#9 9.503 WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager, possibly rendering your system unusable.It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv. Use the --root-user-action option if you know what you are doing and want to suppress this warning.
#9 10.20 Looking in indexes: http://simple/
#9 10.28 Collecting requests==2.25.1
#9 10.30   Downloading http://packages/requests/requests-2.25.1-py2.py3-none-any.whl (61 kB)
#9 10.33 Collecting chardet<5,>=3.0.2 (from requests==2.25.1)
#9 10.36   Downloading http://packages/chardet/chardet-4.0.0-py2.py3-none-any.whl (178 kB)
#9 10.41 Collecting idna<3,>=2.5 (from requests==2.25.1)
#9 10.43   Downloading http://packages/idna/idna-2.10-py2.py3-none-any.whl (58 kB)
#9 10.52 Collecting urllib3<1.27,>=1.21.1 (from requests==2.25.1)
#9 10.54   Downloading http://packages/urllib3/urllib3-1.26.20-py2.py3-none-any.whl (144 kB)
#9 10.61 Collecting certifi>=2017.4.17 (from requests==2.25.1)
#9 10.61   Using cached http://packages/certifi/certifi-2024.12.14-py3-none-any.whl (164 kB)
#9 10.69 Installing collected packages: urllib3, idna, chardet, certifi, requests
#9 11.20 Successfully installed certifi-2024.12.14 chardet-4.0.0 idna-2.10 requests-2.25.1 urllib3-1.26.20
#9 11.20 WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager, possibly rendering your system unusable.It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv. Use the --root-user-action option if you know what you are doing and want to suppress this warning.
#9 11.88 Looking in indexes: http://simple/
#9 12.00 Collecting openai==1.57.4
#9 12.03   Downloading http://packages/openai/openai-1.57.4-py3-none-any.whl (390 kB)
#9 12.10 Collecting anyio<5,>=3.5.0 (from openai==1.57.4)
#9 12.12   Downloading http://packages/anyio/anyio-4.8.0-py3-none-any.whl (96 kB)
#9 12.16 Collecting distro<2,>=1.7.0 (from openai==1.57.4)
#9 12.19   Downloading http://packages/distro/distro-1.9.0-py3-none-any.whl (20 kB)
#9 12.27 Collecting httpx<1,>=0.23.0 (from openai==1.57.4)
#9 12.29   Downloading http://packages/httpx/httpx-0.28.1-py3-none-any.whl (73 kB)
#9 12.41 Collecting jiter<1,>=0.4.0 (from openai==1.57.4)
#9 12.43   Downloading http://packages/jiter/jiter-0.8.2-cp311-cp311-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (345 kB)
#9 12.69 Collecting pydantic<3,>=1.9.0 (from openai==1.57.4)
#9 12.71   Downloading http://packages/pydantic/pydantic-2.10.4-py3-none-any.whl (431 kB)
#9 12.76 Collecting sniffio (from openai==1.57.4)
#9 12.78   Downloading http://packages/sniffio/sniffio-1.3.1-py3-none-any.whl (10 kB)
#9 12.89 Collecting tqdm>4 (from openai==1.57.4)
#9 12.91   Downloading http://packages/tqdm/tqdm-4.67.1-py3-none-any.whl (78 kB)
#9 12.96 Collecting typing-extensions<5,>=4.11 (from openai==1.57.4)
#9 12.98   Downloading http://packages/typing-extensions/typing_extensions-4.12.2-py3-none-any.whl (37 kB)
#9 12.99 Requirement already satisfied: idna>=2.8 in /usr/local/lib/python3.11/site-packages (from anyio<5,>=3.5.0->openai==1.57.4) (2.10)
#9 13.00 Requirement already satisfied: certifi in /usr/local/lib/python3.11/site-packages (from httpx<1,>=0.23.0->openai==1.57.4) (2024.12.14)
#9 13.04 Collecting httpcore==1.* (from httpx<1,>=0.23.0->openai==1.57.4)
#9 13.06   Downloading http://packages/httpcore/httpcore-1.0.7-py3-none-any.whl (78 kB)
#9 13.10 Collecting h11<0.15,>=0.13 (from httpcore==1.*->httpx<1,>=0.23.0->openai==1.57.4)
#9 13.12   Downloading http://packages/h11/h11-0.14.0-py3-none-any.whl (58 kB)
#9 13.15 Collecting annotated-types>=0.6.0 (from pydantic<3,>=1.9.0->openai==1.57.4)
#9 13.17   Downloading http://packages/annotated-types/annotated_types-0.7.0-py3-none-any.whl (13 kB)
#9 14.33 Collecting pydantic-core==2.27.2 (from pydantic<3,>=1.9.0->openai==1.57.4)
#9 14.34   Downloading http://packages/pydantic-core/pydantic_core-2.27.2-cp311-cp311-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (2.0 MB)
#9 14.38      ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 2.0/2.0 MB 75.2 MB/s eta 0:00:00
#9 14.47 Installing collected packages: typing-extensions, tqdm, sniffio, jiter, h11, distro, annotated-types, pydantic-core, httpcore, anyio, pydantic, httpx, openai
#9 15.79 Successfully installed annotated-types-0.7.0 anyio-4.8.0 distro-1.9.0 h11-0.14.0 httpcore-1.0.7 httpx-0.28.1 jiter-0.8.2 openai-1.57.4 pydantic-2.10.4 pydantic-core-2.27.2 sniffio-1.3.1 tqdm-4.67.1 typing-extensions-4.12.2
#9 15.79 WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager, possibly rendering your system unusable.It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv. Use the --root-user-action option if you know what you are doing and want to suppress this warning.
#9 17.15 Looking in indexes: http://simple/
#9 17.20 Collecting python-dotenv==1.0.1
#9 17.22   Downloading http://packages/python-dotenv/python_dotenv-1.0.1-py3-none-any.whl (19 kB)
#9 17.30 Installing collected packages: python-dotenv
#9 17.33 Successfully installed python-dotenv-1.0.1
#9 17.33 WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager, possibly rendering your system unusable.It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv. Use the --root-user-action option if you know what you are doing and want to suppress this warning.
#9 18.35 Looking in indexes: http://simple/
#9 18.43 Collecting selenium==4.25.0
#9 18.45   Downloading http://packages/selenium/selenium-4.25.0-py3-none-any.whl (9.7 MB)
#9 18.52      ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 9.7/9.7 MB 155.4 MB/s eta 0:00:00
#9 18.56 Requirement already satisfied: urllib3<3,>=1.26 in /usr/local/lib/python3.11/site-packages (from urllib3[socks]<3,>=1.26->selenium==4.25.0) (1.26.20)
#9 18.60 Collecting trio~=0.17 (from selenium==4.25.0)
#9 18.62   Downloading http://packages/trio/trio-0.28.0-py3-none-any.whl (486 kB)
#9 18.68 Collecting trio-websocket~=0.9 (from selenium==4.25.0)
#9 18.70   Downloading http://packages/trio-websocket/trio_websocket-0.11.1-py3-none-any.whl (17 kB)
#9 18.71 Requirement already satisfied: certifi>=2021.10.8 in /usr/local/lib/python3.11/site-packages (from selenium==4.25.0) (2024.12.14)
#9 18.71 Requirement already satisfied: typing_extensions~=4.9 in /usr/local/lib/python3.11/site-packages (from selenium==4.25.0) (4.12.2)
#9 18.75 Collecting websocket-client~=1.8 (from selenium==4.25.0)
#9 18.77   Downloading http://packages/websocket-client/websocket_client-1.8.0-py3-none-any.whl (58 kB)
#9 18.83 Collecting attrs>=23.2.0 (from trio~=0.17->selenium==4.25.0)
#9 18.85   Downloading http://packages/attrs/attrs-24.3.0-py3-none-any.whl (63 kB)
#9 18.95 Collecting sortedcontainers (from trio~=0.17->selenium==4.25.0)
#9 18.96   Downloading http://packages/sortedcontainers/sortedcontainers-2.4.0-py2.py3-none-any.whl (29 kB)
#9 18.98 Requirement already satisfied: idna in /usr/local/lib/python3.11/site-packages (from trio~=0.17->selenium==4.25.0) (2.10)
#9 19.01 Collecting outcome (from trio~=0.17->selenium==4.25.0)
#9 19.05   Downloading http://packages/outcome/outcome-1.3.0.post0-py2.py3-none-any.whl (10 kB)
#9 19.06 Requirement already satisfied: sniffio>=1.3.0 in /usr/local/lib/python3.11/site-packages (from trio~=0.17->selenium==4.25.0) (1.3.1)
#9 19.09 Collecting wsproto>=0.14 (from trio-websocket~=0.9->selenium==4.25.0)
#9 19.11   Downloading http://packages/wsproto/wsproto-1.2.0-py3-none-any.whl (24 kB)
#9 19.16 Collecting PySocks!=1.5.7,<2.0,>=1.5.6 (from urllib3[socks]<3,>=1.26->selenium==4.25.0)
#9 19.18   Downloading http://packages/pysocks/PySocks-1.7.1-py3-none-any.whl (16 kB)
#9 19.20 Requirement already satisfied: h11<1,>=0.9.0 in /usr/local/lib/python3.11/site-packages (from wsproto>=0.14->trio-websocket~=0.9->selenium==4.25.0) (0.14.0)
#9 19.28 Installing collected packages: sortedcontainers, wsproto, websocket-client, PySocks, attrs, outcome, trio, trio-websocket, selenium
#9 21.29 Successfully installed PySocks-1.7.1 attrs-24.3.0 outcome-1.3.0.post0 selenium-4.25.0 sortedcontainers-2.4.0 trio-0.28.0 trio-websocket-0.11.1 websocket-client-1.8.0 wsproto-1.2.0
#9 21.30 WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager, possibly rendering your system unusable.It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv. Use the --root-user-action option if you know what you are doing and want to suppress this warning.
#9 22.08 Looking in indexes: http://simple/
#9 22.14 Collecting webdriver-manager==4.0.2
#9 22.16   Downloading http://packages/webdriver-manager/webdriver_manager-4.0.2-py2.py3-none-any.whl (27 kB)
#9 22.17 Requirement already satisfied: requests in /usr/local/lib/python3.11/site-packages (from webdriver-manager==4.0.2) (2.25.1)
#9 22.17 Requirement already satisfied: python-dotenv in /usr/local/lib/python3.11/site-packages (from webdriver-manager==4.0.2) (1.0.1)
#9 22.17 Requirement already satisfied: packaging in /usr/local/lib/python3.11/site-packages (from webdriver-manager==4.0.2) (24.2)
#9 22.18 Requirement already satisfied: chardet<5,>=3.0.2 in /usr/local/lib/python3.11/site-packages (from requests->webdriver-manager==4.0.2) (4.0.0)
#9 22.18 Requirement already satisfied: idna<3,>=2.5 in /usr/local/lib/python3.11/site-packages (from requests->webdriver-manager==4.0.2) (2.10)
#9 22.18 Requirement already satisfied: urllib3<1.27,>=1.21.1 in /usr/local/lib/python3.11/site-packages (from requests->webdriver-manager==4.0.2) (1.26.20)
#9 22.18 Requirement already satisfied: certifi>=2017.4.17 in /usr/local/lib/python3.11/site-packages (from requests->webdriver-manager==4.0.2) (2024.12.14)
#9 22.24 Installing collected packages: webdriver-manager
#9 22.28 Successfully installed webdriver-manager-4.0.2
#9 22.28 WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager, possibly rendering your system unusable.It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv. Use the --root-user-action option if you know what you are doing and want to suppress this warning.
#9 DONE 22.7s

#10 [6/8] RUN python /code_edit.py -t "/search_patch/1.patch"
#10 0.571 * Succeed Patch:
#10 0.571 --- arepojob_scraperworkdayscraper.py
#10 0.571 +++ brepojob_scraperworkdayscraper.py
#10 0.571 @@ -74,7 +74,7 @@
#10 0.571              self.done_event.set()
#10 0.571  
#10 0.571      def scrape(self):
#10 0.571 -        self.update_func(f"Scraping Workday companies:\t{", ".join(self.company_urls.keys())}")
#10 0.571 +        self.update_func(f"Scraping Workday companies:\t{', '.join(self.company_urls.keys())}")
#10 0.571  
#10 0.571          for company_name, company_url in self.company_urls.items():
#10 0.571              self.driver.get(company_url)
#10 0.571 
#10 0.571 
#10 DONE 0.7s

#11 [7/8] RUN cd /repo && pytest --collect-only -q
#11 1.879 src/test_menu.py::TestManageResume::test_manage_resume
#11 1.879 tests/test_workday_scraper.py::test_job_listing_xpath_present[NVIDIA-https://nvidia.wd5.myworkdayjobs.com/NVIDIAExternalCareerSite?jobFamilyGroup=0c40f6bd1d8f10ae43ffaefd46dc7e78]
#11 1.879 tests/test_workday_scraper.py::test_job_listing_xpath_present[SALESFORCE-https://salesforce.wd12.myworkdayjobs.com/en-US/External_Career_Site/details/Lead-Marketing-Cloud-Solution-Engineer_JR268932?jobFamilyGroup=14fa3452ec7c1011f90d0002a2100000]
#11 1.879 tests/test_workday_scraper.py::test_job_listing_xpath_present[RED_HAT-https://redhat.wd5.myworkdayjobs.com/Jobs]
#11 1.879 tests/test_workday_scraper.py::test_job_listing_xpath_present[CROWDSTRIKE-https://crowdstrike.wd5.myworkdayjobs.com/crowdstrikecareers]
#11 1.879 
#11 1.879 5 tests collected in 0.92s
#11 DONE 2.2s

#12 exporting to image
#12 exporting layers
#12 exporting layers 1.1s done
#12 writing image sha256:7b909f15f33791850da351429b463e4cc8ff88c5418092c4f191bf96cf0abab6 done
#12 naming to docker.io/library/tmp:tmp done
#12 DONE 1.1s
