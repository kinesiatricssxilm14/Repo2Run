#0 building with "default" instance using docker driver

#1 [internal] load build definition from Dockerfile
#1 transferring dockerfile: 1.23kB done
#1 DONE 0.0s

#2 [internal] load metadata for docker.io/library/python:3.10
#2 DONE 0.0s

#3 [internal] load .dockerignore
#3 transferring context: 2B done
#3 DONE 0.0s

#4 [1/5] FROM docker.io/library/python:3.10
#4 DONE 0.0s

#5 [2/5] RUN mkdir -p ~/.pip && touch ~/.pip/pip.conf &&     echo "[global]" >> ~/.pip/pip.conf && echo "index-url=http://simple/" >> ~/.pip/pip.conf && echo "[install]" >> ~/.pip/pip.conf && echo "trusted-host=pypi..org" >> ~/.pip/pip.conf &&     apt-get update && apt-get install -y curl &&     curl -sSL https://install.python-poetry.org | python -
#5 CACHED

#6 [3/5] RUN pip install pytest pytest-xdist &&     pip install pipdeptree &&     git clone https://github.com/simonw/llm-claude-3.git &&     mkdir /repo &&     git config --global --add safe.directory /repo &&     cp -r /llm-claude-3/. /repo && rm -rf /llm-claude-3/ &&     rm -rf /llm-claude-3 &&     cd /repo && git checkout c62bf247fa964ff350badf5424743ddca7601d4a &&     pip install llm==0.19.1 &&     pip install anthropic==0.40.0 &&     pip install pytest==8.3.4 &&     pip install pytest-recording==0.13.2 &&     pip install pytest-asyncio==0.25.0
#6 1.678 Looking in indexes: http://simple/
#6 1.830 Collecting pytest
#6 1.848   Downloading http://packages/pytest/pytest-8.3.4-py3-none-any.whl (343 kB)
#6 1.872      ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 343.1/343.1 kB 17.9 MB/s eta 0:00:00
#6 1.955 Collecting pytest-xdist
#6 1.972   Downloading http://packages/pytest-xdist/pytest_xdist-3.6.1-py3-none-any.whl (46 kB)
#6 1.984      ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 46.1/46.1 kB 4.4 MB/s eta 0:00:00
#6 2.047 Collecting pluggy<2,>=1.5
#6 2.066   Downloading http://packages/pluggy/pluggy-1.5.0-py3-none-any.whl (20 kB)
#6 2.096 Collecting iniconfig
#6 2.114   Downloading http://packages/iniconfig/iniconfig-2.0.0-py3-none-any.whl (5.9 kB)
#6 2.176 Collecting packaging
#6 2.193   Downloading http://packages/packaging/packaging-24.2-py3-none-any.whl (65 kB)
#6 2.200      ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 65.5/65.5 kB 15.6 MB/s eta 0:00:00
#6 2.255 Collecting tomli>=1
#6 2.272   Downloading http://packages/tomli/tomli-2.2.1-py3-none-any.whl (14 kB)
#6 2.322 Collecting exceptiongroup>=1.0.0rc8
#6 2.344   Downloading http://packages/exceptiongroup/exceptiongroup-1.2.2-py3-none-any.whl (16 kB)
#6 2.402 Collecting execnet>=2.1
#6 2.420   Downloading http://packages/execnet/execnet-2.1.1-py3-none-any.whl (40 kB)
#6 2.428      ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 40.6/40.6 kB 7.7 MB/s eta 0:00:00
#6 2.564 Installing collected packages: tomli, pluggy, packaging, iniconfig, execnet, exceptiongroup, pytest, pytest-xdist
#6 3.069 Successfully installed exceptiongroup-1.2.2 execnet-2.1.1 iniconfig-2.0.0 packaging-24.2 pluggy-1.5.0 pytest-8.3.4 pytest-xdist-3.6.1 tomli-2.2.1
#6 3.069 WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv
#6 3.189 
#6 3.189 [notice] A new release of pip is available: 23.0.1 -> 24.3.1
#6 3.189 [notice] To update, run: pip install --upgrade pip
#6 3.896 Looking in indexes: http://simple/
#6 3.991 Collecting pipdeptree
#6 4.010   Downloading http://packages/pipdeptree/pipdeptree-2.24.0-py3-none-any.whl (32 kB)
#6 4.152 Collecting pip>=24.2
#6 4.163   Using cached http://packages/pip/pip-24.3.1-py3-none-any.whl (1.8 MB)
#6 4.181 Requirement already satisfied: packaging>=24.1 in /usr/local/lib/python3.10/site-packages (from pipdeptree) (24.2)
#6 4.288 Installing collected packages: pip, pipdeptree
#6 4.288   Attempting uninstall: pip
#6 4.289     Found existing installation: pip 23.0.1
#6 4.460     Uninstalling pip-23.0.1:
#6 4.643       Successfully uninstalled pip-23.0.1
#6 5.894 Successfully installed pip-24.3.1 pipdeptree-2.24.0
#6 5.895 WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv
#6 6.149 Cloning into 'llm-claude-3'...
#6 7.872 Note: switching to 'c62bf247fa964ff350badf5424743ddca7601d4a'.
#6 7.872 
#6 7.872 You are in 'detached HEAD' state. You can look around, make experimental
#6 7.872 changes and commit them, and you can discard any commits you make in this
#6 7.872 state without impacting any branches by switching back to a branch.
#6 7.872 
#6 7.872 If you want to create a new branch to retain commits you create, you may
#6 7.872 do so (now or later) by using -c with the switch command. Example:
#6 7.872 
#6 7.872   git switch -c <new-branch-name>
#6 7.872 
#6 7.872 Or undo this operation with:
#6 7.872 
#6 7.872   git switch -
#6 7.872 
#6 7.872 Turn off this advice by setting config variable advice.detachedHead to false
#6 7.872 
#6 7.872 HEAD is now at c62bf24 Release 0.10
#6 8.410 Looking in indexes: http://simple/
#6 8.459 Collecting llm==0.19.1
#6 8.480   Downloading http://packages/llm/llm-0.19.1-py3-none-any.whl (44 kB)
#6 8.546 Collecting click (from llm==0.19.1)
#6 8.564   Downloading http://packages/click/click-8.1.8-py3-none-any.whl (98 kB)
#6 8.768 Collecting openai>=1.0 (from llm==0.19.1)
#6 8.791   Downloading http://packages/openai/openai-1.59.4-py3-none-any.whl (454 kB)
#6 8.847 Collecting click-default-group>=1.2.3 (from llm==0.19.1)
#6 8.870   Downloading http://packages/click-default-group/click_default_group-1.2.4-py2.py3-none-any.whl (4.1 kB)
#6 8.946 Collecting sqlite-utils>=3.37 (from llm==0.19.1)
#6 8.971   Downloading http://packages/sqlite-utils/sqlite_utils-3.38-py3-none-any.whl (68 kB)
#6 9.083 Collecting sqlite-migrate>=0.1a2 (from llm==0.19.1)
#6 9.104   Downloading http://packages/sqlite-migrate/sqlite_migrate-0.1b0-py3-none-any.whl (10.0 kB)
#6 9.391 Collecting pydantic>=1.10.2 (from llm==0.19.1)
#6 9.411   Downloading http://packages/pydantic/pydantic-2.10.4-py3-none-any.whl (431 kB)
#6 9.535 Collecting PyYAML (from llm==0.19.1)
#6 9.556   Downloading http://packages/pyyaml/PyYAML-6.0.2-cp310-cp310-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (751 kB)
#6 9.588      ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 751.2/751.2 kB 36.2 MB/s eta 0:00:00
#6 9.594 Requirement already satisfied: pluggy in /usr/local/lib/python3.10/site-packages (from llm==0.19.1) (1.5.0)
#6 9.627 Collecting python-ulid (from llm==0.19.1)
#6 9.671   Downloading http://packages/python-ulid/python_ulid-3.0.0-py3-none-any.whl (11 kB)
#6 9.682 Requirement already satisfied: setuptools in /usr/local/lib/python3.10/site-packages (from llm==0.19.1) (65.5.1)
#6 9.683 Requirement already satisfied: pip in /usr/local/lib/python3.10/site-packages (from llm==0.19.1) (24.3.1)
#6 9.709 Collecting puremagic (from llm==0.19.1)
#6 9.904   Downloading http://packages/puremagic/puremagic-1.28-py3-none-any.whl (43 kB)
#6 9.980 Collecting anyio<5,>=3.5.0 (from openai>=1.0->llm==0.19.1)
#6 10.00   Downloading http://packages/anyio/anyio-4.8.0-py3-none-any.whl (96 kB)
#6 10.06 Collecting distro<2,>=1.7.0 (from openai>=1.0->llm==0.19.1)
#6 10.08   Downloading http://packages/distro/distro-1.9.0-py3-none-any.whl (20 kB)
#6 10.14 Collecting httpx<1,>=0.23.0 (from openai>=1.0->llm==0.19.1)
#6 10.16   Downloading http://packages/httpx/httpx-0.28.1-py3-none-any.whl (73 kB)
#6 10.31 Collecting jiter<1,>=0.4.0 (from openai>=1.0->llm==0.19.1)
#6 10.34   Downloading http://packages/jiter/jiter-0.8.2-cp310-cp310-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (345 kB)
#6 10.41 Collecting sniffio (from openai>=1.0->llm==0.19.1)
#6 10.43   Downloading http://packages/sniffio/sniffio-1.3.1-py3-none-any.whl (10 kB)
#6 10.56 Collecting tqdm>4 (from openai>=1.0->llm==0.19.1)
#6 10.58   Downloading http://packages/tqdm/tqdm-4.67.1-py3-none-any.whl (78 kB)
#6 10.65 Collecting typing-extensions<5,>=4.11 (from openai>=1.0->llm==0.19.1)
#6 10.67   Downloading http://packages/typing-extensions/typing_extensions-4.12.2-py3-none-any.whl (37 kB)
#6 10.72 Collecting annotated-types>=0.6.0 (from pydantic>=1.10.2->llm==0.19.1)
#6 10.74   Downloading http://packages/annotated-types/annotated_types-0.7.0-py3-none-any.whl (13 kB)
#6 12.17 Collecting pydantic-core==2.27.2 (from pydantic>=1.10.2->llm==0.19.1)
#6 12.19   Downloading http://packages/pydantic-core/pydantic_core-2.27.2-cp310-cp310-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (2.0 MB)
#6 12.23      ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 2.0/2.0 MB 72.8 MB/s eta 0:00:00
#6 12.27 Collecting sqlite-fts4 (from sqlite-utils>=3.37->llm==0.19.1)
#6 12.29   Downloading http://packages/sqlite-fts4/sqlite_fts4-1.0.3-py3-none-any.whl (10.0 kB)
#6 12.33 Collecting tabulate (from sqlite-utils>=3.37->llm==0.19.1)
#6 12.35   Downloading http://packages/tabulate/tabulate-0.9.0-py3-none-any.whl (35 kB)
#6 12.40 Collecting python-dateutil (from sqlite-utils>=3.37->llm==0.19.1)
#6 12.43   Downloading http://packages/python-dateutil/python_dateutil-2.9.0.post0-py2.py3-none-any.whl (229 kB)
#6 12.48 Requirement already satisfied: exceptiongroup>=1.0.2 in /usr/local/lib/python3.10/site-packages (from anyio<5,>=3.5.0->openai>=1.0->llm==0.19.1) (1.2.2)
#6 12.52 Collecting idna>=2.8 (from anyio<5,>=3.5.0->openai>=1.0->llm==0.19.1)
#6 12.52   Using cached http://packages/idna/idna-3.10-py3-none-any.whl (70 kB)
#6 12.58 Collecting certifi (from httpx<1,>=0.23.0->openai>=1.0->llm==0.19.1)
#6 12.58   Using cached http://packages/certifi/certifi-2024.12.14-py3-none-any.whl (164 kB)
#6 12.63 Collecting httpcore==1.* (from httpx<1,>=0.23.0->openai>=1.0->llm==0.19.1)
#6 12.65   Downloading http://packages/httpcore/httpcore-1.0.7-py3-none-any.whl (78 kB)
#6 12.70 Collecting h11<0.15,>=0.13 (from httpcore==1.*->httpx<1,>=0.23.0->openai>=1.0->llm==0.19.1)
#6 12.72   Downloading http://packages/h11/h11-0.14.0-py3-none-any.whl (58 kB)
#6 12.78 Collecting six>=1.5 (from python-dateutil->sqlite-utils>=3.37->llm==0.19.1)
#6 12.80   Downloading http://packages/six/six-1.17.0-py2.py3-none-any.whl (11 kB)
#6 12.91 Installing collected packages: sqlite-fts4, puremagic, typing-extensions, tqdm, tabulate, sniffio, six, PyYAML, python-ulid, jiter, idna, h11, distro, click, certifi, annotated-types, python-dateutil, pydantic-core, httpcore, click-default-group, anyio, sqlite-utils, pydantic, httpx, sqlite-migrate, openai, llm
#6 14.98 Successfully installed PyYAML-6.0.2 annotated-types-0.7.0 anyio-4.8.0 certifi-2024.12.14 click-8.1.8 click-default-group-1.2.4 distro-1.9.0 h11-0.14.0 httpcore-1.0.7 httpx-0.28.1 idna-3.10 jiter-0.8.2 llm-0.19.1 openai-1.59.4 puremagic-1.28 pydantic-2.10.4 pydantic-core-2.27.2 python-dateutil-2.9.0.post0 python-ulid-3.0.0 six-1.17.0 sniffio-1.3.1 sqlite-fts4-1.0.3 sqlite-migrate-0.1b0 sqlite-utils-3.38 tabulate-0.9.0 tqdm-4.67.1 typing-extensions-4.12.2
#6 14.98 WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager, possibly rendering your system unusable.It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv. Use the --root-user-action option if you know what you are doing and want to suppress this warning.
#6 16.04 Looking in indexes: http://simple/
#6 16.13 Collecting anthropic==0.40.0
#6 16.15   Downloading http://packages/anthropic/anthropic-0.40.0-py3-none-any.whl (199 kB)
#6 16.19 Requirement already satisfied: anyio<5,>=3.5.0 in /usr/local/lib/python3.10/site-packages (from anthropic==0.40.0) (4.8.0)
#6 16.19 Requirement already satisfied: distro<2,>=1.7.0 in /usr/local/lib/python3.10/site-packages (from anthropic==0.40.0) (1.9.0)
#6 16.19 Requirement already satisfied: httpx<1,>=0.23.0 in /usr/local/lib/python3.10/site-packages (from anthropic==0.40.0) (0.28.1)
#6 16.19 Requirement already satisfied: jiter<1,>=0.4.0 in /usr/local/lib/python3.10/site-packages (from anthropic==0.40.0) (0.8.2)
#6 16.19 Requirement already satisfied: pydantic<3,>=1.9.0 in /usr/local/lib/python3.10/site-packages (from anthropic==0.40.0) (2.10.4)
#6 16.19 Requirement already satisfied: sniffio in /usr/local/lib/python3.10/site-packages (from anthropic==0.40.0) (1.3.1)
#6 16.19 Requirement already satisfied: typing-extensions<5,>=4.7 in /usr/local/lib/python3.10/site-packages (from anthropic==0.40.0) (4.12.2)
#6 16.20 Requirement already satisfied: exceptiongroup>=1.0.2 in /usr/local/lib/python3.10/site-packages (from anyio<5,>=3.5.0->anthropic==0.40.0) (1.2.2)
#6 16.20 Requirement already satisfied: idna>=2.8 in /usr/local/lib/python3.10/site-packages (from anyio<5,>=3.5.0->anthropic==0.40.0) (3.10)
#6 16.20 Requirement already satisfied: certifi in /usr/local/lib/python3.10/site-packages (from httpx<1,>=0.23.0->anthropic==0.40.0) (2024.12.14)
#6 16.21 Requirement already satisfied: httpcore==1.* in /usr/local/lib/python3.10/site-packages (from httpx<1,>=0.23.0->anthropic==0.40.0) (1.0.7)
#6 16.21 Requirement already satisfied: h11<0.15,>=0.13 in /usr/local/lib/python3.10/site-packages (from httpcore==1.*->httpx<1,>=0.23.0->anthropic==0.40.0) (0.14.0)
#6 16.21 Requirement already satisfied: annotated-types>=0.6.0 in /usr/local/lib/python3.10/site-packages (from pydantic<3,>=1.9.0->anthropic==0.40.0) (0.7.0)
#6 16.22 Requirement already satisfied: pydantic-core==2.27.2 in /usr/local/lib/python3.10/site-packages (from pydantic<3,>=1.9.0->anthropic==0.40.0) (2.27.2)
#6 16.31 Installing collected packages: anthropic
#6 16.52 Successfully installed anthropic-0.40.0
#6 16.52 WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager, possibly rendering your system unusable.It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv. Use the --root-user-action option if you know what you are doing and want to suppress this warning.
#6 17.23 Looking in indexes: http://simple/
#6 17.23 Requirement already satisfied: pytest==8.3.4 in /usr/local/lib/python3.10/site-packages (8.3.4)
#6 17.23 Requirement already satisfied: exceptiongroup>=1.0.0rc8 in /usr/local/lib/python3.10/site-packages (from pytest==8.3.4) (1.2.2)
#6 17.23 Requirement already satisfied: iniconfig in /usr/local/lib/python3.10/site-packages (from pytest==8.3.4) (2.0.0)
#6 17.23 Requirement already satisfied: packaging in /usr/local/lib/python3.10/site-packages (from pytest==8.3.4) (24.2)
#6 17.23 Requirement already satisfied: pluggy<2,>=1.5 in /usr/local/lib/python3.10/site-packages (from pytest==8.3.4) (1.5.0)
#6 17.24 Requirement already satisfied: tomli>=1 in /usr/local/lib/python3.10/site-packages (from pytest==8.3.4) (2.2.1)
#6 17.31 WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager, possibly rendering your system unusable.It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv. Use the --root-user-action option if you know what you are doing and want to suppress this warning.
#6 18.03 Looking in indexes: http://simple/
#6 18.13 Collecting pytest-recording==0.13.2
#6 18.23   Downloading http://packages/pytest-recording/pytest_recording-0.13.2-py3-none-any.whl (12 kB)
#6 18.24 Requirement already satisfied: pytest>=3.5.0 in /usr/local/lib/python3.10/site-packages (from pytest-recording==0.13.2) (8.3.4)
#6 18.37 Collecting vcrpy>=2.0.1 (from pytest-recording==0.13.2)
#6 18.39   Downloading http://packages/vcrpy/vcrpy-7.0.0-py2.py3-none-any.whl (42 kB)
#6 18.41 Requirement already satisfied: exceptiongroup>=1.0.0rc8 in /usr/local/lib/python3.10/site-packages (from pytest>=3.5.0->pytest-recording==0.13.2) (1.2.2)
#6 18.41 Requirement already satisfied: iniconfig in /usr/local/lib/python3.10/site-packages (from pytest>=3.5.0->pytest-recording==0.13.2) (2.0.0)
#6 18.41 Requirement already satisfied: packaging in /usr/local/lib/python3.10/site-packages (from pytest>=3.5.0->pytest-recording==0.13.2) (24.2)
#6 18.41 Requirement already satisfied: pluggy<2,>=1.5 in /usr/local/lib/python3.10/site-packages (from pytest>=3.5.0->pytest-recording==0.13.2) (1.5.0)
#6 18.42 Requirement already satisfied: tomli>=1 in /usr/local/lib/python3.10/site-packages (from pytest>=3.5.0->pytest-recording==0.13.2) (2.2.1)
#6 18.42 Requirement already satisfied: PyYAML in /usr/local/lib/python3.10/site-packages (from vcrpy>=2.0.1->pytest-recording==0.13.2) (6.0.2)
#6 18.65 Collecting wrapt (from vcrpy>=2.0.1->pytest-recording==0.13.2)
#6 18.67   Downloading http://packages/wrapt/wrapt-1.17.0-cp310-cp310-manylinux_2_5_x86_64.manylinux1_x86_64.manylinux_2_17_x86_64.manylinux2014_x86_64.whl (82 kB)
#6 19.24 Collecting yarl (from vcrpy>=2.0.1->pytest-recording==0.13.2)
#6 19.26   Downloading http://packages/yarl/yarl-1.18.3-cp310-cp310-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (319 kB)
#6 19.37 Collecting urllib3 (from vcrpy>=2.0.1->pytest-recording==0.13.2)
#6 19.37   Using cached http://packages/urllib3/urllib3-2.3.0-py3-none-any.whl (128 kB)
#6 19.39 Requirement already satisfied: idna>=2.0 in /usr/local/lib/python3.10/site-packages (from yarl->vcrpy>=2.0.1->pytest-recording==0.13.2) (3.10)
#6 19.77 Collecting multidict>=4.0 (from yarl->vcrpy>=2.0.1->pytest-recording==0.13.2)
#6 19.79   Downloading http://packages/multidict/multidict-6.1.0-cp310-cp310-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (124 kB)
#6 19.89 Collecting propcache>=0.2.0 (from yarl->vcrpy>=2.0.1->pytest-recording==0.13.2)
#6 19.91   Downloading http://packages/propcache/propcache-0.2.1-cp310-cp310-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (205 kB)
#6 19.94 Requirement already satisfied: typing-extensions>=4.1.0 in /usr/local/lib/python3.10/site-packages (from multidict>=4.0->yarl->vcrpy>=2.0.1->pytest-recording==0.13.2) (4.12.2)
#6 20.05 Installing collected packages: wrapt, urllib3, propcache, multidict, yarl, vcrpy, pytest-recording
#6 20.33 Successfully installed multidict-6.1.0 propcache-0.2.1 pytest-recording-0.13.2 urllib3-2.3.0 vcrpy-7.0.0 wrapt-1.17.0 yarl-1.18.3
#6 20.33 WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager, possibly rendering your system unusable.It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv. Use the --root-user-action option if you know what you are doing and want to suppress this warning.
#6 21.36 Looking in indexes: http://simple/
#6 21.42 Collecting pytest-asyncio==0.25.0
#6 21.44   Downloading http://packages/pytest-asyncio/pytest_asyncio-0.25.0-py3-none-any.whl (19 kB)
#6 21.45 Requirement already satisfied: pytest<9,>=8.2 in /usr/local/lib/python3.10/site-packages (from pytest-asyncio==0.25.0) (8.3.4)
#6 21.46 Requirement already satisfied: exceptiongroup>=1.0.0rc8 in /usr/local/lib/python3.10/site-packages (from pytest<9,>=8.2->pytest-asyncio==0.25.0) (1.2.2)
#6 21.46 Requirement already satisfied: iniconfig in /usr/local/lib/python3.10/site-packages (from pytest<9,>=8.2->pytest-asyncio==0.25.0) (2.0.0)
#6 21.46 Requirement already satisfied: packaging in /usr/local/lib/python3.10/site-packages (from pytest<9,>=8.2->pytest-asyncio==0.25.0) (24.2)
#6 21.46 Requirement already satisfied: pluggy<2,>=1.5 in /usr/local/lib/python3.10/site-packages (from pytest<9,>=8.2->pytest-asyncio==0.25.0) (1.5.0)
#6 21.46 Requirement already satisfied: tomli>=1 in /usr/local/lib/python3.10/site-packages (from pytest<9,>=8.2->pytest-asyncio==0.25.0) (2.2.1)
#6 21.59 Installing collected packages: pytest-asyncio
#6 21.62 Successfully installed pytest-asyncio-0.25.0
#6 21.62 WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager, possibly rendering your system unusable.It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv. Use the --root-user-action option if you know what you are doing and want to suppress this warning.
#6 DONE 22.0s

#7 [4/5] RUN cd /repo && pytest --collect-only -q
#7 1.042 /usr/local/lib/python3.10/site-packages/pytest_asyncio/plugin.py:207: PytestDeprecationWarning: The configuration option "asyncio_default_fixture_loop_scope" is unset.
#7 1.042 The event loop scope for asynchronous fixtures will default to the fixture caching scope. Future versions of pytest-asyncio will default the loop scope for asynchronous fixtures to function scope. Set the default fixture loop scope explicitly in order to avoid unexpected behavior in the future. Valid fixture loop scopes are: "function", "class", "module", "package", "session"
#7 1.042 
#7 1.042   warnings.warn(PytestDeprecationWarning(_DEFAULT_FIXTURE_LOOP_SCOPE_UNSET))
#7 1.357 tests/test_claude_3.py::test_prompt
#7 1.357 tests/test_claude_3.py::test_async_prompt
#7 1.357 tests/test_claude_3.py::test_image_prompt
#7 1.357 
#7 1.357 =============================== warnings summary ===============================
#7 1.357 ../usr/local/lib/python3.10/site-packages/pydantic/_internal/_config.py:295
#7 1.357 ../usr/local/lib/python3.10/site-packages/pydantic/_internal/_config.py:295
#7 1.357   /usr/local/lib/python3.10/site-packages/pydantic/_internal/_config.py:295: PydanticDeprecatedSince20: Support for class-based `config` is deprecated, use ConfigDict instead. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.10/migration/
#7 1.357     warnings.warn(DEPRECATION_MESSAGE, DeprecationWarning)
#7 1.357 
#7 1.357 -- Docs: https://docs.pytest.org/en/stable/how-to/capture-warnings.html
#7 1.357 3 tests collected in 0.28s
#7 DONE 1.6s

#8 exporting to image
#8 exporting layers
#8 exporting layers 0.7s done
#8 writing image sha256:e3b5a3437166507b4c6cdd08bfaaacd445a273a9debccc06f9f6d93600966810 done
#8 naming to docker.io/library/tmp:tmp done
#8 DONE 0.7s
