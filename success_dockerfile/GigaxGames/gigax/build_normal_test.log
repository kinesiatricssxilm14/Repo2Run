#0 building with "default" instance using docker driver

#1 [internal] load build definition from Dockerfile
#1 transferring dockerfile: 1.24kB done
#1 DONE 0.0s

#2 [internal] load metadata for docker.io/library/python:3.10
#2 DONE 0.0s

#3 [internal] load .dockerignore
#3 transferring context: 2B done
#3 DONE 0.0s

#4 [internal] load build context
#4 transferring context: 23.94kB done
#4 DONE 0.0s

#5 [1/7] FROM docker.io/library/python:3.10
#5 CACHED

#6 [2/7] COPY search_patch /search_patch
#6 DONE 0.0s

#7 [3/7] COPY code_edit.py /code_edit.py
#7 DONE 0.0s

#8 [4/7] RUN mkdir -p ~/.pip && touch ~/.pip/pip.conf &&     echo "[global]" >> ~/.pip/pip.conf && echo "index-url=http://simple/" >> ~/.pip/pip.conf && echo "[install]" >> ~/.pip/pip.conf && echo "trusted-host=pypi..org" >> ~/.pip/pip.conf &&     apt-get update && apt-get install -y curl &&     curl -sSL https://install.python-poetry.org | python -
#8 0.537 Get:1 http://deb.debian.org/debian bookworm InRelease [151 kB]
#8 0.954 Get:2 http://deb.debian.org/debian bookworm-updates InRelease [55.4 kB]
#8 1.047 Get:3 http://deb.debian.org/debian-security bookworm-security InRelease [48.0 kB]
#8 1.196 Get:4 http://deb.debian.org/debian bookworm/main amd64 Packages [8789 kB]
#8 1.794 Get:5 http://deb.debian.org/debian bookworm-updates/main amd64 Packages [8856 B]
#8 1.938 Get:6 http://deb.debian.org/debian-security bookworm-security/main amd64 Packages [240 kB]
#8 3.143 Fetched 9292 kB in 3s (3360 kB/s)
#8 3.143 Reading package lists...
#8 3.932 Reading package lists...
#8 4.761 Building dependency tree...
#8 5.017 Reading state information...
#8 5.437 curl is already the newest version (7.88.1-10+deb12u8).
#8 5.437 0 upgraded, 0 newly installed, 0 to remove and 0 not upgraded.
#8 26.35 Retrieving Poetry metadata
#8 26.35 
#8 26.35 # Welcome to Poetry!
#8 26.35 
#8 26.35 This will download and install the latest version of Poetry,
#8 26.35 a dependency and package manager for Python.
#8 26.35 
#8 26.35 It will add the `poetry` command to Poetry's bin directory, located at:
#8 26.35 
#8 26.35 /root/.local/bin
#8 26.35 
#8 26.35 You can uninstall at any time by executing this script with the --uninstall option,
#8 26.35 and these changes will be reverted.
#8 26.35 
#8 26.35 Installing Poetry (2.0.0)
#8 26.35 Installing Poetry (2.0.0): Creating environment
#8 26.35 Installing Poetry (2.0.0): Installing Poetry
#8 26.35 Installing Poetry (2.0.0): Creating script
#8 26.35 Installing Poetry (2.0.0): Done
#8 26.35 
#8 26.35 Poetry (2.0.0) is installed now. Great!
#8 26.35 
#8 26.35 To get started you need Poetry's bin directory (/root/.local/bin) in your `PATH`
#8 26.35 environment variable.
#8 26.35 
#8 26.35 Add `export PATH="/root/.local/bin:$PATH"` to your shell configuration file.
#8 26.35 
#8 26.35 Alternatively, you can call Poetry explicitly with `/root/.local/bin/poetry`.
#8 26.35 
#8 26.35 You can test that everything is set up by executing:
#8 26.35 
#8 26.35 `poetry --version`
#8 26.35 
#8 DONE 26.6s

#9 [5/7] RUN pip install pytest pytest-xdist &&     pip install pipdeptree &&     git clone https://github.com/GigaxGames/gigax.git &&     mkdir /repo &&     git config --global --add safe.directory /repo &&     cp -r /gigax/. /repo && rm -rf /gigax/ &&     rm -rf /gigax &&     cd /repo && git checkout c3c209de6290f9f3f2f9395625bb2e8094122531 &&     pip install -e /repo &&     pip install python-dotenv==1.0.1 &&     pip install pytest-asyncio==0.25.0 &&     python /code_edit.py -t "/search_patch/0.patch"
#9 1.939 Looking in indexes: http://simple/
#9 2.096 Collecting pytest
#9 2.114   Downloading http://packages/pytest/pytest-8.3.4-py3-none-any.whl (343 kB)
#9 2.139      ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 343.1/343.1 kB 17.3 MB/s eta 0:00:00
#9 2.210 Collecting pytest-xdist
#9 2.239   Downloading http://packages/pytest-xdist/pytest_xdist-3.6.1-py3-none-any.whl (46 kB)
#9 2.250      ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 46.1/46.1 kB 4.8 MB/s eta 0:00:00
#9 2.313 Collecting pluggy<2,>=1.5
#9 2.335   Downloading http://packages/pluggy/pluggy-1.5.0-py3-none-any.whl (20 kB)
#9 2.404 Collecting packaging
#9 2.423   Downloading http://packages/packaging/packaging-24.2-py3-none-any.whl (65 kB)
#9 2.434      ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 65.5/65.5 kB 7.4 MB/s eta 0:00:00
#9 2.476 Collecting exceptiongroup>=1.0.0rc8
#9 2.494   Downloading http://packages/exceptiongroup/exceptiongroup-1.2.2-py3-none-any.whl (16 kB)
#9 2.554 Collecting tomli>=1
#9 2.571   Downloading http://packages/tomli/tomli-2.2.1-py3-none-any.whl (14 kB)
#9 2.603 Collecting iniconfig
#9 2.622   Downloading http://packages/iniconfig/iniconfig-2.0.0-py3-none-any.whl (5.9 kB)
#9 2.672 Collecting execnet>=2.1
#9 2.690   Downloading http://packages/execnet/execnet-2.1.1-py3-none-any.whl (40 kB)
#9 2.701      ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 40.6/40.6 kB 4.3 MB/s eta 0:00:00
#9 2.840 Installing collected packages: tomli, pluggy, packaging, iniconfig, execnet, exceptiongroup, pytest, pytest-xdist
#9 3.345 Successfully installed exceptiongroup-1.2.2 execnet-2.1.1 iniconfig-2.0.0 packaging-24.2 pluggy-1.5.0 pytest-8.3.4 pytest-xdist-3.6.1 tomli-2.2.1
#9 3.345 WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv
#9 3.466 
#9 3.466 [notice] A new release of pip is available: 23.0.1 -> 24.3.1
#9 3.466 [notice] To update, run: pip install --upgrade pip
#9 4.132 Looking in indexes: http://simple/
#9 4.219 Collecting pipdeptree
#9 4.244   Downloading http://packages/pipdeptree/pipdeptree-2.24.0-py3-none-any.whl (32 kB)
#9 4.269 Requirement already satisfied: packaging>=24.1 in /usr/local/lib/python3.10/site-packages (from pipdeptree) (24.2)
#9 4.387 Collecting pip>=24.2
#9 4.400   Using cached http://packages/pip/pip-24.3.1-py3-none-any.whl (1.8 MB)
#9 4.531 Installing collected packages: pip, pipdeptree
#9 4.531   Attempting uninstall: pip
#9 4.533     Found existing installation: pip 23.0.1
#9 4.701     Uninstalling pip-23.0.1:
#9 4.871       Successfully uninstalled pip-23.0.1
#9 6.288 Successfully installed pip-24.3.1 pipdeptree-2.24.0
#9 6.289 WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv
#9 6.522 Cloning into 'gigax'...
#9 8.385 Note: switching to 'c3c209de6290f9f3f2f9395625bb2e8094122531'.
#9 8.385 
#9 8.385 You are in 'detached HEAD' state. You can look around, make experimental
#9 8.385 changes and commit them, and you can discard any commits you make in this
#9 8.385 state without impacting any branches by switching back to a branch.
#9 8.385 
#9 8.385 If you want to create a new branch to retain commits you create, you may
#9 8.385 do so (now or later) by using -c with the switch command. Example:
#9 8.385 
#9 8.385   git switch -c <new-branch-name>
#9 8.385 
#9 8.385 Or undo this operation with:
#9 8.385 
#9 8.385   git switch -
#9 8.385 
#9 8.385 Turn off this advice by setting config variable advice.detachedHead to false
#9 8.385 
#9 8.385 HEAD is now at c3c209d [Core] Make `NPCStepper.generate_local()` sync in local mode (#9)
#9 8.930 Looking in indexes: http://simple/
#9 8.930 Obtaining file:///repo
#9 8.932   Preparing metadata (setup.py): started
#9 9.685   Preparing metadata (setup.py): finished with status 'done'
#9 9.748 Collecting outlines (from gigax==0.1)
#9 9.766   Downloading http://packages/outlines/outlines-0.1.11-py3-none-any.whl (87 kB)
#9 10.08 Collecting pydantic (from gigax==0.1)
#9 10.11   Downloading http://packages/pydantic/pydantic-2.10.4-py3-none-any.whl (431 kB)
#9 10.27 Collecting openai (from gigax==0.1)
#9 10.28   Downloading http://packages/openai/openai-1.59.4-py3-none-any.whl (454 kB)
#9 10.42 Collecting transformers (from gigax==0.1)
#9 10.44   Downloading http://packages/transformers/transformers-4.47.1-py3-none-any.whl (10.1 MB)
#9 10.52      ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 10.1/10.1 MB 161.0 MB/s eta 0:00:00
#9 10.91 Collecting llama-cpp-python (from gigax==0.1)
#9 10.94   Downloading http://packages/llama-cpp-python/llama_cpp_python-0.3.5.tar.gz (64.5 MB)
#9 11.49      ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 64.5/64.5 MB 121.2 MB/s eta 0:00:00
#9 13.40   Installing build dependencies: started
#9 14.78   Installing build dependencies: finished with status 'done'
#9 14.79   Getting requirements to build wheel: started
#9 14.98   Getting requirements to build wheel: finished with status 'done'
#9 14.99   Installing backend dependencies: started
#9 17.97   Installing backend dependencies: finished with status 'done'
#9 17.98   Preparing metadata (pyproject.toml): started
#9 18.50   Preparing metadata (pyproject.toml): finished with status 'done'
#9 18.59 Collecting typing-extensions>=4.5.0 (from llama-cpp-python->gigax==0.1)
#9 18.61   Downloading http://packages/typing-extensions/typing_extensions-4.12.2-py3-none-any.whl (37 kB)
#9 19.17 Collecting numpy>=1.20.0 (from llama-cpp-python->gigax==0.1)
#9 19.19   Downloading http://packages/numpy/numpy-2.2.1-cp310-cp310-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (16.4 MB)
#9 19.32      ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 16.4/16.4 MB 147.7 MB/s eta 0:00:00
#9 19.45 Collecting diskcache>=5.6.1 (from llama-cpp-python->gigax==0.1)
#9 19.47   Downloading http://packages/diskcache/diskcache-5.6.3-py3-none-any.whl (45 kB)
#9 19.53 Collecting jinja2>=2.11.3 (from llama-cpp-python->gigax==0.1)
#9 19.56   Downloading http://packages/jinja2/jinja2-3.1.5-py3-none-any.whl (134 kB)
#9 19.64 Collecting anyio<5,>=3.5.0 (from openai->gigax==0.1)
#9 19.66   Downloading http://packages/anyio/anyio-4.8.0-py3-none-any.whl (96 kB)
#9 19.70 Collecting distro<2,>=1.7.0 (from openai->gigax==0.1)
#9 19.73   Downloading http://packages/distro/distro-1.9.0-py3-none-any.whl (20 kB)
#9 19.80 Collecting httpx<1,>=0.23.0 (from openai->gigax==0.1)
#9 19.81   Downloading http://packages/httpx/httpx-0.28.1-py3-none-any.whl (73 kB)
#9 19.96 Collecting jiter<1,>=0.4.0 (from openai->gigax==0.1)
#9 19.99   Downloading http://packages/jiter/jiter-0.8.2-cp310-cp310-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (345 kB)
#9 20.07 Collecting sniffio (from openai->gigax==0.1)
#9 20.09   Downloading http://packages/sniffio/sniffio-1.3.1-py3-none-any.whl (10 kB)
#9 20.20 Collecting tqdm>4 (from openai->gigax==0.1)
#9 20.23   Downloading http://packages/tqdm/tqdm-4.67.1-py3-none-any.whl (78 kB)
#9 20.27 Collecting annotated-types>=0.6.0 (from pydantic->gigax==0.1)
#9 20.29   Downloading http://packages/annotated-types/annotated_types-0.7.0-py3-none-any.whl (13 kB)
#9 21.63 Collecting pydantic-core==2.27.2 (from pydantic->gigax==0.1)
#9 21.65   Downloading http://packages/pydantic-core/pydantic_core-2.27.2-cp310-cp310-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (2.0 MB)
#9 21.70      ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 2.0/2.0 MB 57.6 MB/s eta 0:00:00
#9 21.76 Collecting interegular (from outlines->gigax==0.1)
#9 21.78   Downloading http://packages/interegular/interegular-0.3.3-py37-none-any.whl (23 kB)
#9 21.82 Collecting lark (from outlines->gigax==0.1)
#9 21.84   Downloading http://packages/lark/lark-1.2.2-py3-none-any.whl (111 kB)
#9 21.89 Collecting nest_asyncio (from outlines->gigax==0.1)
#9 21.91   Downloading http://packages/nest-asyncio/nest_asyncio-1.6.0-py3-none-any.whl (5.2 kB)
#9 21.95 Collecting cloudpickle (from outlines->gigax==0.1)
#9 21.97   Downloading http://packages/cloudpickle/cloudpickle-3.1.0-py3-none-any.whl (22 kB)
#9 22.16 Collecting referencing (from outlines->gigax==0.1)
#9 22.18   Downloading http://packages/referencing/referencing-0.35.1-py3-none-any.whl (26 kB)
#9 22.25 Collecting jsonschema (from outlines->gigax==0.1)
#9 22.27   Downloading http://packages/jsonschema/jsonschema-4.23.0-py3-none-any.whl (88 kB)
#9 22.36 Collecting requests (from outlines->gigax==0.1)
#9 22.36   Using cached http://packages/requests/requests-2.32.3-py3-none-any.whl (64 kB)
#9 22.40 Collecting pycountry (from outlines->gigax==0.1)
#9 22.42   Downloading http://packages/pycountry/pycountry-24.6.1-py3-none-any.whl (6.3 MB)
#9 22.49      ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 6.3/6.3 MB 121.0 MB/s eta 0:00:00
#9 22.57 Collecting airportsdata (from outlines->gigax==0.1)
#9 22.59   Downloading http://packages/airportsdata/airportsdata-20241001-py3-none-any.whl (912 kB)
#9 22.62      ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 912.7/912.7 kB 38.7 MB/s eta 0:00:00
#9 22.73 Collecting torch (from outlines->gigax==0.1)
#9 22.75   Downloading http://packages/torch/torch-2.5.1-cp310-cp310-manylinux1_x86_64.whl (906.4 MB)
#9 31.84      ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 906.4/906.4 MB 41.7 MB/s eta 0:00:00
#9 34.90 Collecting outlines_core==0.1.26 (from outlines->gigax==0.1)
#9 34.92   Downloading http://packages/outlines-core/outlines_core-0.1.26-cp310-cp310-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (343 kB)
#9 35.00 Collecting filelock (from transformers->gigax==0.1)
#9 35.01   Using cached http://packages/filelock/filelock-3.16.1-py3-none-any.whl (16 kB)
#9 35.11 Collecting huggingface-hub<1.0,>=0.24.0 (from transformers->gigax==0.1)
#9 35.13   Downloading http://packages/huggingface-hub/huggingface_hub-0.27.1-py3-none-any.whl (450 kB)
#9 35.21 Requirement already satisfied: packaging>=20.0 in /usr/local/lib/python3.10/site-packages (from transformers->gigax==0.1) (24.2)
#9 35.30 Collecting pyyaml>=5.1 (from transformers->gigax==0.1)
#9 35.33   Downloading http://packages/pyyaml/PyYAML-6.0.2-cp310-cp310-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (751 kB)
#9 35.35      ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 751.2/751.2 kB 39.4 MB/s eta 0:00:00
#9 36.24 Collecting regex!=2019.12.17 (from transformers->gigax==0.1)
#9 36.26   Downloading http://packages/regex/regex-2024.11.6-cp310-cp310-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (781 kB)
#9 36.29      ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 781.7/781.7 kB 40.1 MB/s eta 0:00:00
#9 36.67 Collecting tokenizers<0.22,>=0.21 (from transformers->gigax==0.1)
#9 36.68   Downloading http://packages/tokenizers/tokenizers-0.21.0-cp39-abi3-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (3.0 MB)
#9 36.73      ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 3.0/3.0 MB 98.4 MB/s eta 0:00:00
#9 37.02 Collecting safetensors>=0.4.1 (from transformers->gigax==0.1)
#9 37.03   Downloading http://packages/safetensors/safetensors-0.5.1-cp38-abi3-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (461 kB)
#9 37.10 Requirement already satisfied: exceptiongroup>=1.0.2 in /usr/local/lib/python3.10/site-packages (from anyio<5,>=3.5.0->openai->gigax==0.1) (1.2.2)
#9 37.14 Collecting idna>=2.8 (from anyio<5,>=3.5.0->openai->gigax==0.1)
#9 37.14   Using cached http://packages/idna/idna-3.10-py3-none-any.whl (70 kB)
#9 37.19 Collecting certifi (from httpx<1,>=0.23.0->openai->gigax==0.1)
#9 37.20   Using cached http://packages/certifi/certifi-2024.12.14-py3-none-any.whl (164 kB)
#9 37.25 Collecting httpcore==1.* (from httpx<1,>=0.23.0->openai->gigax==0.1)
#9 37.27   Downloading http://packages/httpcore/httpcore-1.0.7-py3-none-any.whl (78 kB)
#9 37.31 Collecting h11<0.15,>=0.13 (from httpcore==1.*->httpx<1,>=0.23.0->openai->gigax==0.1)
#9 37.32   Downloading http://packages/h11/h11-0.14.0-py3-none-any.whl (58 kB)
#9 37.40 Collecting fsspec>=2023.5.0 (from huggingface-hub<1.0,>=0.24.0->transformers->gigax==0.1)
#9 37.42   Downloading http://packages/fsspec/fsspec-2024.12.0-py3-none-any.whl (183 kB)
#9 37.65 Collecting MarkupSafe>=2.0 (from jinja2>=2.11.3->llama-cpp-python->gigax==0.1)
#9 37.67   Downloading http://packages/markupsafe/MarkupSafe-3.0.2-cp310-cp310-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (20 kB)
#9 37.76 Collecting attrs>=22.2.0 (from jsonschema->outlines->gigax==0.1)
#9 37.78   Downloading http://packages/attrs/attrs-24.3.0-py3-none-any.whl (63 kB)
#9 37.84 Collecting jsonschema-specifications>=2023.03.6 (from jsonschema->outlines->gigax==0.1)
#9 37.85   Downloading http://packages/jsonschema-specifications/jsonschema_specifications-2024.10.1-py3-none-any.whl (18 kB)
#9 38.52 Collecting rpds-py>=0.7.1 (from jsonschema->outlines->gigax==0.1)
#9 38.54   Downloading http://packages/rpds-py/rpds_py-0.22.3-cp310-cp310-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (381 kB)
#9 38.77 Collecting charset-normalizer<4,>=2 (from requests->outlines->gigax==0.1)
#9 38.77   Using cached http://packages/charset-normalizer/charset_normalizer-3.4.1-cp310-cp310-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (146 kB)
#9 38.86 Collecting urllib3<3,>=1.21.1 (from requests->outlines->gigax==0.1)
#9 38.87   Using cached http://packages/urllib3/urllib3-2.3.0-py3-none-any.whl (128 kB)
#9 38.96 Collecting networkx (from torch->outlines->gigax==0.1)
#9 38.98   Downloading http://packages/networkx/networkx-3.4.2-py3-none-any.whl (1.7 MB)
#9 39.02      ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 1.7/1.7 MB 62.8 MB/s eta 0:00:00
#9 39.06 Collecting nvidia-cuda-nvrtc-cu12==12.4.127 (from torch->outlines->gigax==0.1)
#9 39.09   Downloading http://packages/nvidia-cuda-nvrtc-cu12/nvidia_cuda_nvrtc_cu12-12.4.127-py3-none-manylinux2014_x86_64.whl (24.6 MB)
#9 39.24      ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 24.6/24.6 MB 179.6 MB/s eta 0:00:00
#9 39.37 Collecting nvidia-cuda-runtime-cu12==12.4.127 (from torch->outlines->gigax==0.1)
#9 39.39   Downloading http://packages/nvidia-cuda-runtime-cu12/nvidia_cuda_runtime_cu12-12.4.127-py3-none-manylinux2014_x86_64.whl (883 kB)
#9 39.42      ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 883.7/883.7 kB 37.4 MB/s eta 0:00:00
#9 39.45 Collecting nvidia-cuda-cupti-cu12==12.4.127 (from torch->outlines->gigax==0.1)
#9 39.47   Downloading http://packages/nvidia-cuda-cupti-cu12/nvidia_cuda_cupti_cu12-12.4.127-py3-none-manylinux2014_x86_64.whl (13.8 MB)
#9 39.58      ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 13.8/13.8 MB 148.0 MB/s eta 0:00:00
#9 39.66 Collecting nvidia-cudnn-cu12==9.1.0.70 (from torch->outlines->gigax==0.1)
#9 39.68   Downloading http://packages/nvidia-cudnn-cu12/nvidia_cudnn_cu12-9.1.0.70-py3-none-manylinux2014_x86_64.whl (664.8 MB)
#9 45.00      ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 664.8/664.8 MB 63.0 MB/s eta 0:00:00
#9 47.18 Collecting nvidia-cublas-cu12==12.4.5.8 (from torch->outlines->gigax==0.1)
#9 47.20   Downloading http://packages/nvidia-cublas-cu12/nvidia_cublas_cu12-12.4.5.8-py3-none-manylinux2014_x86_64.whl (363.4 MB)
#9 49.57      ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 363.4/363.4 MB 124.4 MB/s eta 0:00:00
#9 50.85 Collecting nvidia-cufft-cu12==11.2.1.3 (from torch->outlines->gigax==0.1)
#9 50.87   Downloading http://packages/nvidia-cufft-cu12/nvidia_cufft_cu12-11.2.1.3-py3-none-manylinux2014_x86_64.whl (211.5 MB)
#9 51.94      ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 211.5/211.5 MB 199.9 MB/s eta 0:00:00
#9 52.64 Collecting nvidia-curand-cu12==10.3.5.147 (from torch->outlines->gigax==0.1)
#9 52.66   Downloading http://packages/nvidia-curand-cu12/nvidia_curand_cu12-10.3.5.147-py3-none-manylinux2014_x86_64.whl (56.3 MB)
#9 52.99      ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 56.3/56.3 MB 179.5 MB/s eta 0:00:00
#9 53.20 Collecting nvidia-cusolver-cu12==11.6.1.9 (from torch->outlines->gigax==0.1)
#9 53.22   Downloading http://packages/nvidia-cusolver-cu12/nvidia_cusolver_cu12-11.6.1.9-py3-none-manylinux2014_x86_64.whl (127.9 MB)
#9 54.07      ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 127.9/127.9 MB 152.7 MB/s eta 0:00:00
#9 54.53 Collecting nvidia-cusparse-cu12==12.3.1.170 (from torch->outlines->gigax==0.1)
#9 54.55   Downloading http://packages/nvidia-cusparse-cu12/nvidia_cusparse_cu12-12.3.1.170-py3-none-manylinux2014_x86_64.whl (207.5 MB)
#9 56.09      ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 207.5/207.5 MB 136.1 MB/s eta 0:00:00
#9 56.79 Collecting nvidia-nccl-cu12==2.21.5 (from torch->outlines->gigax==0.1)
#9 56.80   Downloading http://packages/nvidia-nccl-cu12/nvidia_nccl_cu12-2.21.5-py3-none-manylinux2014_x86_64.whl (188.7 MB)
#9 61.19      ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 188.7/188.7 MB 43.1 MB/s eta 0:00:00
#9 61.84 Collecting nvidia-nvtx-cu12==12.4.127 (from torch->outlines->gigax==0.1)
#9 61.86   Downloading http://packages/nvidia-nvtx-cu12/nvidia_nvtx_cu12-12.4.127-py3-none-manylinux2014_x86_64.whl (99 kB)
#9 62.38 Collecting nvidia-nvjitlink-cu12==12.4.127 (from torch->outlines->gigax==0.1)
#9 62.40   Downloading http://packages/nvidia-nvjitlink-cu12/nvidia_nvjitlink_cu12-12.4.127-py3-none-manylinux2014_x86_64.whl (21.1 MB)
#9 63.60      ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 21.1/21.1 MB 17.6 MB/s eta 0:00:00
#9 63.71 Collecting triton==3.1.0 (from torch->outlines->gigax==0.1)
#9 63.73   Downloading http://packages/triton/triton-3.1.0-cp310-cp310-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (209.5 MB)
#9 68.34      ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 209.5/209.5 MB 45.6 MB/s eta 0:00:00
#9 69.08 Collecting sympy==1.13.1 (from torch->outlines->gigax==0.1)
#9 69.11   Downloading http://packages/sympy/sympy-1.13.1-py3-none-any.whl (6.2 MB)
#9 70.53      ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 6.2/6.2 MB 4.2 MB/s eta 0:00:00
#9 70.64 Collecting mpmath<1.4,>=1.1.0 (from sympy==1.13.1->torch->outlines->gigax==0.1)
#9 70.66   Downloading http://packages/mpmath/mpmath-1.3.0-py3-none-any.whl (536 kB)
#9 71.54      ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 536.2/536.2 kB 316.9 kB/s eta 0:00:00
#9 71.61 Building wheels for collected packages: llama-cpp-python
#9 71.61   Building wheel for llama-cpp-python (pyproject.toml): started
#9 123.8   Building wheel for llama-cpp-python (pyproject.toml): finished with status 'done'
#9 123.8   Created wheel for llama-cpp-python: filename=llama_cpp_python-0.3.5-cp310-cp310-linux_x86_64.whl size=3494353 sha256=e9991477cc89f086a54307b16edca0f7263b42561bfd96494fb34ad0e0130c89
#9 123.8   Stored in directory: /root/.cache/pip/wheels/f6/31/aa/8279648c707a7fd95835a3abf71d60ec0056fdfb273910bcb6
#9 123.8 Successfully built llama-cpp-python
#9 124.7 Installing collected packages: mpmath, urllib3, typing-extensions, tqdm, sympy, sniffio, safetensors, rpds-py, regex, pyyaml, pycountry, nvidia-nvtx-cu12, nvidia-nvjitlink-cu12, nvidia-nccl-cu12, nvidia-curand-cu12, nvidia-cufft-cu12, nvidia-cuda-runtime-cu12, nvidia-cuda-nvrtc-cu12, nvidia-cuda-cupti-cu12, nvidia-cublas-cu12, numpy, networkx, nest_asyncio, MarkupSafe, lark, jiter, interegular, idna, h11, fsspec, filelock, distro, diskcache, cloudpickle, charset-normalizer, certifi, attrs, annotated-types, airportsdata, triton, requests, referencing, pydantic-core, nvidia-cusparse-cu12, nvidia-cudnn-cu12, jinja2, httpcore, anyio, pydantic, nvidia-cusolver-cu12, llama-cpp-python, jsonschema-specifications, huggingface-hub, httpx, torch, tokenizers, openai, jsonschema, transformers, outlines_core, outlines, gigax
#9 210.0   DEPRECATION: Legacy editable install of gigax==0.1 from file:///repo (setup.py develop) is deprecated. pip 25.0 will enforce this behaviour change. A possible replacement is to add a pyproject.toml or enable --use-pep517, and use setuptools >= 64. If the resulting installation is not behaving as expected, try using --config-settings editable_mode=compat. Please consult the setuptools documentation for more information. Discussion can be found at https://github.com/pypa/pip/issues/11457
#9 210.0   Running setup.py develop for gigax
#9 210.8 Successfully installed MarkupSafe-3.0.2 airportsdata-20241001 annotated-types-0.7.0 anyio-4.8.0 attrs-24.3.0 certifi-2024.12.14 charset-normalizer-3.4.1 cloudpickle-3.1.0 diskcache-5.6.3 distro-1.9.0 filelock-3.16.1 fsspec-2024.12.0 gigax h11-0.14.0 httpcore-1.0.7 httpx-0.28.1 huggingface-hub-0.27.1 idna-3.10 interegular-0.3.3 jinja2-3.1.5 jiter-0.8.2 jsonschema-4.23.0 jsonschema-specifications-2024.10.1 lark-1.2.2 llama-cpp-python-0.3.5 mpmath-1.3.0 nest_asyncio-1.6.0 networkx-3.4.2 numpy-2.2.1 nvidia-cublas-cu12-12.4.5.8 nvidia-cuda-cupti-cu12-12.4.127 nvidia-cuda-nvrtc-cu12-12.4.127 nvidia-cuda-runtime-cu12-12.4.127 nvidia-cudnn-cu12-9.1.0.70 nvidia-cufft-cu12-11.2.1.3 nvidia-curand-cu12-10.3.5.147 nvidia-cusolver-cu12-11.6.1.9 nvidia-cusparse-cu12-12.3.1.170 nvidia-nccl-cu12-2.21.5 nvidia-nvjitlink-cu12-12.4.127 nvidia-nvtx-cu12-12.4.127 openai-1.59.4 outlines-0.1.11 outlines_core-0.1.26 pycountry-24.6.1 pydantic-2.10.4 pydantic-core-2.27.2 pyyaml-6.0.2 referencing-0.35.1 regex-2024.11.6 requests-2.32.3 rpds-py-0.22.3 safetensors-0.5.1 sniffio-1.3.1 sympy-1.13.1 tokenizers-0.21.0 torch-2.5.1 tqdm-4.67.1 transformers-4.47.1 triton-3.1.0 typing-extensions-4.12.2 urllib3-2.3.0
#9 210.8 WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager, possibly rendering your system unusable.It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv. Use the --root-user-action option if you know what you are doing and want to suppress this warning.
#9 214.1 Looking in indexes: http://simple/
#9 214.2 Collecting python-dotenv==1.0.1
#9 214.2   Downloading http://packages/python-dotenv/python_dotenv-1.0.1-py3-none-any.whl (19 kB)
#9 216.5 Installing collected packages: python-dotenv
#9 217.7 Successfully installed python-dotenv-1.0.1
#9 217.7 WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager, possibly rendering your system unusable.It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv. Use the --root-user-action option if you know what you are doing and want to suppress this warning.
#9 218.5 Looking in indexes: http://simple/
#9 218.5 Collecting pytest-asyncio==0.25.0
#9 218.6   Downloading http://packages/pytest-asyncio/pytest_asyncio-0.25.0-py3-none-any.whl (19 kB)
#9 218.6 Requirement already satisfied: pytest<9,>=8.2 in /usr/local/lib/python3.10/site-packages (from pytest-asyncio==0.25.0) (8.3.4)
#9 218.6 Requirement already satisfied: exceptiongroup>=1.0.0rc8 in /usr/local/lib/python3.10/site-packages (from pytest<9,>=8.2->pytest-asyncio==0.25.0) (1.2.2)
#9 218.6 Requirement already satisfied: iniconfig in /usr/local/lib/python3.10/site-packages (from pytest<9,>=8.2->pytest-asyncio==0.25.0) (2.0.0)
#9 218.6 Requirement already satisfied: packaging in /usr/local/lib/python3.10/site-packages (from pytest<9,>=8.2->pytest-asyncio==0.25.0) (24.2)
#9 218.6 Requirement already satisfied: pluggy<2,>=1.5 in /usr/local/lib/python3.10/site-packages (from pytest<9,>=8.2->pytest-asyncio==0.25.0) (1.5.0)
#9 218.6 Requirement already satisfied: tomli>=1 in /usr/local/lib/python3.10/site-packages (from pytest<9,>=8.2->pytest-asyncio==0.25.0) (2.2.1)
#9 219.1 Installing collected packages: pytest-asyncio
#9 219.2 Successfully installed pytest-asyncio-0.25.0
#9 219.2 WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager, possibly rendering your system unusable.It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv. Use the --root-user-action option if you know what you are doing and want to suppress this warning.
#9 219.5 * Succeed Patch:
#9 219.5 Create and write /repo/pytest.ini!
#9 219.5 
#9 DONE 219.9s

#10 [6/7] RUN cd /repo && pytest --collect-only -q
#10 11.14 /usr/local/lib/python3.10/site-packages/pytest_asyncio/plugin.py:207: PytestDeprecationWarning: The configuration option "asyncio_default_fixture_loop_scope" is unset.
#10 11.14 The event loop scope for asynchronous fixtures will default to the fixture caching scope. Future versions of pytest-asyncio will default the loop scope for asynchronous fixtures to function scope. Set the default fixture loop scope explicitly in order to avoid unexpected behavior in the future. Valid fixture loop scopes are: "function", "class", "module", "package", "session"
#10 11.14 
#10 11.14   warnings.warn(PytestDeprecationWarning(_DEFAULT_FIXTURE_LOOP_SCOPE_UNSET))
#10 11.18 tests/test_parse.py::test_parse
#10 11.18 tests/test_prompt.py::test_prompt
#10 11.18 
#10 11.18 2 tests collected in 0.03s
#10 DONE 12.3s

#11 exporting to image
#11 exporting layers
#11 exporting layers 45.4s done
#11 writing image sha256:4b8ac28d99f4b27294ed522db45cd575e467454d476708d174cd06ff3e2ad4c8 done
#11 naming to docker.io/library/tmp:tmp done
#11 DONE 45.4s
