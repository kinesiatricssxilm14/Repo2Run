#0 building with "default" instance using docker driver

#1 [internal] load build definition from Dockerfile
#1 transferring dockerfile: 1.09kB done
#1 DONE 0.0s

#2 [internal] load metadata for docker.io/library/python:3.10
#2 DONE 0.0s

#3 [internal] load .dockerignore
#3 transferring context: 2B done
#3 DONE 0.0s

#4 [1/5] FROM docker.io/library/python:3.10
#4 DONE 0.0s

#5 [2/5] RUN mkdir -p ~/.pip && touch ~/.pip/pip.conf &&     echo "[global]" >> ~/.pip/pip.conf && echo "index-url=http://simple/" >> ~/.pip/pip.conf && echo "[install]" >> ~/.pip/pip.conf && echo "trusted-host=pypi..org" >> ~/.pip/pip.conf &&     apt-get update && apt-get install -y curl &&     curl -sSL https://install.python-poetry.org | python -
#5 CACHED

#6 [3/5] RUN pip install pytest pytest-xdist &&     pip install pipdeptree &&     git clone https://github.com/bananaml/fructose.git &&     mkdir /repo &&     git config --global --add safe.directory /repo &&     cp -r /fructose/. /repo && rm -rf /fructose/ &&     rm -rf /fructose &&     cd /repo && git checkout 5f24ec0f773170d5f55fe520fa7436f69b1a4f65 &&     cd /repo && pip install -e .
#6 1.724 Looking in indexes: http://simple/
#6 1.879 Collecting pytest
#6 1.901   Downloading http://packages/pytest/pytest-8.3.4-py3-none-any.whl (343 kB)
#6 1.925      ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 343.1/343.1 kB 17.5 MB/s eta 0:00:00
#6 1.998 Collecting pytest-xdist
#6 2.019   Downloading http://packages/pytest-xdist/pytest_xdist-3.6.1-py3-none-any.whl (46 kB)
#6 2.032      ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 46.1/46.1 kB 4.4 MB/s eta 0:00:00
#6 2.095 Collecting pluggy<2,>=1.5
#6 2.118   Downloading http://packages/pluggy/pluggy-1.5.0-py3-none-any.whl (20 kB)
#6 2.179 Collecting tomli>=1
#6 2.200   Downloading http://packages/tomli/tomli-2.2.1-py3-none-any.whl (14 kB)
#6 2.247 Collecting exceptiongroup>=1.0.0rc8
#6 2.272   Downloading http://packages/exceptiongroup/exceptiongroup-1.2.2-py3-none-any.whl (16 kB)
#6 2.313 Collecting iniconfig
#6 2.333   Downloading http://packages/iniconfig/iniconfig-2.0.0-py3-none-any.whl (5.9 kB)
#6 2.402 Collecting packaging
#6 2.421   Downloading http://packages/packaging/packaging-24.2-py3-none-any.whl (65 kB)
#6 2.435      ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 65.5/65.5 kB 6.6 MB/s eta 0:00:00
#6 2.512 Collecting execnet>=2.1
#6 2.532   Downloading http://packages/execnet/execnet-2.1.1-py3-none-any.whl (40 kB)
#6 2.541      ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 40.6/40.6 kB 7.6 MB/s eta 0:00:00
#6 2.675 Installing collected packages: tomli, pluggy, packaging, iniconfig, execnet, exceptiongroup, pytest, pytest-xdist
#6 3.255 Successfully installed exceptiongroup-1.2.2 execnet-2.1.1 iniconfig-2.0.0 packaging-24.2 pluggy-1.5.0 pytest-8.3.4 pytest-xdist-3.6.1 tomli-2.2.1
#6 3.256 WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv
#6 3.385 
#6 3.385 [notice] A new release of pip is available: 23.0.1 -> 24.3.1
#6 3.385 [notice] To update, run: pip install --upgrade pip
#6 4.257 Looking in indexes: http://simple/
#6 4.358 Collecting pipdeptree
#6 4.376   Downloading http://packages/pipdeptree/pipdeptree-2.24.0-py3-none-any.whl (32 kB)
#6 4.540 Collecting pip>=24.2
#6 4.562   Using cached http://packages/pip/pip-24.3.1-py3-none-any.whl (1.8 MB)
#6 4.587 Requirement already satisfied: packaging>=24.1 in /usr/local/lib/python3.10/site-packages (from pipdeptree) (24.2)
#6 4.721 Installing collected packages: pip, pipdeptree
#6 4.722   Attempting uninstall: pip
#6 4.723     Found existing installation: pip 23.0.1
#6 4.928     Uninstalling pip-23.0.1:
#6 5.117       Successfully uninstalled pip-23.0.1
#6 6.444 Successfully installed pip-24.3.1 pipdeptree-2.24.0
#6 6.445 WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv
#6 6.728 Cloning into 'fructose'...
#6 8.824 Note: switching to '5f24ec0f773170d5f55fe520fa7436f69b1a4f65'.
#6 8.824 
#6 8.824 You are in 'detached HEAD' state. You can look around, make experimental
#6 8.824 changes and commit them, and you can discard any commits you make in this
#6 8.824 state without impacting any branches by switching back to a branch.
#6 8.824 
#6 8.824 If you want to create a new branch to retain commits you create, you may
#6 8.824 do so (now or later) by using -c with the switch command. Example:
#6 8.824 
#6 8.824   git switch -c <new-branch-name>
#6 8.824 
#6 8.824 Or undo this operation with:
#6 8.824 
#6 8.824   git switch -
#6 8.824 
#6 8.824 Turn off this advice by setting config variable advice.detachedHead to false
#6 8.824 
#6 8.824 HEAD is now at 5f24ec0 Update README.md
#6 9.377 Looking in indexes: http://simple/
#6 9.377 Obtaining file:///repo
#6 9.379   Preparing metadata (setup.py): started
#6 10.11   Preparing metadata (setup.py): finished with status 'done'
#6 10.26 Collecting openai (from fructose==0.0.13)
#6 10.28   Downloading http://packages/openai/openai-1.59.4-py3-none-any.whl (454 kB)
#6 10.38 Collecting Jinja2 (from fructose==0.0.13)
#6 10.40   Downloading http://packages/jinja2/jinja2-3.1.5-py3-none-any.whl (134 kB)
#6 10.55 Collecting MarkupSafe>=2.0 (from Jinja2->fructose==0.0.13)
#6 10.56   Downloading http://packages/markupsafe/MarkupSafe-3.0.2-cp310-cp310-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (20 kB)
#6 10.62 Collecting anyio<5,>=3.5.0 (from openai->fructose==0.0.13)
#6 10.64   Downloading http://packages/anyio/anyio-4.8.0-py3-none-any.whl (96 kB)
#6 10.69 Collecting distro<2,>=1.7.0 (from openai->fructose==0.0.13)
#6 10.71   Downloading http://packages/distro/distro-1.9.0-py3-none-any.whl (20 kB)
#6 10.77 Collecting httpx<1,>=0.23.0 (from openai->fructose==0.0.13)
#6 10.79   Downloading http://packages/httpx/httpx-0.28.1-py3-none-any.whl (73 kB)
#6 10.92 Collecting jiter<1,>=0.4.0 (from openai->fructose==0.0.13)
#6 10.94   Downloading http://packages/jiter/jiter-0.8.2-cp310-cp310-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (345 kB)
#6 11.24 Collecting pydantic<3,>=1.9.0 (from openai->fructose==0.0.13)
#6 11.26   Downloading http://packages/pydantic/pydantic-2.10.4-py3-none-any.whl (431 kB)
#6 11.31 Collecting sniffio (from openai->fructose==0.0.13)
#6 11.33   Downloading http://packages/sniffio/sniffio-1.3.1-py3-none-any.whl (10 kB)
#6 11.45 Collecting tqdm>4 (from openai->fructose==0.0.13)
#6 11.47   Downloading http://packages/tqdm/tqdm-4.67.1-py3-none-any.whl (78 kB)
#6 11.53 Collecting typing-extensions<5,>=4.11 (from openai->fructose==0.0.13)
#6 11.54   Downloading http://packages/typing-extensions/typing_extensions-4.12.2-py3-none-any.whl (37 kB)
#6 11.56 Requirement already satisfied: exceptiongroup>=1.0.2 in /usr/local/lib/python3.10/site-packages (from anyio<5,>=3.5.0->openai->fructose==0.0.13) (1.2.2)
#6 11.60 Collecting idna>=2.8 (from anyio<5,>=3.5.0->openai->fructose==0.0.13)
#6 11.60   Using cached http://packages/idna/idna-3.10-py3-none-any.whl (70 kB)
#6 11.65 Collecting certifi (from httpx<1,>=0.23.0->openai->fructose==0.0.13)
#6 11.65   Using cached http://packages/certifi/certifi-2024.12.14-py3-none-any.whl (164 kB)
#6 11.70 Collecting httpcore==1.* (from httpx<1,>=0.23.0->openai->fructose==0.0.13)
#6 11.73   Downloading http://packages/httpcore/httpcore-1.0.7-py3-none-any.whl (78 kB)
#6 11.77 Collecting h11<0.15,>=0.13 (from httpcore==1.*->httpx<1,>=0.23.0->openai->fructose==0.0.13)
#6 11.79   Downloading http://packages/h11/h11-0.14.0-py3-none-any.whl (58 kB)
#6 11.83 Collecting annotated-types>=0.6.0 (from pydantic<3,>=1.9.0->openai->fructose==0.0.13)
#6 11.85   Downloading http://packages/annotated-types/annotated_types-0.7.0-py3-none-any.whl (13 kB)
#6 13.22 Collecting pydantic-core==2.27.2 (from pydantic<3,>=1.9.0->openai->fructose==0.0.13)
#6 13.24   Downloading http://packages/pydantic-core/pydantic_core-2.27.2-cp310-cp310-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (2.0 MB)
#6 13.28      ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 2.0/2.0 MB 72.3 MB/s eta 0:00:00
#6 13.39 Installing collected packages: typing-extensions, tqdm, sniffio, MarkupSafe, jiter, idna, h11, distro, certifi, annotated-types, pydantic-core, Jinja2, httpcore, anyio, pydantic, httpx, openai, fructose
#6 15.20   DEPRECATION: Legacy editable install of fructose==0.0.13 from file:///repo (setup.py develop) is deprecated. pip 25.0 will enforce this behaviour change. A possible replacement is to add a pyproject.toml or enable --use-pep517, and use setuptools >= 64. If the resulting installation is not behaving as expected, try using --config-settings editable_mode=compat. Please consult the setuptools documentation for more information. Discussion can be found at https://github.com/pypa/pip/issues/11457
#6 15.20   Running setup.py develop for fructose
#6 15.78 Successfully installed Jinja2-3.1.5 MarkupSafe-3.0.2 annotated-types-0.7.0 anyio-4.8.0 certifi-2024.12.14 distro-1.9.0 fructose h11-0.14.0 httpcore-1.0.7 httpx-0.28.1 idna-3.10 jiter-0.8.2 openai-1.59.4 pydantic-2.10.4 pydantic-core-2.27.2 sniffio-1.3.1 tqdm-4.67.1 typing-extensions-4.12.2
#6 15.78 WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager, possibly rendering your system unusable.It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv. Use the --root-user-action option if you know what you are doing and want to suppress this warning.
#6 DONE 16.5s

#7 [4/5] RUN cd /repo && pytest --collect-only -q
#7 2.130 tests/test_ai_e2e.py::test_str2str
#7 2.130 tests/test_ai_e2e.py::test_str2int
#7 2.130 tests/test_ai_e2e.py::test_none2int
#7 2.130 tests/test_ai_e2e.py::test_none2str
#7 2.130 tests/test_ai_e2e.py::test_none2float
#7 2.130 tests/test_ai_e2e.py::test_none2bool
#7 2.130 tests/test_ai_e2e.py::test_bool2bool
#7 2.130 tests/test_ai_e2e.py::test_bool2int
#7 2.130 tests/test_ai_e2e.py::test_bool2str
#7 2.130 tests/test_ai_e2e.py::test_listint2int
#7 2.130 tests/test_ai_e2e.py::test_optional
#7 2.130 tests/test_ai_e2e.py::test_kwargs
#7 2.130 tests/test_ai_e2e.py::test_mixed_order_kwargs
#7 2.130 tests/test_ai_e2e.py::test_mixed_positional_kwargs
#7 2.130 tests/test_ai_e2e.py::test_uses_add_function
#7 2.130 tests/test_ai_e2e.py::test_uses_regex_function
#7 2.130 tests/test_ai_e2e.py::test_decorator_without_args
#7 2.130 tests/test_ai_e2e.py::test_forward_ref_type_parser
#7 2.130 tests/test_ai_exceptions.py::test_none2none
#7 2.130 tests/test_function_helpers.py::test_collect_arguments
#7 2.130 tests/test_type_parser.py::test_to_string
#7 2.130 tests/test_type_parser.py::test_supported_types
#7 2.130 tests/test_type_parser.py::test_parse_json_to_type
#7 2.130 
#7 2.130 23 tests collected in 1.09s
#7 DONE 2.5s

#8 exporting to image
#8 exporting layers
#8 exporting layers 0.6s done
#8 writing image sha256:e663fa8026164ccc8902ccca608bfeb466e9d58431f8a429de5129e50f93464d done
#8 naming to docker.io/library/tmp:tmp done
#8 DONE 0.6s
