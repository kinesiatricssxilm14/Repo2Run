/usr/local/lib/python3.10/site-packages/pytest_asyncio/plugin.py:207: PytestDeprecationWarning: The configuration option "asyncio_default_fixture_loop_scope" is unset.
The event loop scope for asynchronous fixtures will default to the fixture caching scope. Future versions of pytest-asyncio will default the loop scope for asynchronous fixtures to function scope. Set the default fixture loop scope explicitly in order to avoid unexpected behavior in the future. Valid fixture loop scopes are: "function", "class", "module", "package", "session"

  warnings.warn(PytestDeprecationWarning(_DEFAULT_FIXTURE_LOOP_SCOPE_UNSET))
tests/integration/test_index_with_chroma.py::test_integration_embedding_client[embedding_function0]
tests/integration/test_index_with_chroma.py::test_integration_embedding_client[embedding_function1]
tests/integration/test_llm_options.py::test_llm_options_propagation
tests/unit/audit/event_handlers/test_otel_event_handler.py::test_span_handler_sets_all
tests/unit/audit/event_handlers/test_otel_event_handler.py::test_span_handler_sets_without_input
tests/unit/audit/event_handlers/test_otel_event_handler.py::test_span_handler_sets_without_outputs
tests/unit/audit/event_handlers/test_otel_event_handler.py::test_span_handler_sets_with_transformation
tests/unit/codegen/test_generator.py::test_group_imports
tests/unit/codegen/test_generator.py::test_collect_imports_for_annotation
tests/unit/codegen/test_generator.py::test_collect_imports_for_method
tests/unit/codegen/test_generator.py::test_render_annotation
tests/unit/codegen/test_generator.py::test_render_class_declaration_no_parents
tests/unit/codegen/test_generator.py::test_render_method
tests/unit/codegen/test_generator.py::test_collect_imports_for_view
tests/unit/codegen/test_generator.py::test_render_view
tests/unit/iql/test_iql_parser.py::test_iql_filter_parser
tests/unit/iql/test_iql_parser.py::test_iql_filter_parser_arg_error
tests/unit/iql/test_iql_parser.py::test_iql_filter_parser_syntax_error
tests/unit/iql/test_iql_parser.py::test_iql_filter_parser_multiple_expression_error
tests/unit/iql/test_iql_parser.py::test_iql_filter_parser_empty_expression_error
tests/unit/iql/test_iql_parser.py::test_iql_filter_parser_no_expression_error
tests/unit/iql/test_iql_parser.py::test_iql_filter_parser_unsupported_syntax_error
tests/unit/iql/test_iql_parser.py::test_iql_filter_parser_method_not_exists
tests/unit/iql/test_iql_parser.py::test_iql_filter_parser_incorrect_number_of_arguments_fail
tests/unit/iql/test_iql_parser.py::test_iql_filter_parser_argument_validation_fail
tests/unit/iql/test_iql_parser.py::test_iql_aggregation_parser
tests/unit/iql/test_iql_parser.py::test_iql_aggregation_parser_arg_error
tests/unit/iql/test_iql_parser.py::test_iql_aggregation_parser_syntax_error
tests/unit/iql/test_iql_parser.py::test_iql_aggregation_parser_multiple_expression_error
tests/unit/iql/test_iql_parser.py::test_iql_aggregation_parser_empty_expression_error
tests/unit/iql/test_iql_parser.py::test_iql_aggregation_parser_no_expression_error
tests/unit/iql/test_iql_parser.py::test_iql_aggregation_parser_unsupported_syntax_error[mean_age_by_city() >= 30-Compare syntax is not supported in IQL: mean_age_by_city() >= 30]
tests/unit/iql/test_iql_parser.py::test_iql_aggregation_parser_unsupported_syntax_error[mean_age_by_city('Paris') and mean_age_by_city('London')-BoolOp syntax is not supported in IQL: mean_age_by_city('Paris') and mean_age_by_city('London')]
tests/unit/iql/test_iql_parser.py::test_iql_aggregation_parser_unsupported_syntax_error[mean_age_by_city('Paris') or mean_age_by_city('London')-BoolOp syntax is not supported in IQL: mean_age_by_city('Paris') or mean_age_by_city('London')]
tests/unit/iql/test_iql_parser.py::test_iql_aggregation_parser_unsupported_syntax_error[not mean_age_by_city('Paris')-UnaryOp syntax is not supported in IQL: not mean_age_by_city('Paris')]
tests/unit/iql/test_iql_parser.py::test_iql_aggregation_parser_method_not_exists
tests/unit/iql/test_iql_parser.py::test_iql_aggregation_parser_incorrect_number_of_arguments_fail
tests/unit/iql/test_iql_parser.py::test_iql_aggregation_parser_argument_validation_fail
tests/unit/iql/test_iql_parser.py::test_keywords_lowercase
tests/unit/iql/test_type_validators.py::test_literal_validator
tests/unit/iql/test_type_validators.py::test_list_validator
tests/unit/iql/test_type_validators.py::test_simple_types
tests/unit/iql/test_type_validators.py::test_type_casts
tests/unit/similarity/test_chroma.py::test_chroma_get_chroma_collection_embedding_chroma_client
tests/unit/similarity/test_chroma.py::test_chroma_get_chroma_collection_chroma_embedding_function
tests/unit/similarity/test_chroma.py::test_store_embedding_client
tests/unit/similarity/test_chroma.py::test_store_chroma_embedding_function
tests/unit/similarity/test_chroma.py::test_find_similar_embedding_client
tests/unit/similarity/test_chroma.py::test_find_similar_chroma_embedding_function
tests/unit/similarity/test_chroma.py::test_return_best_match_max_distance_is_none
tests/unit/similarity/test_chroma.py::test_return_best_match_max_distance_is_not_acceptable
tests/unit/similarity/test_chroma.py::test_return_best_match_max_distance_is_acceptable
tests/unit/test_assistants_adapters.py::test_generate_instruction
tests/unit/test_assistants_adapters.py::test_process_response_no_query[1]
tests/unit/test_assistants_adapters.py::test_process_response_no_query[3]
tests/unit/test_assistants_adapters.py::test_process_response_no_query_exception
tests/unit/test_assistants_adapters.py::test_process_response_correct
tests/unit/test_assistants_adapters.py::test_process_response_unsupported
tests/unit/test_assistants_adapters.py::test_process_response_unsupported_exception
tests/unit/test_assistants_adapters.py::test_process_response_invalid_json
tests/unit/test_assistants_adapters.py::test_process_functions_execution
tests/unit/test_collection.py::test_list
tests/unit/test_collection.py::test_get
tests/unit/test_collection.py::test_get_not_found
tests/unit/test_collection.py::test_add
tests/unit/test_collection.py::test_add_custom_name
tests/unit/test_collection.py::test_add_with_builder
tests/unit/test_collection.py::test_error_when_view_already_registered
tests/unit/test_collection.py::test_error_when_view_with_non_default_args
tests/unit/test_collection.py::test_error_when_view_builder_with_wrong_return_type
tests/unit/test_collection.py::test_error_when_view_incorrect_builder
tests/unit/test_collection.py::test_ask_view_selection_single_view
tests/unit/test_collection.py::test_ask_view_selection_multiple_views
tests/unit/test_collection.py::test_ask_view_selection_no_views
tests/unit/test_collection.py::test_get_similarity_indexes
tests/unit/test_collection.py::test_update_similarity_indexes
tests/unit/test_collection.py::test_update_similarity_indexes_error
tests/unit/test_fallback_collection.py::test_no_fallback_collection
tests/unit/test_fallback_collection.py::test_fallback_collection
tests/unit/test_fallback_collection.py::test_get_all_event_handlers_no_fallback
tests/unit/test_fallback_collection.py::test_get_all_event_handlers_with_fallback
tests/unit/test_fallback_collection.py::test_get_all_event_handlers_with_duplicates
tests/unit/test_fewshot.py::test_fewshot_lambda[repr_lambda0]
tests/unit/test_fewshot.py::test_fewshot_lambda[repr_lambda1]
tests/unit/test_fewshot.py::test_fewshot_lambda[repr_lambda2]
tests/unit/test_fewshot.py::test_fewshot_lambda[repr_lambda3]
tests/unit/test_fewshot.py::test_fewshot_lambda[repr_lambda4]
tests/unit/test_fewshot.py::test_fewshot_string
tests/unit/test_iql_format.py::test_iql_prompt_format_default
tests/unit/test_iql_format.py::test_iql_prompt_format_few_shots_injected
tests/unit/test_iql_format.py::test_iql_input_format_few_shot_examples_repeat_no_example_duplicates
tests/unit/test_iql_generator.py::test_iql_generation
tests/unit/test_iql_generator.py::test_iql_generation_error_escalation_after_max_retires
tests/unit/test_iql_generator.py::test_iql_generation_response_after_max_retries
tests/unit/test_nl_responder.py::test_nl_responder
tests/unit/test_prompt_builder.py::test_prompt_template_formatting
tests/unit/test_prompt_builder.py::test_missing_prompt_template_formatting
tests/unit/test_prompt_builder.py::test_add_few_shots
tests/unit/test_prompt_builder.py::test_chat_order_validation[invalid_chat0]
tests/unit/test_prompt_builder.py::test_chat_order_validation[invalid_chat1]
tests/unit/test_prompt_builder.py::test_chat_order_validation[invalid_chat2]
tests/unit/test_view_selector.py::test_view_selection
tests/unit/views/test_methods_base.py::test_list_filters
tests/unit/views/test_methods_base.py::test_list_aggregations
tests/unit/views/test_pandas_base.py::test_filter_or
tests/unit/views/test_pandas_base.py::test_filter_and
tests/unit/views/test_pandas_base.py::test_filter_not
tests/unit/views/test_pandas_base.py::test_aggregation
tests/unit/views/test_pandas_base.py::test_aggregtion_with_groupby
tests/unit/views/test_pandas_base.py::test_filters_and_aggregtion
tests/unit/views/test_sqlalchemy_base.py::test_filter_sql_generation
tests/unit/views/test_sqlalchemy_base.py::test_aggregation_sql_generation
tests/unit/views/test_sqlalchemy_base.py::test_filter_and_aggregation_sql_generation
tests/unit/views/text2sql/test_autodiscovery.py::test_builder_cant_set_whitelist_and_blacklist
tests/unit/views/text2sql/test_autodiscovery.py::test_autodiscovery_blacklist
tests/unit/views/text2sql/test_autodiscovery.py::test_autodiscovery_whitelist
tests/unit/views/text2sql/test_autodiscovery.py::test_autodiscovery_llm_descriptions
tests/unit/views/text2sql/test_view.py::test_text2sql_view

118 tests collected in 5.68s