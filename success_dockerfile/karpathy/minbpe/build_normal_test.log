#0 building with "default" instance using docker driver

#1 [internal] load build definition from Dockerfile
#1 transferring dockerfile: 1.08kB done
#1 DONE 0.0s

#2 [internal] load metadata for docker.io/library/python:3.10
#2 DONE 0.0s

#3 [internal] load .dockerignore
#3 transferring context: 2B done
#3 DONE 0.0s

#4 [1/5] FROM docker.io/library/python:3.10
#4 DONE 0.0s

#5 [2/5] RUN mkdir -p ~/.pip && touch ~/.pip/pip.conf &&     echo "[global]" >> ~/.pip/pip.conf && echo "index-url=http://simple/" >> ~/.pip/pip.conf && echo "[install]" >> ~/.pip/pip.conf && echo "trusted-host=pypi..org" >> ~/.pip/pip.conf &&     apt-get update && apt-get install -y curl &&     curl -sSL https://install.python-poetry.org | python -
#5 CACHED

#6 [3/5] RUN pip install pytest pytest-xdist &&     pip install pipdeptree &&     git clone https://github.com/karpathy/minbpe.git &&     mkdir /repo &&     git config --global --add safe.directory /repo &&     cp -r /minbpe/. /repo && rm -rf /minbpe/ &&     rm -rf /minbpe &&     cd /repo && git checkout 1acefe89412b20245db5a22d2a02001e547dc602 &&     pip install regex==2024.11.6 &&     pip install tiktoken==0.8.0
#6 1.672 Looking in indexes: http://simple/
#6 1.836 Collecting pytest
#6 1.854   Downloading http://packages/pytest/pytest-8.3.4-py3-none-any.whl (343 kB)
#6 1.879      ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 343.1/343.1 kB 17.1 MB/s eta 0:00:00
#6 1.953 Collecting pytest-xdist
#6 1.972   Downloading http://packages/pytest-xdist/pytest_xdist-3.6.1-py3-none-any.whl (46 kB)
#6 1.985      ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 46.1/46.1 kB 4.1 MB/s eta 0:00:00
#6 2.067 Collecting tomli>=1
#6 2.089   Downloading http://packages/tomli/tomli-2.2.1-py3-none-any.whl (14 kB)
#6 2.137 Collecting exceptiongroup>=1.0.0rc8
#6 2.164   Downloading http://packages/exceptiongroup/exceptiongroup-1.2.2-py3-none-any.whl (16 kB)
#6 2.221 Collecting pluggy<2,>=1.5
#6 2.245   Downloading http://packages/pluggy/pluggy-1.5.0-py3-none-any.whl (20 kB)
#6 2.309 Collecting packaging
#6 2.328   Downloading http://packages/packaging/packaging-24.2-py3-none-any.whl (65 kB)
#6 2.340      ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 65.5/65.5 kB 6.4 MB/s eta 0:00:00
#6 2.370 Collecting iniconfig
#6 2.388   Downloading http://packages/iniconfig/iniconfig-2.0.0-py3-none-any.whl (5.9 kB)
#6 2.440 Collecting execnet>=2.1
#6 2.459   Downloading http://packages/execnet/execnet-2.1.1-py3-none-any.whl (40 kB)
#6 2.468      ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 40.6/40.6 kB 7.8 MB/s eta 0:00:00
#6 2.604 Installing collected packages: tomli, pluggy, packaging, iniconfig, execnet, exceptiongroup, pytest, pytest-xdist
#6 3.161 Successfully installed exceptiongroup-1.2.2 execnet-2.1.1 iniconfig-2.0.0 packaging-24.2 pluggy-1.5.0 pytest-8.3.4 pytest-xdist-3.6.1 tomli-2.2.1
#6 3.162 WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv
#6 3.295 
#6 3.295 [notice] A new release of pip is available: 23.0.1 -> 24.3.1
#6 3.295 [notice] To update, run: pip install --upgrade pip
#6 4.016 Looking in indexes: http://simple/
#6 4.106 Collecting pipdeptree
#6 4.132   Downloading http://packages/pipdeptree/pipdeptree-2.24.0-py3-none-any.whl (32 kB)
#6 4.159 Requirement already satisfied: packaging>=24.1 in /usr/local/lib/python3.10/site-packages (from pipdeptree) (24.2)
#6 4.281 Collecting pip>=24.2
#6 4.296   Using cached http://packages/pip/pip-24.3.1-py3-none-any.whl (1.8 MB)
#6 4.432 Installing collected packages: pip, pipdeptree
#6 4.433   Attempting uninstall: pip
#6 4.434     Found existing installation: pip 23.0.1
#6 4.621     Uninstalling pip-23.0.1:
#6 4.818       Successfully uninstalled pip-23.0.1
#6 6.400 Successfully installed pip-24.3.1 pipdeptree-2.24.0
#6 6.401 WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv
#6 6.703 Cloning into 'minbpe'...
#6 8.612 Note: switching to '1acefe89412b20245db5a22d2a02001e547dc602'.
#6 8.612 
#6 8.612 You are in 'detached HEAD' state. You can look around, make experimental
#6 8.612 changes and commit them, and you can discard any commits you make in this
#6 8.612 state without impacting any branches by switching back to a branch.
#6 8.612 
#6 8.612 If you want to create a new branch to retain commits you create, you may
#6 8.612 do so (now or later) by using -c with the switch command. Example:
#6 8.612 
#6 8.612   git switch -c <new-branch-name>
#6 8.612 
#6 8.612 Or undo this operation with:
#6 8.612 
#6 8.612   git switch -
#6 8.612 
#6 8.612 Turn off this advice by setting config variable advice.detachedHead to false
#6 8.612 
#6 8.612 HEAD is now at 1acefe8 Merge pull request #67 from shubham0204/master
#6 9.145 Looking in indexes: http://simple/
#6 9.876 Collecting regex==2024.11.6
#6 9.898   Downloading http://packages/regex/regex-2024.11.6-cp310-cp310-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (781 kB)
#6 9.931      ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 781.7/781.7 kB 34.1 MB/s eta 0:00:00
#6 9.971 Installing collected packages: regex
#6 10.13 Successfully installed regex-2024.11.6
#6 10.13 WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager, possibly rendering your system unusable.It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv. Use the --root-user-action option if you know what you are doing and want to suppress this warning.
#6 10.96 Looking in indexes: http://simple/
#6 11.05 Collecting tiktoken==0.8.0
#6 11.07   Downloading http://packages/tiktoken/tiktoken-0.8.0-cp310-cp310-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (1.2 MB)
#6 11.10      ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 1.2/1.2 MB 51.4 MB/s eta 0:00:00
#6 11.11 Requirement already satisfied: regex>=2022.1.18 in /usr/local/lib/python3.10/site-packages (from tiktoken==0.8.0) (2024.11.6)
#6 11.18 Collecting requests>=2.26.0 (from tiktoken==0.8.0)
#6 11.18   Using cached http://packages/requests/requests-2.32.3-py3-none-any.whl (64 kB)
#6 11.39 Collecting charset-normalizer<4,>=2 (from requests>=2.26.0->tiktoken==0.8.0)
#6 11.39   Using cached http://packages/charset-normalizer/charset_normalizer-3.4.1-cp310-cp310-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (146 kB)
#6 11.42 Collecting idna<4,>=2.5 (from requests>=2.26.0->tiktoken==0.8.0)
#6 11.43   Using cached http://packages/idna/idna-3.10-py3-none-any.whl (70 kB)
#6 11.51 Collecting urllib3<3,>=1.21.1 (from requests>=2.26.0->tiktoken==0.8.0)
#6 11.51   Using cached http://packages/urllib3/urllib3-2.3.0-py3-none-any.whl (128 kB)
#6 11.57 Collecting certifi>=2017.4.17 (from requests>=2.26.0->tiktoken==0.8.0)
#6 11.57   Using cached http://packages/certifi/certifi-2024.12.14-py3-none-any.whl (164 kB)
#6 11.62 Installing collected packages: urllib3, idna, charset-normalizer, certifi, requests, tiktoken
#6 12.04 Successfully installed certifi-2024.12.14 charset-normalizer-3.4.1 idna-3.10 requests-2.32.3 tiktoken-0.8.0 urllib3-2.3.0
#6 12.04 WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager, possibly rendering your system unusable.It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv. Use the --root-user-action option if you know what you are doing and want to suppress this warning.
#6 DONE 12.4s

#7 [4/5] RUN cd /repo && pytest --collect-only -q
#7 0.876 tests/test_tokenizer.py::test_encode_decode_identity[-BasicTokenizer]
#7 0.876 tests/test_tokenizer.py::test_encode_decode_identity[-RegexTokenizer]
#7 0.876 tests/test_tokenizer.py::test_encode_decode_identity[-GPT4Tokenizer]
#7 0.876 tests/test_tokenizer.py::test_encode_decode_identity[?-BasicTokenizer]
#7 0.876 tests/test_tokenizer.py::test_encode_decode_identity[?-RegexTokenizer]
#7 0.876 tests/test_tokenizer.py::test_encode_decode_identity[?-GPT4Tokenizer]
#7 0.876 tests/test_tokenizer.py::test_encode_decode_identity[hello world!!!? (\uc548\ub155\ud558\uc138\uc694!) lol123 \U0001f609-BasicTokenizer]
#7 0.876 tests/test_tokenizer.py::test_encode_decode_identity[hello world!!!? (\uc548\ub155\ud558\uc138\uc694!) lol123 \U0001f609-RegexTokenizer]
#7 0.876 tests/test_tokenizer.py::test_encode_decode_identity[hello world!!!? (\uc548\ub155\ud558\uc138\uc694!) lol123 \U0001f609-GPT4Tokenizer]
#7 0.876 tests/test_tokenizer.py::test_encode_decode_identity[FILE:taylorswift.txt-BasicTokenizer]
#7 0.876 tests/test_tokenizer.py::test_encode_decode_identity[FILE:taylorswift.txt-RegexTokenizer]
#7 0.876 tests/test_tokenizer.py::test_encode_decode_identity[FILE:taylorswift.txt-GPT4Tokenizer]
#7 0.876 tests/test_tokenizer.py::test_gpt4_tiktoken_equality[]
#7 0.876 tests/test_tokenizer.py::test_gpt4_tiktoken_equality[?]
#7 0.876 tests/test_tokenizer.py::test_gpt4_tiktoken_equality[hello world!!!? (\uc548\ub155\ud558\uc138\uc694!) lol123 \U0001f609]
#7 0.876 tests/test_tokenizer.py::test_gpt4_tiktoken_equality[FILE:taylorswift.txt]
#7 0.876 tests/test_tokenizer.py::test_gpt4_tiktoken_equality_special_tokens
#7 0.876 tests/test_tokenizer.py::test_wikipedia_example[BasicTokenizer]
#7 0.876 tests/test_tokenizer.py::test_wikipedia_example[RegexTokenizer]
#7 0.876 tests/test_tokenizer.py::test_save_load[special_tokens0]
#7 0.876 tests/test_tokenizer.py::test_save_load[special_tokens1]
#7 0.876 
#7 0.876 21 tests collected in 0.06s
#7 DONE 1.1s

#8 exporting to image
#8 exporting layers
#8 exporting layers 0.3s done
#8 writing image sha256:8b5ca6a2a76c6fe62f17f89fc609e077284bcb74be29f7c357c0de9f2f244936 done
#8 naming to docker.io/library/tmp:tmp done
#8 DONE 0.3s
