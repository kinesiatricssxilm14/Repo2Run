#0 building with "default" instance using docker driver

#1 [internal] load build definition from Dockerfile
#1 transferring dockerfile: 1.05kB done
#1 DONE 0.0s

#2 [internal] load metadata for docker.io/library/python:3.10
#2 DONE 0.0s

#3 [internal] load .dockerignore
#3 transferring context: 2B done
#3 DONE 0.0s

#4 [1/5] FROM docker.io/library/python:3.10
#4 DONE 0.0s

#5 [2/5] RUN mkdir -p ~/.pip && touch ~/.pip/pip.conf &&     echo "[global]" >> ~/.pip/pip.conf && echo "index-url=http://simple/" >> ~/.pip/pip.conf && echo "[install]" >> ~/.pip/pip.conf && echo "trusted-host=pypi..org" >> ~/.pip/pip.conf &&     apt-get update && apt-get install -y curl &&     curl -sSL https://install.python-poetry.org | python -
#5 CACHED

#6 [3/5] RUN pip install pytest pytest-xdist &&     pip install pipdeptree &&     git clone https://github.com/microsoft/graphrag.git &&     mkdir /repo &&     git config --global --add safe.directory /repo &&     cp -r /graphrag/. /repo && rm -rf /graphrag/ &&     rm -rf /graphrag &&     cd /repo && git checkout 5ff2d3c76d2d08797d3337bbe5278c165324f441 &&     cd /repo && poetry install
#6 2.046 Looking in indexes: http://simple/
#6 2.200 Collecting pytest
#6 2.218   Downloading http://packages/pytest/pytest-8.3.4-py3-none-any.whl (343 kB)
#6 2.242      ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 343.1/343.1 kB 17.9 MB/s eta 0:00:00
#6 2.316 Collecting pytest-xdist
#6 2.338   Downloading http://packages/pytest-xdist/pytest_xdist-3.6.1-py3-none-any.whl (46 kB)
#6 2.349      ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 46.1/46.1 kB 4.6 MB/s eta 0:00:00
#6 2.395 Collecting iniconfig
#6 2.413   Downloading http://packages/iniconfig/iniconfig-2.0.0-py3-none-any.whl (5.9 kB)
#6 2.460 Collecting pluggy<2,>=1.5
#6 2.484   Downloading http://packages/pluggy/pluggy-1.5.0-py3-none-any.whl (20 kB)
#6 2.544 Collecting tomli>=1
#6 2.581   Downloading http://packages/tomli/tomli-2.2.1-py3-none-any.whl (14 kB)
#6 2.649 Collecting packaging
#6 2.669   Downloading http://packages/packaging/packaging-24.2-py3-none-any.whl (65 kB)
#6 2.681      ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 65.5/65.5 kB 6.5 MB/s eta 0:00:00
#6 2.733 Collecting exceptiongroup>=1.0.0rc8
#6 2.754   Downloading http://packages/exceptiongroup/exceptiongroup-1.2.2-py3-none-any.whl (16 kB)
#6 2.825 Collecting execnet>=2.1
#6 2.846   Downloading http://packages/execnet/execnet-2.1.1-py3-none-any.whl (40 kB)
#6 2.854      ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 40.6/40.6 kB 6.5 MB/s eta 0:00:00
#6 2.973 Installing collected packages: tomli, pluggy, packaging, iniconfig, execnet, exceptiongroup, pytest, pytest-xdist
#6 3.491 Successfully installed exceptiongroup-1.2.2 execnet-2.1.1 iniconfig-2.0.0 packaging-24.2 pluggy-1.5.0 pytest-8.3.4 pytest-xdist-3.6.1 tomli-2.2.1
#6 3.491 WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv
#6 3.612 
#6 3.612 [notice] A new release of pip is available: 23.0.1 -> 24.3.1
#6 3.612 [notice] To update, run: pip install --upgrade pip
#6 4.311 Looking in indexes: http://simple/
#6 4.403 Collecting pipdeptree
#6 4.426   Downloading http://packages/pipdeptree/pipdeptree-2.24.0-py3-none-any.whl (32 kB)
#6 4.570 Collecting pip>=24.2
#6 4.582   Using cached http://packages/pip/pip-24.3.1-py3-none-any.whl (1.8 MB)
#6 4.600 Requirement already satisfied: packaging>=24.1 in /usr/local/lib/python3.10/site-packages (from pipdeptree) (24.2)
#6 4.712 Installing collected packages: pip, pipdeptree
#6 4.712   Attempting uninstall: pip
#6 4.713     Found existing installation: pip 23.0.1
#6 4.879     Uninstalling pip-23.0.1:
#6 5.038       Successfully uninstalled pip-23.0.1
#6 6.543 Successfully installed pip-24.3.1 pipdeptree-2.24.0
#6 6.543 WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv
#6 6.818 Cloning into 'graphrag'...
#6 29.79 Note: switching to '5ff2d3c76d2d08797d3337bbe5278c165324f441'.
#6 29.79 
#6 29.79 You are in 'detached HEAD' state. You can look around, make experimental
#6 29.79 changes and commit them, and you can discard any commits you make in this
#6 29.79 state without impacting any branches by switching back to a branch.
#6 29.79 
#6 29.79 If you want to create a new branch to retain commits you create, you may
#6 29.79 do so (now or later) by using -c with the switch command. Example:
#6 29.79 
#6 29.79   git switch -c <new-branch-name>
#6 29.79 
#6 29.79 Or undo this operation with:
#6 29.79 
#6 29.79   git switch -
#6 29.79 
#6 29.79 Turn off this advice by setting config variable advice.detachedHead to false
#6 29.79 
#6 29.79 HEAD is now at 5ff2d3c Remove graphrag.llm, replace with fnllm (#1315)
#6 30.80 Creating virtualenv graphrag-gW_DSdP6-py3.10 in /root/.cache/pypoetry/virtualenvs
#6 32.01 Installing dependencies from lock file
#6 33.21 
#6 33.21 Package operations: 212 installs, 0 updates, 0 removals
#6 33.21 
#6 33.21   - Installing attrs (24.2.0)
#6 33.21   - Installing rpds-py (0.21.0)
#6 35.71   - Installing referencing (0.35.1)
#6 35.71   - Installing six (1.16.0)
#6 36.13   - Installing jsonschema-specifications (2024.10.1)
#6 36.14   - Installing platformdirs (4.3.6)
#6 36.14   - Installing python-dateutil (2.9.0.post0)
#6 36.14   - Installing traitlets (5.14.3)
#6 36.14   - Installing types-python-dateutil (2.9.0.20241003)
#6 37.33   - Installing arrow (1.3.0)
#6 37.33   - Installing fastjsonschema (2.20.0)
#6 37.33   - Installing jsonschema (4.23.0)
#6 37.34   - Installing jupyter-core (5.7.2)
#6 37.34   - Installing pycparser (2.22)
#6 37.34   - Installing tornado (6.4.1)
#6 37.34   - Installing pyzmq (26.2.0)
#6 38.62   - Installing cffi (1.17.1)
#6 38.62   - Installing fqdn (1.5.1)
#6 38.63   - Installing isoduration (20.11.0)
#6 38.63   - Installing jsonpointer (3.0.0)
#6 38.63   - Installing markupsafe (3.0.2)
#6 38.63   - Installing idna (3.10)
#6 38.64   - Installing ptyprocess (0.7.0)
#6 38.64   - Installing rfc3986-validator (0.1.1)
#6 38.64   - Installing jupyter-client (8.6.3)
#6 38.65   - Installing nbformat (5.10.4)
#6 38.65   - Installing rfc3339-validator (0.1.4)
#6 38.65   - Installing soupsieve (2.6)
#6 38.65   - Installing uri-template (1.3.0)
#6 38.65   - Installing webcolors (24.8.0)
#6 38.66   - Installing webencodings (0.5.1)
#6 40.29   - Installing argon2-cffi-bindings (21.2.0)
#6 40.30   - Installing asttokens (2.4.1)
#6 40.30   - Installing beautifulsoup4 (4.12.3)
#6 40.30   - Installing defusedxml (0.7.1)
#6 40.31   - Installing exceptiongroup (1.2.2)
#6 40.31   - Installing executing (2.1.0)
#6 40.31   - Installing jupyterlab-pygments (0.3.0)
#6 40.32   - Installing nbclient (0.10.0)
#6 40.32   - Installing packaging (24.1)
#6 40.32   - Installing jinja2 (3.1.4)
#6 40.32   - Installing mistune (3.0.2)
#6 40.33   - Installing bleach (6.2.0)
#6 40.33   - Installing python-json-logger (2.0.7)
#6 40.33   - Installing pyyaml (6.0.2)
#6 40.33   - Installing pure-eval (0.2.3)
#6 40.34   - Installing pandocfilters (1.5.1)
#6 40.34   - Installing sniffio (1.3.1)
#6 40.34   - Installing pygments (2.18.0)
#6 40.34   - Installing typing-extensions (4.12.2)
#6 40.34   - Installing parso (0.8.4)
#6 40.35   - Installing tinycss2 (1.4.0)
#6 40.35   - Installing terminado (0.18.1)
#6 40.35   - Installing wcwidth (0.2.13)
#6 42.37   - Installing anyio (4.6.2.post1)
#6 42.37   - Installing argon2-cffi (23.1.0)
#6 42.37   - Installing certifi (2024.8.30)
#6 42.37   - Installing charset-normalizer (3.4.0)
#6 42.38   - Installing h11 (0.14.0)
#6 42.38   - Installing decorator (5.1.1)
#6 42.38   - Installing jedi (0.19.1)
#6 42.38   - Installing jupyter-events (0.10.0)
#6 42.39   - Installing jupyter-server-terminals (0.5.3)
#6 42.39   - Installing matplotlib-inline (0.1.7)
#6 42.39   - Installing nbconvert (7.16.4)
#6 42.39   - Installing numpy (1.26.4)
#6 42.40   - Installing overrides (7.7.0)
#6 42.40   - Installing pexpect (4.9.0)
#6 42.40   - Installing prometheus-client (0.21.0)
#6 42.40   - Installing prompt-toolkit (3.0.48)
#6 42.40   - Installing send2trash (1.8.3)
#6 42.41   - Installing stack-data (0.6.3)
#6 42.41   - Installing urllib3 (2.2.3)
#6 42.41   - Installing websocket-client (1.8.0)
#6 46.07   - Installing babel (2.16.0)
#6 46.08   - Installing comm (0.2.2)
#6 46.08   - Installing cryptography (43.0.3)
#6 46.08   - Installing debugpy (1.8.7)
#6 46.09   - Installing httpcore (1.0.6)
#6 46.09   - Installing ipython (8.29.0)
#6 46.09   - Installing joblib (1.4.2)
#6 46.10   - Installing json5 (0.9.25)
#6 46.10   - Installing jupyter-server (2.14.2)
#6 46.10   - Installing llvmlite (0.43.0)
#6 46.11   - Installing mdurl (0.1.2)
#6 46.11   - Installing nest-asyncio (1.6.0)
#6 46.11   - Installing psutil (6.1.0)
#6 46.12   - Installing requests (2.32.3)
#6 46.12   - Installing scipy (1.12.0)
#6 46.12   - Installing mergedeep (1.3.4)
#6 46.12   - Installing threadpoolctl (3.5.0)
#6 54.42   - Installing async-lru (2.0.4)
#6 54.42   - Installing click (8.1.7)
#6 54.43   - Installing contourpy (1.3.0)
#6 54.43   - Installing cycler (0.12.1)
#6 54.43   - Installing fonttools (4.54.1)
#6 54.44   - Installing ghp-import (2.1.0)
#6 54.44   - Installing ipykernel (6.29.5)
#6 54.45   - Installing jupyter-lsp (2.2.5)
#6 54.45   - Installing jupyterlab-server (2.27.3)
#6 54.46   - Installing markdown (3.7)
#6 54.46   - Installing mkdocs-get-deps (0.2.0)
#6 54.46   - Installing notebook-shim (0.2.4)
#6 54.47   - Installing numba (0.60.0)
#6 54.47   - Installing markdown-it-py (3.0.0)
#6 54.47   - Installing httpx (0.27.2)
#6 54.48   - Installing pyjwt (2.9.0)
#6 54.48   - Installing pathspec (0.12.1)
#6 54.48   - Installing pytz (2024.2)
#6 54.48   - Installing scikit-learn (1.5.2)
#6 54.48   - Installing pillow (11.0.0)
#6 54.49   - Installing pyparsing (3.2.0)
#6 54.49   - Installing watchdog (6.0.0)
#6 54.50   - Installing wrapt (1.16.0)
#6 54.50   - Installing setuptools (75.3.0)
#6 54.50   - Installing tomli (2.0.2)
#6 54.50   - Installing pyyaml-env-tag (0.1)
#6 54.50   - Installing kiwisolver (1.4.7)
#6 54.51   - Installing tzdata (2024.2)
#6 61.80   - Installing annotated-types (0.7.0)
#6 61.80   - Installing autograd (1.7.0)
#6 61.81   - Installing colorama (0.4.6)
#6 61.81   - Installing iniconfig (2.0.0)
#6 61.81   - Installing jupyterlab (4.3.0)
#6 61.81   - Installing jupyterlab-widgets (3.0.13)
#6 61.82   - Installing matplotlib (3.9.2)
#6 61.82   - Installing mkdocs (1.6.1)
#6 61.83   - Installing mdit-py-plugins (0.4.2)
#6 61.83   - Installing mkdocs-material-extensions (1.3.1)
#6 61.83   - Installing msal (1.31.0)
#6 61.83   - Installing paginate (0.5.7)
#6 61.83   - Installing pandas (2.2.3)
#6 61.84   - Installing patsy (0.5.6)
#6 61.84   - Installing pluggy (1.5.0)
#6 61.84   - Installing portalocker (2.10.1)
#6 61.84   - Installing py (1.11.0)
#6 61.85   - Installing pydantic-core (2.23.4)
#6 61.85   - Installing pyarrow (15.0.2)
#6 61.85   - Installing pymdown-extensions (10.12)
#6 61.85   - Installing regex (2024.9.11)
#6 61.86   - Installing rich (13.9.4)
#6 61.86   - Installing pynndescent (0.5.13)
#6 61.86   - Installing tqdm (4.66.6)
#6 61.86   - Installing widgetsnbextension (4.0.13)
#6 61.87   - Installing shellingham (1.5.4)
#6 61.87   - Installing smart-open (7.0.5)
#6 69.89   - Installing aiolimiter (1.1.0)
#6 69.89   - Installing anytree (2.12.1)
#6 69.90   - Installing azure-common (1.1.28)
#6 69.91   - Installing beartype (0.18.5)
#6 69.91   - Installing deprecation (2.1.0)
#6 69.91   - Installing diskcache (5.6.3)
#6 69.92   - Installing gensim (4.3.3)
#6 69.92   - Installing azure-core (1.32.0)
#6 69.92   - Installing hyppo (0.4.0)
#6 69.93   - Installing distro (1.9.0)
#6 69.93   - Installing cachetools (5.5.0)
#6 69.93   - Installing graspologic-native (1.2.1)
#6 69.94   - Installing jupyter-console (6.6.3)
#6 69.94   - Installing ipywidgets (8.1.5)
#6 69.95   - Installing mkdocs-material (9.5.44)
#6 69.95   - Installing jiter (0.7.0)
#6 69.95   - Installing networkx (3.4.2)
#6 69.96   - Installing nodeenv (1.9.1)
#6 69.96   - Installing jupytext (1.16.4)
#6 69.96   - Installing pastel (0.2.1)
#6 69.97   - Installing pydantic (2.9.2)
#6 69.97   - Installing pylance (0.17.0)
#6 69.97   - Installing json-repair (0.30.1)
#6 69.97   - Installing pytest (8.3.3)
#6 69.97   - Installing marshmallow (3.23.1)
#6 69.98   - Installing python-dotenv (1.0.1)
#6 69.98   - Installing seaborn (0.13.2)
#6 69.98   - Installing isodate (0.7.2)
#6 69.99   - Installing tenacity (9.0.0)
#6 69.99   - Installing tomlkit (0.12.5)
#6 69.99   - Installing pot (0.9.4)
#6 69.99   - Installing statsmodels (0.14.4)
#6 70.00   - Installing notebook (7.0.7)
#6 70.00   - Installing retry (0.9.2)
#6 70.00   - Installing typer (0.12.5)
#6 70.00   - Installing msal-extensions (1.2.0)
#6 70.78   - Installing umap-learn (0.5.7)
#6 83.20   - Installing aiofiles (24.1.0)
#6 83.20   - Installing azure-identity (1.19.0)
#6 83.20   - Installing azure-search-documents (11.5.2)
#6 83.20   - Installing azure-storage-blob (12.23.1)
#6 83.21   - Installing coverage (7.6.4)
#6 83.21   - Installing datashaper (0.0.49)
#6 83.21   - Installing devtools (0.12.2)
#6 83.22   - Installing deptry (0.20.0)
#6 83.22   - Installing environs (11.0.0)
#6 83.22   - Installing fnllm (0.0.8)
#6 83.23   - Installing future (1.0.0)
#6 83.23   - Installing graspologic (3.4.1)
#6 83.23   - Installing jupyter (1.1.1)
#6 83.24   - Installing mkdocs-exclude-search (0.6.6)
#6 83.24   - Installing mkdocs-jupyter (0.25.1)
#6 83.24   - Installing lancedb (0.13.0)
#6 83.25   - Installing mkdocs-typer (0.0.3)
#6 83.25   - Installing nltk (3.9.1)
#6 83.25   - Installing openai (1.54.1)
#6 83.25   - Installing poethepoet (0.28.0)
#6 83.26   - Installing pyaml-env (1.2.1)
#6 83.26   - Installing pyright (1.1.388)
#6 83.26   - Installing pytest-asyncio (0.24.0)
#6 83.27   - Installing pytest-dotenv (0.5.2)
#6 83.27   - Installing ruff (0.6.9)
#6 83.27   - Installing pytest-timeout (2.3.1)
#6 83.28   - Installing tiktoken (0.7.0)
#6 83.28   - Installing semversioner (2.0.5)
#6 83.28   - Installing update-toml (0.2.1)
#6 102.8 
#6 102.8 Installing the current project: graphrag (0.5.0)
#6 DONE 107.3s

#7 [4/5] RUN cd /repo && pytest --collect-only -q
#7 2.125 tests/unit/utils/test_embeddings.py::test_create_collection_name
#7 2.125 tests/unit/utils/test_embeddings.py::test_create_collection_name_invalid_embedding_throws
#7 2.125 tests/unit/utils/test_embeddings.py::test_create_collection_name_invalid_embedding_does_not_throw
#7 2.125 
#7 2.125 ==================================== ERRORS ====================================
#7 2.125 ___________ ERROR collecting tests/integration/_pipeline/test_run.py ___________
#7 2.125 ImportError while importing test module '/repo/tests/integration/_pipeline/test_run.py'.
#7 2.125 Hint: make sure your test modules/packages have valid Python names.
#7 2.125 Traceback:
#7 2.125 /usr/local/lib/python3.10/importlib/__init__.py:126: in import_module
#7 2.125     return _bootstrap._gcd_import(name[level:], package, level)
#7 2.125 tests/integration/_pipeline/test_run.py:7: in <module>
#7 2.125     from graphrag.index.run import run_pipeline_with_config
#7 2.125 graphrag/index/run/__init__.py:6: in <module>
#7 2.125     from graphrag.index.run.run import run_pipeline, run_pipeline_with_config
#7 2.125 graphrag/index/run/run.py:14: in <module>
#7 2.125     import pandas as pd
#7 2.125 E   ModuleNotFoundError: No module named 'pandas'
#7 2.125 ___ ERROR collecting tests/integration/storage/test_blob_pipeline_storage.py ___
#7 2.125 ImportError while importing test module '/repo/tests/integration/storage/test_blob_pipeline_storage.py'.
#7 2.125 Hint: make sure your test modules/packages have valid Python names.
#7 2.125 Traceback:
#7 2.125 /usr/local/lib/python3.10/importlib/__init__.py:126: in import_module
#7 2.125     return _bootstrap._gcd_import(name[level:], package, level)
#7 2.125 tests/integration/storage/test_blob_pipeline_storage.py:7: in <module>
#7 2.125     from graphrag.storage.blob_pipeline_storage import BlobPipelineStorage
#7 2.125 graphrag/storage/blob_pipeline_storage.py:12: in <module>
#7 2.125     from azure.identity import DefaultAzureCredential
#7 2.125 E   ModuleNotFoundError: No module named 'azure'
#7 2.125 ___ ERROR collecting tests/integration/storage/test_file_pipeline_storage.py ___
#7 2.125 ImportError while importing test module '/repo/tests/integration/storage/test_file_pipeline_storage.py'.
#7 2.125 Hint: make sure your test modules/packages have valid Python names.
#7 2.125 Traceback:
#7 2.125 /usr/local/lib/python3.10/importlib/__init__.py:126: in import_module
#7 2.125     return _bootstrap._gcd_import(name[level:], package, level)
#7 2.125 tests/integration/storage/test_file_pipeline_storage.py:9: in <module>
#7 2.125     from graphrag.storage.file_pipeline_storage import FilePipelineStorage
#7 2.125 graphrag/storage/file_pipeline_storage.py:14: in <module>
#7 2.125     import aiofiles
#7 2.125 E   ModuleNotFoundError: No module named 'aiofiles'
#7 2.125 ______________ ERROR collecting tests/notebook/test_notebooks.py _______________
#7 2.125 ImportError while importing test module '/repo/tests/notebook/test_notebooks.py'.
#7 2.125 Hint: make sure your test modules/packages have valid Python names.
#7 2.125 Traceback:
#7 2.125 /usr/local/lib/python3.10/importlib/__init__.py:126: in import_module
#7 2.125     return _bootstrap._gcd_import(name[level:], package, level)
#7 2.125 tests/notebook/test_notebooks.py:6: in <module>
#7 2.125     import nbformat
#7 2.125 E   ModuleNotFoundError: No module named 'nbformat'
#7 2.125 ________________ ERROR collecting tests/smoke/test_fixtures.py _________________
#7 2.125 ImportError while importing test module '/repo/tests/smoke/test_fixtures.py'.
#7 2.125 Hint: make sure your test modules/packages have valid Python names.
#7 2.125 Traceback:
#7 2.125 /usr/local/lib/python3.10/importlib/__init__.py:126: in import_module
#7 2.125     return _bootstrap._gcd_import(name[level:], package, level)
#7 2.125 tests/smoke/test_fixtures.py:15: in <module>
#7 2.125     import pandas as pd
#7 2.125 E   ModuleNotFoundError: No module named 'pandas'
#7 2.125 __________ ERROR collecting tests/unit/config/test_default_config.py ___________
#7 2.125 ImportError while importing test module '/repo/tests/unit/config/test_default_config.py'.
#7 2.125 Hint: make sure your test modules/packages have valid Python names.
#7 2.125 Traceback:
#7 2.125 /usr/local/lib/python3.10/importlib/__init__.py:126: in import_module
#7 2.125     return _bootstrap._gcd_import(name[level:], package, level)
#7 2.125 tests/unit/config/test_default_config.py:12: in <module>
#7 2.125     import yaml
#7 2.125 E   ModuleNotFoundError: No module named 'yaml'
#7 2.125 ___________ ERROR collecting tests/unit/config/test_resolve_path.py ____________
#7 2.125 ImportError while importing test module '/repo/tests/unit/config/test_resolve_path.py'.
#7 2.125 Hint: make sure your test modules/packages have valid Python names.
#7 2.125 Traceback:
#7 2.125 /usr/local/lib/python3.10/importlib/__init__.py:126: in import_module
#7 2.125     return _bootstrap._gcd_import(name[level:], package, level)
#7 2.125 tests/unit/config/test_resolve_path.py:6: in <module>
#7 2.125     from graphrag.config.resolve_path import resolve_path
#7 2.125 graphrag/config/resolve_path.py:11: in <module>
#7 2.125     from graphrag.config.models.graph_rag_config import GraphRagConfig
#7 2.125 graphrag/config/models/graph_rag_config.py:6: in <module>
#7 2.125     from devtools import pformat
#7 2.125 E   ModuleNotFoundError: No module named 'devtools'
#7 2.125 ____ ERROR collecting tests/unit/indexing/cache/test_file_pipeline_cache.py ____
#7 2.125 ImportError while importing test module '/repo/tests/unit/indexing/cache/test_file_pipeline_cache.py'.
#7 2.125 Hint: make sure your test modules/packages have valid Python names.
#7 2.125 Traceback:
#7 2.125 /usr/local/lib/python3.10/importlib/__init__.py:126: in import_module
#7 2.125     return _bootstrap._gcd_import(name[level:], package, level)
#7 2.125 tests/unit/indexing/cache/test_file_pipeline_cache.py:7: in <module>
#7 2.125     from graphrag.cache.json_pipeline_cache import JsonPipelineCache
#7 2.125 graphrag/cache/json_pipeline_cache.py:10: in <module>
#7 2.125     from graphrag.storage.pipeline_storage import PipelineStorage
#7 2.125 graphrag/storage/pipeline_storage.py:11: in <module>
#7 2.125     from graphrag.logging.base import ProgressReporter
#7 2.125 graphrag/logging/base.py:9: in <module>
#7 2.125     from datashaper.progress.types import Progress
#7 2.125 E   ModuleNotFoundError: No module named 'datashaper'
#7 2.125 ___________ ERROR collecting tests/unit/indexing/config/test_load.py ___________
#7 2.125 ImportError while importing test module '/repo/tests/unit/indexing/config/test_load.py'.
#7 2.125 Hint: make sure your test modules/packages have valid Python names.
#7 2.125 Traceback:
#7 2.125 /usr/local/lib/python3.10/importlib/__init__.py:126: in import_module
#7 2.125     return _bootstrap._gcd_import(name[level:], package, level)
#7 2.125 tests/unit/indexing/config/test_load.py:10: in <module>
#7 2.125     from graphrag.config.create_graphrag_config import create_graphrag_config
#7 2.125 graphrag/config/create_graphrag_config.py:11: in <module>
#7 2.125     from datashaper import AsyncType
#7 2.125 E   ModuleNotFoundError: No module named 'datashaper'
#7 2.125 _ ERROR collecting tests/unit/indexing/graph/extractors/community_reports/test_sort_context.py _
#7 2.125 ImportError while importing test module '/repo/tests/unit/indexing/graph/extractors/community_reports/test_sort_context.py'.
#7 2.125 Hint: make sure your test modules/packages have valid Python names.
#7 2.125 Traceback:
#7 2.125 /usr/local/lib/python3.10/importlib/__init__.py:126: in import_module
#7 2.125     return _bootstrap._gcd_import(name[level:], package, level)
#7 2.125 tests/unit/indexing/graph/extractors/community_reports/test_sort_context.py:6: in <module>
#7 2.125     from graphrag.index.graph.extractors.community_reports import sort_context
#7 2.125 graphrag/index/graph/extractors/__init__.py:6: in <module>
#7 2.125     from graphrag.index.graph.extractors.claims import ClaimExtractor
#7 2.125 graphrag/index/graph/extractors/claims/__init__.py:6: in <module>
#7 2.125     from graphrag.index.graph.extractors.claims.claim_extractor import ClaimExtractor
#7 2.125 graphrag/index/graph/extractors/claims/claim_extractor.py:11: in <module>
#7 2.125     import tiktoken
#7 2.125 E   ModuleNotFoundError: No module named 'tiktoken'
#7 2.125 _____ ERROR collecting tests/unit/indexing/graph/utils/test_stable_lcc.py ______
#7 2.125 ImportError while importing test module '/repo/tests/unit/indexing/graph/utils/test_stable_lcc.py'.
#7 2.125 Hint: make sure your test modules/packages have valid Python names.
#7 2.125 Traceback:
#7 2.125 /usr/local/lib/python3.10/importlib/__init__.py:126: in import_module
#7 2.125     return _bootstrap._gcd_import(name[level:], package, level)
#7 2.125 tests/unit/indexing/graph/utils/test_stable_lcc.py:5: in <module>
#7 2.125     import networkx as nx
#7 2.125 E   ModuleNotFoundError: No module named 'networkx'
#7 2.125 _____________ ERROR collecting tests/unit/indexing/test_exports.py _____________
#7 2.125 ImportError while importing test module '/repo/tests/unit/indexing/test_exports.py'.
#7 2.125 Hint: make sure your test modules/packages have valid Python names.
#7 2.125 Traceback:
#7 2.125 /usr/local/lib/python3.10/importlib/__init__.py:126: in import_module
#7 2.125     return _bootstrap._gcd_import(name[level:], package, level)
#7 2.125 tests/unit/indexing/test_exports.py:3: in <module>
#7 2.125     from graphrag.index.create_pipeline_config import create_pipeline_config
#7 2.125 graphrag/index/create_pipeline_config.py:17: in <module>
#7 2.125     from graphrag.config.models.graph_rag_config import GraphRagConfig
#7 2.125 graphrag/config/models/graph_rag_config.py:6: in <module>
#7 2.125     from devtools import pformat
#7 2.125 E   ModuleNotFoundError: No module named 'devtools'
#7 2.125 __________ ERROR collecting tests/unit/indexing/test_init_content.py ___________
#7 2.125 ImportError while importing test module '/repo/tests/unit/indexing/test_init_content.py'.
#7 2.125 Hint: make sure your test modules/packages have valid Python names.
#7 2.125 Traceback:
#7 2.125 /usr/local/lib/python3.10/importlib/__init__.py:126: in import_module
#7 2.125     return _bootstrap._gcd_import(name[level:], package, level)
#7 2.125 tests/unit/indexing/test_init_content.py:7: in <module>
#7 2.125     import yaml
#7 2.125 E   ModuleNotFoundError: No module named 'yaml'
#7 2.125 _ ERROR collecting tests/unit/indexing/verbs/entities/extraction/strategies/graph_intelligence/test_gi_entity_extraction.py _
#7 2.125 ImportError while importing test module '/repo/tests/unit/indexing/verbs/entities/extraction/strategies/graph_intelligence/test_gi_entity_extraction.py'.
#7 2.125 Hint: make sure your test modules/packages have valid Python names.
#7 2.125 Traceback:
#7 2.125 /usr/local/lib/python3.10/importlib/__init__.py:126: in import_module
#7 2.125     return _bootstrap._gcd_import(name[level:], package, level)
#7 2.125 tests/unit/indexing/verbs/entities/extraction/strategies/graph_intelligence/test_gi_entity_extraction.py:5: in <module>
#7 2.125     from graphrag.index.operations.extract_entities.strategies.graph_intelligence import (
#7 2.125 graphrag/index/operations/extract_entities/__init__.py:6: in <module>
#7 2.125     from graphrag.index.operations.extract_entities.extract_entities import (
#7 2.125 graphrag/index/operations/extract_entities/extract_entities.py:10: in <module>
#7 2.125     import pandas as pd
#7 2.125 E   ModuleNotFoundError: No module named 'pandas'
#7 2.125 ________ ERROR collecting tests/unit/indexing/workflows/test_export.py _________
#7 2.125 ImportError while importing test module '/repo/tests/unit/indexing/workflows/test_export.py'.
#7 2.125 Hint: make sure your test modules/packages have valid Python names.
#7 2.125 Traceback:
#7 2.125 /usr/local/lib/python3.10/importlib/__init__.py:126: in import_module
#7 2.125     return _bootstrap._gcd_import(name[level:], package, level)
#7 2.125 tests/unit/indexing/workflows/test_export.py:6: in <module>
#7 2.125     import pandas as pd
#7 2.125 E   ModuleNotFoundError: No module named 'pandas'
#7 2.125 _________ ERROR collecting tests/unit/indexing/workflows/test_load.py __________
#7 2.125 ImportError while importing test module '/repo/tests/unit/indexing/workflows/test_load.py'.
#7 2.125 Hint: make sure your test modules/packages have valid Python names.
#7 2.125 Traceback:
#7 2.125 /usr/local/lib/python3.10/importlib/__init__.py:126: in import_module
#7 2.125     return _bootstrap._gcd_import(name[level:], package, level)
#7 2.125 tests/unit/indexing/workflows/test_load.py:7: in <module>
#7 2.125     from graphrag.index.config.pipeline import PipelineWorkflowReference
#7 2.125 graphrag/index/config/pipeline.py:8: in <module>
#7 2.125     from devtools import pformat
#7 2.125 E   ModuleNotFoundError: No module named 'devtools'
#7 2.125 _ ERROR collecting tests/unit/query/context_builder/test_entity_extraction.py __
#7 2.125 ImportError while importing test module '/repo/tests/unit/query/context_builder/test_entity_extraction.py'.
#7 2.125 Hint: make sure your test modules/packages have valid Python names.
#7 2.125 Traceback:
#7 2.125 /usr/local/lib/python3.10/importlib/__init__.py:126: in import_module
#7 2.125     return _bootstrap._gcd_import(name[level:], package, level)
#7 2.125 tests/unit/query/context_builder/test_entity_extraction.py:8: in <module>
#7 2.125     from graphrag.query.context_builder.entity_extraction import (
#7 2.125 graphrag/query/context_builder/entity_extraction.py:10: in <module>
#7 2.125     from graphrag.query.input.retrieval.entities import (
#7 2.125 graphrag/query/input/retrieval/entities.py:10: in <module>
#7 2.125     import pandas as pd
#7 2.125 E   ModuleNotFoundError: No module named 'pandas'
#7 2.125 ______ ERROR collecting tests/unit/query/input/retrieval/test_entities.py ______
#7 2.125 ImportError while importing test module '/repo/tests/unit/query/input/retrieval/test_entities.py'.
#7 2.125 Hint: make sure your test modules/packages have valid Python names.
#7 2.125 Traceback:
#7 2.125 /usr/local/lib/python3.10/importlib/__init__.py:126: in import_module
#7 2.125     return _bootstrap._gcd_import(name[level:], package, level)
#7 2.125 tests/unit/query/input/retrieval/test_entities.py:5: in <module>
#7 2.125     from graphrag.query.input.retrieval.entities import (
#7 2.125 graphrag/query/input/retrieval/entities.py:10: in <module>
#7 2.125     import pandas as pd
#7 2.125 E   ModuleNotFoundError: No module named 'pandas'
#7 2.125 ________ ERROR collecting tests/verbs/test_create_base_entity_graph.py _________
#7 2.125 ImportError while importing test module '/repo/tests/verbs/test_create_base_entity_graph.py'.
#7 2.125 Hint: make sure your test modules/packages have valid Python names.
#7 2.125 Traceback:
#7 2.125 /usr/local/lib/python3.10/importlib/__init__.py:126: in import_module
#7 2.125     return _bootstrap._gcd_import(name[level:], package, level)
#7 2.125 tests/verbs/test_create_base_entity_graph.py:7: in <module>
#7 2.125     from graphrag.index.run.utils import create_run_context
#7 2.125 graphrag/index/run/__init__.py:6: in <module>
#7 2.125     from graphrag.index.run.run import run_pipeline, run_pipeline_with_config
#7 2.125 graphrag/index/run/run.py:14: in <module>
#7 2.125     import pandas as pd
#7 2.125 E   ModuleNotFoundError: No module named 'pandas'
#7 2.125 _________ ERROR collecting tests/verbs/test_create_base_text_units.py __________
#7 2.125 ImportError while importing test module '/repo/tests/verbs/test_create_base_text_units.py'.
#7 2.125 Hint: make sure your test modules/packages have valid Python names.
#7 2.125 Traceback:
#7 2.125 /usr/local/lib/python3.10/importlib/__init__.py:126: in import_module
#7 2.125     return _bootstrap._gcd_import(name[level:], package, level)
#7 2.125 tests/verbs/test_create_base_text_units.py:4: in <module>
#7 2.125     from graphrag.index.run.utils import create_run_context
#7 2.125 graphrag/index/run/__init__.py:6: in <module>
#7 2.125     from graphrag.index.run.run import run_pipeline, run_pipeline_with_config
#7 2.125 graphrag/index/run/run.py:14: in <module>
#7 2.125     import pandas as pd
#7 2.125 E   ModuleNotFoundError: No module named 'pandas'
#7 2.125 ________ ERROR collecting tests/verbs/test_create_final_communities.py _________
#7 2.125 ImportError while importing test module '/repo/tests/verbs/test_create_final_communities.py'.
#7 2.125 Hint: make sure your test modules/packages have valid Python names.
#7 2.125 Traceback:
#7 2.125 /usr/local/lib/python3.10/importlib/__init__.py:126: in import_module
#7 2.125     return _bootstrap._gcd_import(name[level:], package, level)
#7 2.125 tests/verbs/test_create_final_communities.py:4: in <module>
#7 2.125     from graphrag.index.flows.create_final_communities import (
#7 2.125 graphrag/index/flows/create_final_communities.py:9: in <module>
#7 2.125     import pandas as pd
#7 2.125 E   ModuleNotFoundError: No module named 'pandas'
#7 2.125 _____ ERROR collecting tests/verbs/test_create_final_community_reports.py ______
#7 2.125 ImportError while importing test module '/repo/tests/verbs/test_create_final_community_reports.py'.
#7 2.125 Hint: make sure your test modules/packages have valid Python names.
#7 2.125 Traceback:
#7 2.125 /usr/local/lib/python3.10/importlib/__init__.py:126: in import_module
#7 2.125     return _bootstrap._gcd_import(name[level:], package, level)
#7 2.125 tests/verbs/test_create_final_community_reports.py:6: in <module>
#7 2.125     from datashaper.errors import VerbParallelizationError
#7 2.125 E   ModuleNotFoundError: No module named 'datashaper'
#7 2.125 _________ ERROR collecting tests/verbs/test_create_final_covariates.py _________
#7 2.125 ImportError while importing test module '/repo/tests/verbs/test_create_final_covariates.py'.
#7 2.125 Hint: make sure your test modules/packages have valid Python names.
#7 2.125 Traceback:
#7 2.125 /usr/local/lib/python3.10/importlib/__init__.py:126: in import_module
#7 2.125     return _bootstrap._gcd_import(name[level:], package, level)
#7 2.125 tests/verbs/test_create_final_covariates.py:5: in <module>
#7 2.125     from datashaper.errors import VerbParallelizationError
#7 2.125 E   ModuleNotFoundError: No module named 'datashaper'
#7 2.125 _________ ERROR collecting tests/verbs/test_create_final_documents.py __________
#7 2.127 ImportError while importing test module '/repo/tests/verbs/test_create_final_documents.py'.
#7 2.127 Hint: make sure your test modules/packages have valid Python names.
#7 2.127 Traceback:
#7 2.127 /usr/local/lib/python3.10/importlib/__init__.py:126: in import_module
#7 2.127     return _bootstrap._gcd_import(name[level:], package, level)
#7 2.127 tests/verbs/test_create_final_documents.py:4: in <module>
#7 2.127     from graphrag.index.run.utils import create_run_context
#7 2.127 graphrag/index/run/__init__.py:6: in <module>
#7 2.127     from graphrag.index.run.run import run_pipeline, run_pipeline_with_config
#7 2.127 graphrag/index/run/run.py:14: in <module>
#7 2.127     import pandas as pd
#7 2.127 E   ModuleNotFoundError: No module named 'pandas'
#7 2.127 __________ ERROR collecting tests/verbs/test_create_final_entities.py __________
#7 2.127 ImportError while importing test module '/repo/tests/verbs/test_create_final_entities.py'.
#7 2.127 Hint: make sure your test modules/packages have valid Python names.
#7 2.127 Traceback:
#7 2.127 /usr/local/lib/python3.10/importlib/__init__.py:126: in import_module
#7 2.127     return _bootstrap._gcd_import(name[level:], package, level)
#7 2.127 tests/verbs/test_create_final_entities.py:4: in <module>
#7 2.127     from graphrag.index.flows.create_final_entities import (
#7 2.127 graphrag/index/flows/create_final_entities.py:6: in <module>
#7 2.127     import pandas as pd
#7 2.127 E   ModuleNotFoundError: No module named 'pandas'
#7 2.127 ___________ ERROR collecting tests/verbs/test_create_final_nodes.py ____________
#7 2.127 ImportError while importing test module '/repo/tests/verbs/test_create_final_nodes.py'.
#7 2.127 Hint: make sure your test modules/packages have valid Python names.
#7 2.127 Traceback:
#7 2.127 /usr/local/lib/python3.10/importlib/__init__.py:126: in import_module
#7 2.127     return _bootstrap._gcd_import(name[level:], package, level)
#7 2.127 tests/verbs/test_create_final_nodes.py:4: in <module>
#7 2.127     from datashaper import NoopVerbCallbacks
#7 2.127 E   ModuleNotFoundError: No module named 'datashaper'
#7 2.127 _______ ERROR collecting tests/verbs/test_create_final_relationships.py ________
#7 2.127 ImportError while importing test module '/repo/tests/verbs/test_create_final_relationships.py'.
#7 2.127 Hint: make sure your test modules/packages have valid Python names.
#7 2.127 Traceback:
#7 2.127 /usr/local/lib/python3.10/importlib/__init__.py:126: in import_module
#7 2.127     return _bootstrap._gcd_import(name[level:], package, level)
#7 2.127 tests/verbs/test_create_final_relationships.py:4: in <module>
#7 2.127     from graphrag.index.flows.create_final_relationships import (
#7 2.127 graphrag/index/flows/create_final_relationships.py:6: in <module>
#7 2.127     import pandas as pd
#7 2.127 E   ModuleNotFoundError: No module named 'pandas'
#7 2.127 _________ ERROR collecting tests/verbs/test_create_final_text_units.py _________
#7 2.127 ImportError while importing test module '/repo/tests/verbs/test_create_final_text_units.py'.
#7 2.127 Hint: make sure your test modules/packages have valid Python names.
#7 2.127 Traceback:
#7 2.127 /usr/local/lib/python3.10/importlib/__init__.py:126: in import_module
#7 2.127     return _bootstrap._gcd_import(name[level:], package, level)
#7 2.127 tests/verbs/test_create_final_text_units.py:4: in <module>
#7 2.127     from graphrag.index.run.utils import create_run_context
#7 2.127 graphrag/index/run/__init__.py:6: in <module>
#7 2.127     from graphrag.index.run.run import run_pipeline, run_pipeline_with_config
#7 2.127 graphrag/index/run/run.py:14: in <module>
#7 2.127     import pandas as pd
#7 2.127 E   ModuleNotFoundError: No module named 'pandas'
#7 2.127 ________ ERROR collecting tests/verbs/test_generate_text_embeddings.py _________
#7 2.127 ImportError while importing test module '/repo/tests/verbs/test_generate_text_embeddings.py'.
#7 2.127 Hint: make sure your test modules/packages have valid Python names.
#7 2.127 Traceback:
#7 2.127 /usr/local/lib/python3.10/importlib/__init__.py:126: in import_module
#7 2.127     return _bootstrap._gcd_import(name[level:], package, level)
#7 2.127 tests/verbs/test_generate_text_embeddings.py:6: in <module>
#7 2.127     import pandas as pd
#7 2.127 E   ModuleNotFoundError: No module named 'pandas'
#7 2.127 =============================== warnings summary ===============================
#7 2.127 ../usr/local/lib/python3.10/site-packages/_pytest/config/__init__.py:1441
#7 2.127   /usr/local/lib/python3.10/site-packages/_pytest/config/__init__.py:1441: PytestConfigWarning: Unknown config option: asyncio_mode
#7 2.127   
#7 2.127     self._warn_or_fail_if_strict(f"Unknown config option: {key}\n")
#7 2.127 
#7 2.127 ../usr/local/lib/python3.10/site-packages/_pytest/config/__init__.py:1441
#7 2.127   /usr/local/lib/python3.10/site-packages/_pytest/config/__init__.py:1441: PytestConfigWarning: Unknown config option: env_files
#7 2.127   
#7 2.127     self._warn_or_fail_if_strict(f"Unknown config option: {key}\n")
#7 2.127 
#7 2.127 ../usr/local/lib/python3.10/site-packages/_pytest/config/__init__.py:1441
#7 2.127   /usr/local/lib/python3.10/site-packages/_pytest/config/__init__.py:1441: PytestConfigWarning: Unknown config option: timeout
#7 2.127   
#7 2.127     self._warn_or_fail_if_strict(f"Unknown config option: {key}\n")
#7 2.127 
#7 2.127 -- Docs: https://docs.pytest.org/en/stable/how-to/capture-warnings.html
#7 2.127 =========================== short test summary info ============================
#7 2.127 ERROR tests/integration/_pipeline/test_run.py
#7 2.127 ERROR tests/integration/storage/test_blob_pipeline_storage.py
#7 2.127 ERROR tests/integration/storage/test_file_pipeline_storage.py
#7 2.127 ERROR tests/notebook/test_notebooks.py
#7 2.127 ERROR tests/smoke/test_fixtures.py
#7 2.127 ERROR tests/unit/config/test_default_config.py
#7 2.127 ERROR tests/unit/config/test_resolve_path.py
#7 2.127 ERROR tests/unit/indexing/cache/test_file_pipeline_cache.py
#7 2.127 ERROR tests/unit/indexing/config/test_load.py
#7 2.127 ERROR tests/unit/indexing/graph/extractors/community_reports/test_sort_context.py
#7 2.127 ERROR tests/unit/indexing/graph/utils/test_stable_lcc.py
#7 2.127 ERROR tests/unit/indexing/test_exports.py
#7 2.127 ERROR tests/unit/indexing/test_init_content.py
#7 2.127 ERROR tests/unit/indexing/verbs/entities/extraction/strategies/graph_intelligence/test_gi_entity_extraction.py
#7 2.127 ERROR tests/unit/indexing/workflows/test_export.py
#7 2.127 ERROR tests/unit/indexing/workflows/test_load.py
#7 2.127 ERROR tests/unit/query/context_builder/test_entity_extraction.py
#7 2.127 ERROR tests/unit/query/input/retrieval/test_entities.py
#7 2.127 ERROR tests/verbs/test_create_base_entity_graph.py
#7 2.127 ERROR tests/verbs/test_create_base_text_units.py
#7 2.127 ERROR tests/verbs/test_create_final_communities.py
#7 2.127 ERROR tests/verbs/test_create_final_community_reports.py
#7 2.127 ERROR tests/verbs/test_create_final_covariates.py
#7 2.127 ERROR tests/verbs/test_create_final_documents.py
#7 2.127 ERROR tests/verbs/test_create_final_entities.py
#7 2.127 ERROR tests/verbs/test_create_final_nodes.py
#7 2.127 ERROR tests/verbs/test_create_final_relationships.py
#7 2.127 ERROR tests/verbs/test_create_final_text_units.py
#7 2.127 ERROR tests/verbs/test_generate_text_embeddings.py
#7 2.127 !!!!!!!!!!!!!!!!!!! Interrupted: 29 errors during collection !!!!!!!!!!!!!!!!!!!
#7 2.127 3 tests collected, 29 errors in 1.36s
#7 ERROR: process "/bin/sh -c cd /repo && pytest --collect-only -q" did not complete successfully: exit code: 2
------
 > [4/5] RUN cd /repo && pytest --collect-only -q:
2.127 ERROR tests/verbs/test_create_final_community_reports.py
2.127 ERROR tests/verbs/test_create_final_covariates.py
2.127 ERROR tests/verbs/test_create_final_documents.py
2.127 ERROR tests/verbs/test_create_final_entities.py
2.127 ERROR tests/verbs/test_create_final_nodes.py
2.127 ERROR tests/verbs/test_create_final_relationships.py
2.127 ERROR tests/verbs/test_create_final_text_units.py
2.127 ERROR tests/verbs/test_generate_text_embeddings.py
2.127 !!!!!!!!!!!!!!!!!!! Interrupted: 29 errors during collection !!!!!!!!!!!!!!!!!!!
2.127 3 tests collected, 29 errors in 1.36s
------
Dockerfile:20
--------------------
  18 |         cd /repo && git checkout 5ff2d3c76d2d08797d3337bbe5278c165324f441 && \
  19 |         cd /repo && poetry install
  20 | >>> RUN cd /repo && pytest --collect-only -q
--------------------
ERROR: failed to solve: process "/bin/sh -c cd /repo && pytest --collect-only -q" did not complete successfully: exit code: 2
