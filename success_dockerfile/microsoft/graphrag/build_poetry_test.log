#0 building with "default" instance using docker driver

#1 [internal] load build definition from Dockerfile
#1 transferring dockerfile: 1.06kB done
#1 DONE 0.0s

#2 [internal] load metadata for docker.io/library/python:3.10
#2 DONE 0.0s

#3 [internal] load .dockerignore
#3 transferring context: 2B done
#3 DONE 0.0s

#4 [1/5] FROM docker.io/library/python:3.10
#4 DONE 0.0s

#5 [2/5] RUN mkdir -p ~/.pip && touch ~/.pip/pip.conf &&     echo "[global]" >> ~/.pip/pip.conf && echo "index-url=http://simple/" >> ~/.pip/pip.conf && echo "[install]" >> ~/.pip/pip.conf && echo "trusted-host=pypi..org" >> ~/.pip/pip.conf &&     apt-get update && apt-get install -y curl &&     curl -sSL https://install.python-poetry.org | python -
#5 CACHED

#6 [3/5] RUN pip install pytest pytest-xdist &&     pip install pipdeptree &&     git clone https://github.com/microsoft/graphrag.git &&     mkdir /repo &&     git config --global --add safe.directory /repo &&     cp -r /graphrag/. /repo && rm -rf /graphrag/ &&     rm -rf /graphrag &&     cd /repo && git checkout 5ff2d3c76d2d08797d3337bbe5278c165324f441 &&     cd /repo && poetry install
#6 CACHED

#7 [4/5] RUN cd /repo && poetry run pytest --collect-only -q
#7 2.235 /root/.cache/pypoetry/virtualenvs/graphrag-gW_DSdP6-py3.10/lib/python3.10/site-packages/pytest_asyncio/plugin.py:208: PytestDeprecationWarning: The configuration option "asyncio_default_fixture_loop_scope" is unset.
#7 2.235 The event loop scope for asynchronous fixtures will default to the fixture caching scope. Future versions of pytest-asyncio will default the loop scope for asynchronous fixtures to function scope. Set the default fixture loop scope explicitly in order to avoid unexpected behavior in the future. Valid fixture loop scopes are: "function", "class", "module", "package", "session"
#7 2.235 
#7 2.235   warnings.warn(PytestDeprecationWarning(_DEFAULT_FIXTURE_LOOP_SCOPE_UNSET))
#7 14.13 tests/integration/_pipeline/test_run.py::TestRun::test_megapipeline
#7 14.13 tests/integration/storage/test_blob_pipeline_storage.py::test_find
#7 14.13 tests/integration/storage/test_blob_pipeline_storage.py::test_dotprefix
#7 14.13 tests/integration/storage/test_blob_pipeline_storage.py::test_child
#7 14.13 tests/integration/storage/test_file_pipeline_storage.py::test_find
#7 14.13 tests/integration/storage/test_file_pipeline_storage.py::test_child
#7 14.13 tests/notebook/test_notebooks.py::test_notebook[notebook_path0]
#7 14.13 tests/smoke/test_fixtures.py::TestIndexer::test_fixture[min-csv]
#7 14.13 tests/smoke/test_fixtures.py::TestIndexer::test_fixture[text]
#7 14.13 tests/unit/config/test_default_config.py::TestDefaultConfig::test_all_env_vars_is_accurate
#7 14.13 tests/unit/config/test_default_config.py::TestDefaultConfig::test_can_set_gleanings_to_zero
#7 14.13 tests/unit/config/test_default_config.py::TestDefaultConfig::test_can_set_no_chunk_by_columns
#7 14.13 tests/unit/config/test_default_config.py::TestDefaultConfig::test_clear_warnings
#7 14.13 tests/unit/config/test_default_config.py::TestDefaultConfig::test_create_parameters
#7 14.13 tests/unit/config/test_default_config.py::TestDefaultConfig::test_create_parameters_from_env_vars
#7 14.13 tests/unit/config/test_default_config.py::TestDefaultConfig::test_csv_input_returns_correct_config
#7 14.13 tests/unit/config/test_default_config.py::TestDefaultConfig::test_default_config_with_api_key_passes
#7 14.13 tests/unit/config/test_default_config.py::TestDefaultConfig::test_default_config_with_no_env_vars_throws
#7 14.13 tests/unit/config/test_default_config.py::TestDefaultConfig::test_default_config_with_oai_key_passes_envvar
#7 14.13 tests/unit/config/test_default_config.py::TestDefaultConfig::test_default_config_with_oai_key_passes_obj
#7 14.13 tests/unit/config/test_default_config.py::TestDefaultConfig::test_default_values
#7 14.13 tests/unit/config/test_default_config.py::TestDefaultConfig::test_malformed_input_dict_throws
#7 14.13 tests/unit/config/test_default_config.py::TestDefaultConfig::test_minimim_azure_config_object
#7 14.13 tests/unit/config/test_default_config.py::TestDefaultConfig::test_prompt_file_reading
#7 14.13 tests/unit/config/test_default_config.py::TestDefaultConfig::test_string_repr
#7 14.13 tests/unit/config/test_default_config.py::TestDefaultConfig::test_text_input_returns_correct_config
#7 14.13 tests/unit/config/test_default_config.py::TestDefaultConfig::test_throws_if_azure_is_used_without_api_base
#7 14.13 tests/unit/config/test_default_config.py::TestDefaultConfig::test_throws_if_azure_is_used_without_api_base_envvar
#7 14.13 tests/unit/config/test_default_config.py::TestDefaultConfig::test_throws_if_azure_is_used_without_api_base_obj
#7 14.13 tests/unit/config/test_default_config.py::TestDefaultConfig::test_throws_if_azure_is_used_without_embedding_api_base_envvar
#7 14.13 tests/unit/config/test_default_config.py::TestDefaultConfig::test_throws_if_azure_is_used_without_embedding_api_base_obj
#7 14.13 tests/unit/config/test_default_config.py::TestDefaultConfig::test_throws_if_azure_is_used_without_embedding_deployment_name
#7 14.13 tests/unit/config/test_default_config.py::TestDefaultConfig::test_throws_if_azure_is_used_without_embedding_deployment_name_envvar
#7 14.13 tests/unit/config/test_default_config.py::TestDefaultConfig::test_throws_if_azure_is_used_without_embedding_deployment_name_obj
#7 14.13 tests/unit/config/test_default_config.py::TestDefaultConfig::test_throws_if_azure_is_used_without_llm_deployment_name
#7 14.13 tests/unit/config/test_default_config.py::TestDefaultConfig::test_throws_if_azure_is_used_without_llm_deployment_name_envvar
#7 14.13 tests/unit/config/test_default_config.py::TestDefaultConfig::test_throws_if_azure_is_used_without_llm_deployment_name_obj
#7 14.13 tests/unit/config/test_default_config.py::test_yaml_load_e2e
#7 14.13 tests/unit/config/test_resolve_path.py::test_resolve_path_no_timestamp_with_run_id
#7 14.13 tests/unit/config/test_resolve_path.py::test_resolve_path_no_timestamp_without_run_id
#7 14.13 tests/unit/config/test_resolve_path.py::test_resolve_path_with_timestamp_and_run_id
#7 14.13 tests/unit/config/test_resolve_path.py::test_resolve_path_with_timestamp_and_inferred_directory
#7 14.13 tests/unit/config/test_resolve_path.py::test_resolve_path_absolute
#7 14.13 tests/unit/indexing/cache/test_file_pipeline_cache.py::TestFilePipelineCache::test_cache_clear
#7 14.13 tests/unit/indexing/cache/test_file_pipeline_cache.py::TestFilePipelineCache::test_cache_has
#7 14.13 tests/unit/indexing/cache/test_file_pipeline_cache.py::TestFilePipelineCache::test_child_cache
#7 14.13 tests/unit/indexing/cache/test_file_pipeline_cache.py::TestFilePipelineCache::test_get_set
#7 14.13 tests/unit/indexing/config/test_load.py::TestLoadPipelineConfig::test_config_passed_in_returns_config
#7 14.13 tests/unit/indexing/config/test_load.py::TestLoadPipelineConfig::test_loading_default_config_returns_config
#7 14.13 tests/unit/indexing/config/test_load.py::TestLoadPipelineConfig::test_loading_default_config_with_input_overridden
#7 14.13 tests/unit/indexing/config/test_load.py::TestLoadPipelineConfig::test_loading_default_config_with_workflows_overridden
#7 14.13 tests/unit/indexing/graph/extractors/community_reports/test_sort_context.py::test_sort_context
#7 14.13 tests/unit/indexing/graph/extractors/community_reports/test_sort_context.py::test_sort_context_max_tokens
#7 14.13 tests/unit/indexing/graph/utils/test_stable_lcc.py::TestStableLCC::test_directed_graph_keeps_source_target_intact
#7 14.13 tests/unit/indexing/graph/utils/test_stable_lcc.py::TestStableLCC::test_directed_graph_run_twice_produces_same_graph
#7 14.13 tests/unit/indexing/graph/utils/test_stable_lcc.py::TestStableLCC::test_undirected_graph_run_twice_produces_same_graph
#7 14.13 tests/unit/indexing/test_exports.py::test_exported_functions
#7 14.13 tests/unit/indexing/test_init_content.py::test_init_yaml
#7 14.13 tests/unit/indexing/test_init_content.py::test_init_yaml_uncommented
#7 14.13 tests/unit/indexing/verbs/entities/extraction/strategies/graph_intelligence/test_gi_entity_extraction.py::TestRunChain::test_run_extract_entities_multiple_documents_correct_edge_source_ids_mapped
#7 14.13 tests/unit/indexing/verbs/entities/extraction/strategies/graph_intelligence/test_gi_entity_extraction.py::TestRunChain::test_run_extract_entities_multiple_documents_correct_edges_returned
#7 14.13 tests/unit/indexing/verbs/entities/extraction/strategies/graph_intelligence/test_gi_entity_extraction.py::TestRunChain::test_run_extract_entities_multiple_documents_correct_entities_returned
#7 14.13 tests/unit/indexing/verbs/entities/extraction/strategies/graph_intelligence/test_gi_entity_extraction.py::TestRunChain::test_run_extract_entities_multiple_documents_correct_entity_source_ids_mapped
#7 14.13 tests/unit/indexing/verbs/entities/extraction/strategies/graph_intelligence/test_gi_entity_extraction.py::TestRunChain::test_run_extract_entities_single_document_correct_entities_returned
#7 14.13 tests/unit/indexing/workflows/test_export.py::test_normal_result_exports_parquet
#7 14.13 tests/unit/indexing/workflows/test_export.py::test_empty_result_does_not_export_parquet
#7 14.13 tests/unit/indexing/workflows/test_load.py::TestCreateWorkflow::test_existing_workflow_should_not_crash
#7 14.13 tests/unit/indexing/workflows/test_load.py::TestCreateWorkflow::test_non_existent_workflow_without_steps_should_crash
#7 14.13 tests/unit/indexing/workflows/test_load.py::TestCreateWorkflow::test_workflow_with_steps_should_not_fail
#7 14.13 tests/unit/indexing/workflows/test_load.py::TestLoadWorkflows::test_multiple_workflows_should_not_crash
#7 14.13 tests/unit/indexing/workflows/test_load.py::TestLoadWorkflows::test_non_existent_workflow_should_crash
#7 14.13 tests/unit/indexing/workflows/test_load.py::TestLoadWorkflows::test_single_workflow_should_not_crash
#7 14.13 tests/unit/indexing/workflows/test_load.py::TestLoadWorkflows::test_three_interdependent_workflows_should_provide_correct_order
#7 14.13 tests/unit/indexing/workflows/test_load.py::TestLoadWorkflows::test_two_interdependent_workflows_should_provide_correct_order
#7 14.13 tests/unit/indexing/workflows/test_load.py::TestLoadWorkflows::test_two_workflows_dependent_on_another_single_workflow_should_provide_correct_order
#7 14.13 tests/unit/query/context_builder/test_entity_extraction.py::test_map_query_to_entities
#7 14.13 tests/unit/query/input/retrieval/test_entities.py::test_get_entity_by_id
#7 14.13 tests/unit/query/input/retrieval/test_entities.py::test_get_entity_by_key
#7 14.13 tests/unit/utils/test_embeddings.py::test_create_collection_name
#7 14.13 tests/unit/utils/test_embeddings.py::test_create_collection_name_invalid_embedding_throws
#7 14.13 tests/unit/utils/test_embeddings.py::test_create_collection_name_invalid_embedding_does_not_throw
#7 14.13 tests/verbs/test_create_base_entity_graph.py::test_create_base_entity_graph
#7 14.13 tests/verbs/test_create_base_entity_graph.py::test_create_base_entity_graph_with_snapshots
#7 14.13 tests/verbs/test_create_base_entity_graph.py::test_create_base_entity_graph_missing_llm_throws
#7 14.13 tests/verbs/test_create_base_text_units.py::test_create_base_text_units
#7 14.13 tests/verbs/test_create_base_text_units.py::test_create_base_text_units_with_snapshot
#7 14.13 tests/verbs/test_create_final_communities.py::test_create_final_communities
#7 14.13 tests/verbs/test_create_final_community_reports.py::test_create_final_community_reports
#7 14.13 tests/verbs/test_create_final_community_reports.py::test_create_final_community_reports_missing_llm_throws
#7 14.13 tests/verbs/test_create_final_covariates.py::test_create_final_covariates
#7 14.13 tests/verbs/test_create_final_covariates.py::test_create_final_covariates_missing_llm_throws
#7 14.13 tests/verbs/test_create_final_documents.py::test_create_final_documents
#7 14.13 tests/verbs/test_create_final_documents.py::test_create_final_documents_with_attribute_columns
#7 14.13 tests/verbs/test_create_final_entities.py::test_create_final_entities
#7 14.13 tests/verbs/test_create_final_nodes.py::test_create_final_nodes
#7 14.13 tests/verbs/test_create_final_relationships.py::test_create_final_relationships
#7 14.13 tests/verbs/test_create_final_text_units.py::test_create_final_text_units
#7 14.13 tests/verbs/test_create_final_text_units.py::test_create_final_text_units_no_covariates
#7 14.13 tests/verbs/test_generate_text_embeddings.py::test_generate_text_embeddings
#7 14.13 
#7 14.13 =============================== warnings summary ===============================
#7 14.13 ../root/.cache/pypoetry/virtualenvs/graphrag-gW_DSdP6-py3.10/lib/python3.10/site-packages/azure/search/documents/indexes/_generated/models/_models_py3.py:5644
#7 14.13   /root/.cache/pypoetry/virtualenvs/graphrag-gW_DSdP6-py3.10/lib/python3.10/site-packages/azure/search/documents/indexes/_generated/models/_models_py3.py:5644: DeprecationWarning: invalid escape sequence '\W'
#7 14.13     pattern: str = "\W+",
#7 14.13 
#7 14.13 ../root/.cache/pypoetry/virtualenvs/graphrag-gW_DSdP6-py3.10/lib/python3.10/site-packages/azure/search/documents/indexes/_generated/models/_models_py3.py:5869
#7 14.13   /root/.cache/pypoetry/virtualenvs/graphrag-gW_DSdP6-py3.10/lib/python3.10/site-packages/azure/search/documents/indexes/_generated/models/_models_py3.py:5869: DeprecationWarning: invalid escape sequence '\W'
#7 14.13     pattern: str = "\W+",
#7 14.13 
#7 14.13 ../root/.cache/pypoetry/virtualenvs/graphrag-gW_DSdP6-py3.10/lib/python3.10/site-packages/pyaml_env/parse_config.py:58
#7 14.13   /root/.cache/pypoetry/virtualenvs/graphrag-gW_DSdP6-py3.10/lib/python3.10/site-packages/pyaml_env/parse_config.py:58: DeprecationWarning: invalid escape sequence '\w'
#7 14.13     type_tag_pattern = re.compile(f'({type_tag}\w+\s)')
#7 14.13 
#7 14.13 -- Docs: https://docs.pytest.org/en/stable/how-to/capture-warnings.html
#7 14.13 99 tests collected in 11.86s
#7 DONE 15.4s

#8 exporting to image
#8 exporting layers
#8 exporting layers 16.0s done
#8 writing image sha256:96c6c0f0a140aea625e8b926c4ae41fc44e469b3a5ee81c1e1abbe9557222705 done
#8 naming to docker.io/library/tmp:tmp done
#8 DONE 16.1s
