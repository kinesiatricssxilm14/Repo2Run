#0 building with "default" instance using docker driver

#1 [internal] load build definition from Dockerfile
#1 transferring dockerfile: 1.54kB done
#1 DONE 0.0s

#2 [internal] load metadata for docker.io/library/python:3.10
#2 DONE 0.0s

#3 [internal] load .dockerignore
#3 transferring context: 2B done
#3 DONE 0.0s

#4 [1/9] FROM docker.io/library/python:3.10
#4 DONE 0.0s

#5 [2/9] RUN mkdir -p ~/.pip && touch ~/.pip/pip.conf &&     echo "[global]" >> ~/.pip/pip.conf && echo "index-url=http://simple/" >> ~/.pip/pip.conf && echo "[install]" >> ~/.pip/pip.conf && echo "trusted-host=pypi..org" >> ~/.pip/pip.conf &&     apt-get update && apt-get install -y curl &&     curl -sSL https://install.python-poetry.org | python -
#5 CACHED

#6 [3/9] RUN pip install pytest pytest-xdist &&     pip install pipdeptree &&     git clone https://github.com/EnhancedJax/Bagels.git &&     mkdir /repo &&     git config --global --add safe.directory /repo &&     cp -r /Bagels/. /repo && rm -rf /Bagels/ &&     rm -rf /Bagels &&     cd /repo && git checkout d72d7fb5442f2b478741f1125a706fc9e3ad999e &&     pip install freezegun==1.5.1 &&     pip install sqlalchemy==2.0.36
#6 1.689 Looking in indexes: http://simple/
#6 1.859 Collecting pytest
#6 1.879   Downloading http://packages/pytest/pytest-8.3.4-py3-none-any.whl (343 kB)
#6 1.904      ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 343.1/343.1 kB 17.9 MB/s eta 0:00:00
#6 1.981 Collecting pytest-xdist
#6 2.000   Downloading http://packages/pytest-xdist/pytest_xdist-3.6.1-py3-none-any.whl (46 kB)
#6 2.013      ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 46.1/46.1 kB 4.6 MB/s eta 0:00:00
#6 2.084 Collecting pluggy<2,>=1.5
#6 2.107   Downloading http://packages/pluggy/pluggy-1.5.0-py3-none-any.whl (20 kB)
#6 2.143 Collecting iniconfig
#6 2.164   Downloading http://packages/iniconfig/iniconfig-2.0.0-py3-none-any.whl (5.9 kB)
#6 2.228 Collecting tomli>=1
#6 2.246   Downloading http://packages/tomli/tomli-2.2.1-py3-none-any.whl (14 kB)
#6 2.314 Collecting packaging
#6 2.334   Downloading http://packages/packaging/packaging-24.2-py3-none-any.whl (65 kB)
#6 2.346      ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 65.5/65.5 kB 7.8 MB/s eta 0:00:00
#6 2.391 Collecting exceptiongroup>=1.0.0rc8
#6 2.415   Downloading http://packages/exceptiongroup/exceptiongroup-1.2.2-py3-none-any.whl (16 kB)
#6 2.477 Collecting execnet>=2.1
#6 2.496   Downloading http://packages/execnet/execnet-2.1.1-py3-none-any.whl (40 kB)
#6 2.506      ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 40.6/40.6 kB 6.8 MB/s eta 0:00:00
#6 2.659 Installing collected packages: tomli, pluggy, packaging, iniconfig, execnet, exceptiongroup, pytest, pytest-xdist
#6 3.237 Successfully installed exceptiongroup-1.2.2 execnet-2.1.1 iniconfig-2.0.0 packaging-24.2 pluggy-1.5.0 pytest-8.3.4 pytest-xdist-3.6.1 tomli-2.2.1
#6 3.237 WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv
#6 3.361 
#6 3.361 [notice] A new release of pip is available: 23.0.1 -> 24.3.1
#6 3.361 [notice] To update, run: pip install --upgrade pip
#6 4.060 Looking in indexes: http://simple/
#6 4.138 Collecting pipdeptree
#6 4.156   Downloading http://packages/pipdeptree/pipdeptree-2.24.0-py3-none-any.whl (32 kB)
#6 4.181 Requirement already satisfied: packaging>=24.1 in /usr/local/lib/python3.10/site-packages (from pipdeptree) (24.2)
#6 4.297 Collecting pip>=24.2
#6 4.308   Using cached http://packages/pip/pip-24.3.1-py3-none-any.whl (1.8 MB)
#6 4.434 Installing collected packages: pip, pipdeptree
#6 4.434   Attempting uninstall: pip
#6 4.435     Found existing installation: pip 23.0.1
#6 4.597     Uninstalling pip-23.0.1:
#6 4.749       Successfully uninstalled pip-23.0.1
#6 5.943 Successfully installed pip-24.3.1 pipdeptree-2.24.0
#6 5.943 WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv
#6 6.253 Cloning into 'Bagels'...
#6 8.498 Note: switching to 'd72d7fb5442f2b478741f1125a706fc9e3ad999e'.
#6 8.498 
#6 8.498 You are in 'detached HEAD' state. You can look around, make experimental
#6 8.498 changes and commit them, and you can discard any commits you make in this
#6 8.498 state without impacting any branches by switching back to a branch.
#6 8.498 
#6 8.498 If you want to create a new branch to retain commits you create, you may
#6 8.498 do so (now or later) by using -c with the switch command. Example:
#6 8.498 
#6 8.498   git switch -c <new-branch-name>
#6 8.498 
#6 8.498 Or undo this operation with:
#6 8.498 
#6 8.498   git switch -
#6 8.498 
#6 8.498 Turn off this advice by setting config variable advice.detachedHead to false
#6 8.498 
#6 8.498 HEAD is now at d72d7fb Merge pull request #12 from EnhancedJax/dev
#6 9.036 Looking in indexes: http://simple/
#6 9.086 Collecting freezegun==1.5.1
#6 9.105   Downloading http://packages/freezegun/freezegun-1.5.1-py3-none-any.whl (17 kB)
#6 9.148 Collecting python-dateutil>=2.7 (from freezegun==1.5.1)
#6 9.170   Downloading http://packages/python-dateutil/python_dateutil-2.9.0.post0-py2.py3-none-any.whl (229 kB)
#6 9.222 Collecting six>=1.5 (from python-dateutil>=2.7->freezegun==1.5.1)
#6 9.243   Downloading http://packages/six/six-1.17.0-py2.py3-none-any.whl (11 kB)
#6 9.291 Installing collected packages: six, python-dateutil, freezegun
#6 9.403 Successfully installed freezegun-1.5.1 python-dateutil-2.9.0.post0 six-1.17.0
#6 9.403 WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager, possibly rendering your system unusable.It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv. Use the --root-user-action option if you know what you are doing and want to suppress this warning.
#6 10.14 Looking in indexes: http://simple/
#6 10.90 Collecting sqlalchemy==2.0.36
#6 10.92   Downloading http://packages/sqlalchemy/SQLAlchemy-2.0.36-cp310-cp310-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (3.1 MB)
#6 10.96      ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 3.1/3.1 MB 94.6 MB/s eta 0:00:00
#6 11.04 Collecting typing-extensions>=4.6.0 (from sqlalchemy==2.0.36)
#6 11.06   Downloading http://packages/typing-extensions/typing_extensions-4.12.2-py3-none-any.whl (37 kB)
#6 11.39 Collecting greenlet!=0.4.17 (from sqlalchemy==2.0.36)
#6 11.41   Downloading http://packages/greenlet/greenlet-3.1.1-cp310-cp310-manylinux_2_24_x86_64.manylinux_2_28_x86_64.whl (599 kB)
#6 11.44      ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 599.5/599.5 kB 30.0 MB/s eta 0:00:00
#6 11.50 Installing collected packages: typing-extensions, greenlet, sqlalchemy
#6 13.15 Successfully installed greenlet-3.1.1 sqlalchemy-2.0.36 typing-extensions-4.12.2
#6 13.15 WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager, possibly rendering your system unusable.It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv. Use the --root-user-action option if you know what you are doing and want to suppress this warning.
#6 DONE 13.7s

#7 [4/9] RUN pip install pyyaml==6.0.2 &&     pip install rich==13.9.4
#7 1.103 Looking in indexes: http://simple/
#7 1.204 Collecting pyyaml==6.0.2
#7 1.223   Downloading http://packages/pyyaml/PyYAML-6.0.2-cp310-cp310-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (751 kB)
#7 1.253      ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 751.2/751.2 kB 38.7 MB/s eta 0:00:00
#7 1.344 Installing collected packages: pyyaml
#7 1.424 Successfully installed pyyaml-6.0.2
#7 1.425 WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager, possibly rendering your system unusable.It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv. Use the --root-user-action option if you know what you are doing and want to suppress this warning.
#7 2.133 Looking in indexes: http://simple/
#7 2.278 Collecting rich==13.9.4
#7 2.296   Downloading http://packages/rich/rich-13.9.4-py3-none-any.whl (242 kB)
#7 2.392 Collecting markdown-it-py>=2.2.0 (from rich==13.9.4)
#7 2.410   Downloading http://packages/markdown-it-py/markdown_it_py-3.0.0-py3-none-any.whl (87 kB)
#7 2.482 Collecting pygments<3.0.0,>=2.13.0 (from rich==13.9.4)
#7 2.500   Downloading http://packages/pygments/pygments-2.19.1-py3-none-any.whl (1.2 MB)
#7 2.535      ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 1.2/1.2 MB 54.7 MB/s eta 0:00:00
#7 2.547 Requirement already satisfied: typing-extensions<5.0,>=4.0.0 in /usr/local/lib/python3.10/site-packages (from rich==13.9.4) (4.12.2)
#7 2.567 Collecting mdurl~=0.1 (from markdown-it-py>=2.2.0->rich==13.9.4)
#7 2.587   Downloading http://packages/mdurl/mdurl-0.1.2-py3-none-any.whl (10.0 kB)
#7 2.670 Installing collected packages: pygments, mdurl, markdown-it-py, rich
#7 3.959 Successfully installed markdown-it-py-3.0.0 mdurl-0.1.2 pygments-2.19.1 rich-13.9.4
#7 3.960 WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager, possibly rendering your system unusable.It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv. Use the --root-user-action option if you know what you are doing and want to suppress this warning.
#7 DONE 4.4s

#8 [5/9] RUN pip install xdg-base-dirs==6.0.2 &&     pip install pydantic==2.10.3
#8 1.149 Looking in indexes: http://simple/
#8 1.274 Collecting xdg-base-dirs==6.0.2
#8 1.295   Downloading http://packages/xdg-base-dirs/xdg_base_dirs-6.0.2-py3-none-any.whl (4.7 kB)
#8 1.369 Installing collected packages: xdg-base-dirs
#8 1.384 Successfully installed xdg-base-dirs-6.0.2
#8 1.384 WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager, possibly rendering your system unusable.It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv. Use the --root-user-action option if you know what you are doing and want to suppress this warning.
#8 2.116 Looking in indexes: http://simple/
#8 2.419 Collecting pydantic==2.10.3
#8 2.441   Downloading http://packages/pydantic/pydantic-2.10.3-py3-none-any.whl (456 kB)
#8 2.501 Collecting annotated-types>=0.6.0 (from pydantic==2.10.3)
#8 2.518   Downloading http://packages/annotated-types/annotated_types-0.7.0-py3-none-any.whl (13 kB)
#8 3.945 Collecting pydantic-core==2.27.1 (from pydantic==2.10.3)
#8 3.969   Downloading http://packages/pydantic-core/pydantic_core-2.27.1-cp310-cp310-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (2.1 MB)
#8 4.093      ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 2.1/2.1 MB 72.2 MB/s eta 0:00:00
#8 4.109 Requirement already satisfied: typing-extensions>=4.12.2 in /usr/local/lib/python3.10/site-packages (from pydantic==2.10.3) (4.12.2)
#8 4.206 Installing collected packages: pydantic-core, annotated-types, pydantic
#8 4.730 Successfully installed annotated-types-0.7.0 pydantic-2.10.3 pydantic-core-2.27.1
#8 4.731 WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager, possibly rendering your system unusable.It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv. Use the --root-user-action option if you know what you are doing and want to suppress this warning.
#8 DONE 5.3s

#9 [6/9] RUN pip install pydantic-settings==2.7.0
#9 1.064 Looking in indexes: http://simple/
#9 1.113 Collecting pydantic-settings==2.7.0
#9 1.133   Downloading http://packages/pydantic-settings/pydantic_settings-2.7.0-py3-none-any.whl (29 kB)
#9 1.147 Requirement already satisfied: pydantic>=2.7.0 in /usr/local/lib/python3.10/site-packages (from pydantic-settings==2.7.0) (2.10.3)
#9 1.185 Collecting python-dotenv>=0.21.0 (from pydantic-settings==2.7.0)
#9 1.202   Downloading http://packages/python-dotenv/python_dotenv-1.0.1-py3-none-any.whl (19 kB)
#9 1.220 Requirement already satisfied: annotated-types>=0.6.0 in /usr/local/lib/python3.10/site-packages (from pydantic>=2.7.0->pydantic-settings==2.7.0) (0.7.0)
#9 1.221 Requirement already satisfied: pydantic-core==2.27.1 in /usr/local/lib/python3.10/site-packages (from pydantic>=2.7.0->pydantic-settings==2.7.0) (2.27.1)
#9 1.221 Requirement already satisfied: typing-extensions>=4.12.2 in /usr/local/lib/python3.10/site-packages (from pydantic>=2.7.0->pydantic-settings==2.7.0) (4.12.2)
#9 1.319 Installing collected packages: python-dotenv, pydantic-settings
#9 1.384 Successfully installed pydantic-settings-2.7.0 python-dotenv-1.0.1
#9 1.384 WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager, possibly rendering your system unusable.It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv. Use the --root-user-action option if you know what you are doing and want to suppress this warning.
#9 DONE 1.7s

#10 [7/9] RUN pip install pydantic-settings-yaml==0.2.0
#10 1.043 Looking in indexes: http://simple/
#10 1.090 Collecting pydantic-settings-yaml==0.2.0
#10 1.249   Downloading http://packages/pydantic-settings-yaml/pydantic_settings_yaml-0.2.0-py2.py3-none-any.whl (6.6 kB)
#10 1.260 Requirement already satisfied: pyYAML in /usr/local/lib/python3.10/site-packages (from pydantic-settings-yaml==0.2.0) (6.0.2)
#10 1.260 Requirement already satisfied: pydantic-settings<3.0,>=2.0 in /usr/local/lib/python3.10/site-packages (from pydantic-settings-yaml==0.2.0) (2.7.0)
#10 1.264 Requirement already satisfied: pydantic>=2.7.0 in /usr/local/lib/python3.10/site-packages (from pydantic-settings<3.0,>=2.0->pydantic-settings-yaml==0.2.0) (2.10.3)
#10 1.265 Requirement already satisfied: python-dotenv>=0.21.0 in /usr/local/lib/python3.10/site-packages (from pydantic-settings<3.0,>=2.0->pydantic-settings-yaml==0.2.0) (1.0.1)
#10 1.273 Requirement already satisfied: annotated-types>=0.6.0 in /usr/local/lib/python3.10/site-packages (from pydantic>=2.7.0->pydantic-settings<3.0,>=2.0->pydantic-settings-yaml==0.2.0) (0.7.0)
#10 1.273 Requirement already satisfied: pydantic-core==2.27.1 in /usr/local/lib/python3.10/site-packages (from pydantic>=2.7.0->pydantic-settings<3.0,>=2.0->pydantic-settings-yaml==0.2.0) (2.27.1)
#10 1.274 Requirement already satisfied: typing-extensions>=4.12.2 in /usr/local/lib/python3.10/site-packages (from pydantic>=2.7.0->pydantic-settings<3.0,>=2.0->pydantic-settings-yaml==0.2.0) (4.12.2)
#10 1.340 Installing collected packages: pydantic-settings-yaml
#10 1.360 Successfully installed pydantic-settings-yaml-0.2.0
#10 1.360 WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager, possibly rendering your system unusable.It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv. Use the --root-user-action option if you know what you are doing and want to suppress this warning.
#10 DONE 1.7s

#11 [8/9] RUN cd /repo && pytest --collect-only -q
#11 1.615 tests/managers/test_account.py::test_create_account
#11 1.615 tests/managers/test_account.py::test_get_all_accounts
#11 1.615 tests/managers/test_account.py::test_get_accounts_count
#11 1.615 tests/managers/test_account.py::test_get_account_by_id
#11 1.615 tests/managers/test_account.py::test_get_nonexistent_account
#11 1.615 tests/managers/test_account.py::test_update_account
#11 1.615 tests/managers/test_account.py::test_update_nonexistent_account
#11 1.615 tests/managers/test_account.py::test_delete_account
#11 1.615 tests/managers/test_account.py::test_delete_nonexistent_account
#11 1.615 tests/managers/test_account_balance.py::test_basic_balance_calculation
#11 1.615 tests/managers/test_account_balance.py::test_transfer_balance_calculation
#11 1.615 tests/managers/test_account_balance.py::test_split_balance_calculation
#11 1.615 tests/managers/test_account_balance.py::test_combined_balance_calculation
#11 1.615 tests/managers/test_category.py::test_create_category
#11 1.615 tests/managers/test_category.py::test_create_subcategory
#11 1.615 tests/managers/test_category.py::test_get_categories_count
#11 1.615 tests/managers/test_category.py::test_get_all_categories_tree
#11 1.615 tests/managers/test_category.py::test_get_all_categories_by_freq
#11 1.615 tests/managers/test_category.py::test_get_category_by_id
#11 1.615 tests/managers/test_category.py::test_get_nonexistent_category
#11 1.615 tests/managers/test_category.py::test_update_category
#11 1.615 tests/managers/test_category.py::test_update_nonexistent_category
#11 1.615 tests/managers/test_category.py::test_delete_category
#11 1.615 tests/managers/test_category.py::test_delete_nonexistent_category
#11 1.615 tests/managers/test_person.py::test_create_person
#11 1.615 tests/managers/test_person.py::test_get_all_persons
#11 1.615 tests/managers/test_person.py::test_get_person_by_id
#11 1.615 tests/managers/test_person.py::test_get_nonexistent_person
#11 1.615 tests/managers/test_person.py::test_update_person
#11 1.615 tests/managers/test_person.py::test_update_nonexistent_person
#11 1.615 tests/managers/test_person.py::test_delete_person
#11 1.615 tests/managers/test_person.py::test_delete_nonexistent_person
#11 1.615 tests/managers/test_record_template.py::test_create_template
#11 1.615 tests/managers/test_record_template.py::test_create_multiple_templates
#11 1.615 tests/managers/test_record_template.py::test_get_all_templates
#11 1.615 tests/managers/test_record_template.py::test_get_template_by_id
#11 1.615 tests/managers/test_record_template.py::test_get_nonexistent_template
#11 1.615 tests/managers/test_record_template.py::test_get_adjacent_template
#11 1.615 tests/managers/test_record_template.py::test_update_template
#11 1.615 tests/managers/test_record_template.py::test_update_nonexistent_template
#11 1.615 tests/managers/test_record_template.py::test_swap_template_order
#11 1.615 tests/managers/test_record_template.py::test_swap_template_order_edge_cases
#11 1.615 tests/managers/test_record_template.py::test_delete_template
#11 1.615 tests/managers/test_record_template.py::test_delete_nonexistent_template
#11 1.615 tests/managers/test_record_template.py::test_template_validation
#11 1.615 tests/managers/test_utils.py::test_get_start_end_of_year
#11 1.615 tests/managers/test_utils.py::test_get_start_end_of_month
#11 1.615 tests/managers/test_utils.py::test_get_start_end_of_week
#11 1.615 tests/managers/test_utils.py::test_get_start_end_of_day
#11 1.615 tests/managers/test_utils.py::test_get_start_end_of_period
#11 1.615 tests/managers/test_utils.py::test_get_period_figures
#11 1.615 tests/managers/test_utils.py::test_get_days_in_period
#11 1.615 tests/managers/test_utils.py::test_get_period_average
#11 1.615 
#11 1.615 53 tests collected in 0.83s
#11 DONE 2.0s

#12 exporting to image
#12 exporting layers
#12 exporting layers 0.5s done
#12 writing image sha256:d7c590c6c12c9c68b7d41cef2799d230800377853f3b089fd3ff1084270e7ad0 done
#12 naming to docker.io/library/tmp:tmp done
#12 DONE 0.6s
