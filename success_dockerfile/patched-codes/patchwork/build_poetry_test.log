#0 building with "default" instance using docker driver

#1 [internal] load build definition from Dockerfile
#1 transferring dockerfile: 1.14kB done
#1 DONE 0.0s

#2 [internal] load metadata for docker.io/library/python:3.10
#2 DONE 0.0s

#3 [internal] load .dockerignore
#3 transferring context: 2B done
#3 DONE 0.0s

#4 [1/5] FROM docker.io/library/python:3.10
#4 DONE 0.0s

#5 [2/5] RUN mkdir -p ~/.pip && touch ~/.pip/pip.conf &&     echo "[global]" >> ~/.pip/pip.conf && echo "index-url=http://simple/" >> ~/.pip/pip.conf && echo "[install]" >> ~/.pip/pip.conf && echo "trusted-host=pypi..org" >> ~/.pip/pip.conf &&     apt-get update && apt-get install -y curl &&     curl -sSL https://install.python-poetry.org | python -
#5 CACHED

#6 [3/5] RUN pip install pytest pytest-xdist &&     pip install pipdeptree &&     git clone https://github.com/patched-codes/patchwork.git &&     mkdir /repo &&     git config --global --add safe.directory /repo &&     cp -r /patchwork/. /repo && rm -rf /patchwork/ &&     rm -rf /patchwork &&     cd /repo && git checkout c9b02b065780cb9f4b6c16a2d86a2a328ffd0fc5 &&     cd /repo && poetry install &&     cd /repo && poetry install --extras "rag notifications"
#6 CACHED

#7 [4/5] RUN cd /repo && poetry run pytest --collect-only -q
#7 20.24 tests/common/context_strategy/test_java.py::test_java_strategy[strategy0-expected_range0]
#7 20.24 tests/common/context_strategy/test_java.py::test_java_strategy[strategy1-expected_range1]
#7 20.24 tests/common/context_strategy/test_java.py::test_java_strategy[strategy2-expected_range2]
#7 20.24 tests/common/context_strategy/test_javascript.py::test_js_strategy_contexts[strategy0-1-lines0]
#7 20.24 tests/common/context_strategy/test_javascript.py::test_js_strategy_contexts[strategy1-4-lines1]
#7 20.24 tests/common/context_strategy/test_javascript.py::test_js_strategy_contexts[strategy2-5-lines2]
#7 20.24 tests/common/context_strategy/test_javascript.py::test_js_strategy_contexts[strategy3-1-lines3]
#7 20.24 tests/common/context_strategy/test_javascript.py::test_js_strategy_contexts[strategy4-4-lines4]
#7 20.24 tests/common/context_strategy/test_javascript.py::test_js_strategy_contexts[strategy5-5-lines5]
#7 20.24 tests/common/context_strategy/test_javascript.py::test_js_strategy_line_context_misses[strategy0-line_range0-lines0]
#7 20.24 tests/common/context_strategy/test_javascript.py::test_js_strategy_line_context_misses[strategy1-line_range1-lines1]
#7 20.24 tests/common/context_strategy/test_javascript.py::test_js_strategy_line_context_misses[strategy2-line_range2-lines2]
#7 20.24 tests/common/context_strategy/test_javascript.py::test_js_strategy_line_context_misses[strategy3-line_range3-lines3]
#7 20.24 tests/common/context_strategy/test_javascript.py::test_js_strategy_line_context_misses[strategy4-line_range4-lines4]
#7 20.24 tests/common/context_strategy/test_javascript.py::test_js_strategy_line_context_misses[strategy5-line_range5-lines5]
#7 20.24 tests/common/context_strategy/test_javascript.py::test_js_strategy_line_context[strategy0-line_range0-expected_range0-lines0]
#7 20.24 tests/common/context_strategy/test_javascript.py::test_js_strategy_line_context[strategy1-line_range1-expected_range1-lines1]
#7 20.24 tests/common/context_strategy/test_javascript.py::test_js_strategy_line_context[strategy2-line_range2-expected_range2-lines2]
#7 20.24 tests/common/context_strategy/test_javascript.py::test_js_strategy_line_context[strategy3-line_range3-expected_range3-lines3]
#7 20.24 tests/common/context_strategy/test_javascript.py::test_js_strategy_line_context[strategy4-line_range4-expected_range4-lines4]
#7 20.24 tests/common/context_strategy/test_javascript.py::test_js_strategy_line_context[strategy5-line_range5-expected_range5-lines5]
#7 20.24 tests/common/test_app.py::test_default_list_option_callback
#7 20.24 tests/common/test_app.py::test_config_list_option_callback
#7 20.24 tests/common/test_app.py::test_cli_success
#7 20.24 tests/common/test_app.py::test_cli_failure
#7 20.24 tests/common/test_app.py::test_default_find_module
#7 20.24 tests/common/test_app.py::test_config_find_module
#7 20.24 tests/common/utils/test_step_typing.py::test_valid_input_keys
#7 20.24 tests/common/utils/test_step_typing.py::test_invalid_input_keys
#7 20.24 tests/common/utils/test_step_typing.py::test_validate_step_type_config[key1-input_keys0-step_type_config0-expected0]
#7 20.24 tests/common/utils/test_step_typing.py::test_validate_step_type_config[key1-input_keys1-step_type_config1-expected1]
#7 20.24 tests/common/utils/test_step_typing.py::test_validate_step_type_config[key1-input_keys2-step_type_config2-expected2]
#7 20.24 tests/common/utils/test_step_typing.py::test_validate_step_type_config[key1-input_keys3-step_type_config3-expected3]
#7 20.24 tests/common/utils/test_step_typing.py::test_validate_step_type_config[key1-input_keys4-step_type_config4-expected4]
#7 20.24 tests/common/utils/test_step_typing.py::test_validate_step_type_config[key1-input_keys5-step_type_config5-expected5]
#7 20.24 tests/common/utils/test_step_typing.py::test_validate_step_type_config[key1-input_keys6-step_type_config6-expected6]
#7 20.24 tests/common/utils/test_step_typing.py::test_validate_step_type_config[key1-input_keys7-step_type_config7-expected7]
#7 20.24 tests/common/utils/test_step_typing.py::test_validate_step_type_config[key1-input_keys8-step_type_config8-expected8]
#7 20.24 tests/steps/test_CallAPI.py::test_call_api_outputs[GET-/-None-None-200]
#7 20.24 tests/steps/test_CallAPI.py::test_call_api_outputs[POST-/-None-None-200]
#7 20.24 tests/steps/test_CallAPI.py::test_call_api_outputs[POST-/-None-None-404]
#7 20.24 tests/steps/test_CallAPI.py::test_call_api_outputs[POST-/something-None-None-200]
#7 20.24 tests/steps/test_CallAPI.py::test_call_api_outputs[POST-/something-headers4-None-200]
#7 20.24 tests/steps/test_CallAPI.py::test_call_api_outputs[POST-/something-{"header1": "value"}-None-200]
#7 20.24 tests/steps/test_CallAPI.py::test_call_api_outputs[POST-/something-headers6-something-200]
#7 20.24 tests/steps/test_CallAPI.py::test_call_api_outputs[POST-/something-headers7-body7-200]
#7 20.24 tests/steps/test_CallAPI.py::test_call_api_outputs[POST-/something-headers8-{"key": "value"}-200]
#7 20.24 tests/steps/test_CreateIssue.py::test_init_missing_required_keys[inputs0]
#7 20.24 tests/steps/test_CreateIssue.py::test_init_missing_required_keys[inputs1]
#7 20.24 tests/steps/test_CreateIssue.py::test_init_missing_required_keys[inputs2]
#7 20.24 tests/steps/test_CreateIssue.py::test_init_missing_required_keys[inputs3]
#7 20.24 tests/steps/test_CreateIssue.py::test_init_required_keys
#7 20.24 tests/steps/test_CreateIssue.py::test_run
#7 20.24 tests/steps/test_ExtractCode.py::test_extract_code_init
#7 20.24 tests/steps/test_ExtractCode.py::test_extract_code_run
#7 20.24 tests/steps/test_ExtractCode.py::test_extract_code_run_with_fix
#7 20.24 tests/steps/test_ExtractModelResponse.py::test_init_required_keys
#7 20.24 tests/steps/test_ExtractModelResponse.py::test_init_missing_required_keys
#7 20.24 tests/steps/test_ExtractModelResponse.py::test_run_no_partitions
#7 20.24 tests/steps/test_ExtractModelResponse.py::test_run_with_partitions
#7 20.24 tests/steps/test_GenerateEmbeddings.py::test_filter_by_extension
#7 20.24 tests/steps/test_GenerateEmbeddings.py::test_generate_embeddings_init
#7 20.24 tests/steps/test_GenerateEmbeddings.py::test_generate_embeddings_run
#7 20.24 tests/steps/test_GenerateEmbeddings.py::test_generate_embeddings_init_required_keys_missing
#7 20.24 tests/steps/test_GenerateEmbeddings.py::test_generate_embeddings_init_embedding_name_missing
#7 20.24 tests/steps/test_ModifyCode.py::test_save_file_contents
#7 20.24 tests/steps/test_ModifyCode.py::test_handle_indent[src0-target0-expected0]
#7 20.24 tests/steps/test_ModifyCode.py::test_handle_indent[src1-target1-expected1]
#7 20.24 tests/steps/test_ModifyCode.py::test_handle_indent[src2-target2-expected2]
#7 20.24 tests/steps/test_ModifyCode.py::test_handle_indent[src3-target3-expected3]
#7 20.24 tests/steps/test_ModifyCode.py::test_handle_indent[src4-target4-expected4]
#7 20.24 tests/steps/test_ModifyCode.py::test_handle_indent[src5-target5-expected5]
#7 20.24 tests/steps/test_ModifyCode.py::test_replace_code_in_file
#7 20.24 tests/steps/test_ModifyCode.py::test_modify_code_init
#7 20.24 tests/steps/test_ModifyCode.py::test_modify_code_run
#7 20.24 tests/steps/test_ModifyCode.py::test_modify_code_none_edit
#7 20.24 tests/steps/test_PreparePR.py::test_init_required_keys
#7 20.24 tests/steps/test_PreparePR.py::test_init_inputs
#7 20.24 tests/steps/test_PreparePR.py::test_run
#7 20.24 tests/steps/test_PreparePR.py::test_run_no_modified_files
#7 20.24 tests/steps/test_PreparePR.py::test_init_missing_required_keys
#7 20.24 tests/steps/test_PreparePR.py::test_run_pr_header_override
#7 20.24 tests/steps/test_PreparePrompt.py::test_prepare_prompt_required_keys[keys0]
#7 20.24 tests/steps/test_PreparePrompt.py::test_prepare_prompt_required_keys[keys1]
#7 20.24 tests/steps/test_PreparePrompt.py::test_prepare_prompt_required_keys[keys2]
#7 20.24 tests/steps/test_PreparePrompt.py::test_prepare_prompt_required_keys[keys3]
#7 20.24 tests/steps/test_PreparePrompt.py::test_prepare_prompt_required_keys[keys4]
#7 20.24 tests/steps/test_PreparePrompt.py::test_prepare_prompt_required_keys[keys5]
#7 20.24 tests/steps/test_PreparePrompt.py::test_prepare_prompt_required_keys[keys6]
#7 20.24 tests/steps/test_PreparePrompt.py::test_prepare_prompt_required_keys[keys7]
#7 20.24 tests/steps/test_PreparePrompt.py::test_prepare_prompt_required_keys[keys8]
#7 20.24 tests/steps/test_PreparePrompt.py::test_prepare_prompt_required_keys[keys9]
#7 20.24 tests/steps/test_PreparePrompt.py::test_prepare_prompt_required_keys[keys10]
#7 20.24 tests/steps/test_PreparePrompt.py::test_prepare_prompt_required_keys[keys11]
#7 20.24 tests/steps/test_PreparePrompt.py::test_prepare_prompt_non_existent_files[keys0]
#7 20.24 tests/steps/test_PreparePrompt.py::test_prepare_prompt_non_existent_files[keys1]
#7 20.24 tests/steps/test_PreparePrompt.py::test_prepare_prompt_non_existent_files[keys2]
#7 20.24 tests/steps/test_PreparePrompt.py::test_prepare_prompt_prompt_values[prompt_values]
#7 20.24 tests/steps/test_PreparePrompt.py::test_prepare_prompt_prompt_values[prompt_value_file]
#7 20.24 tests/steps/test_PreparePrompt.py::test_prepare_prompt_prompts
#7 20.24 tests/steps/test_QueryEmbeddings.py::test_required_keys
#7 20.24 tests/steps/test_QueryEmbeddings.py::test_missing_required_key
#7 20.24 tests/steps/test_QueryEmbeddings.py::test_query_results
#7 20.24 tests/steps/test_QueryEmbeddings.py::test_top_k[1]
#7 20.24 tests/steps/test_QueryEmbeddings.py::test_top_k[2]
#7 20.24 tests/steps/test_QueryEmbeddings.py::test_top_k[3]
#7 20.24 tests/steps/test_ReadIssues.py::test_read_issues[inputs_extra0-patchwork.common.client.scm.GithubClient.find_issue_by_url-issue_texts0]
#7 20.24 tests/steps/test_ReadIssues.py::test_read_issues[inputs_extra1-patchwork.common.client.scm.GitlabClient.find_issue_by_url-issue_texts1]
#7 20.24 tests/steps/test_ReadPRDiffs.py::test_read_prdiffs[inputs_extra0-patchwork.common.client.scm.GithubClient.get_pr_by_url-texts0-expected0]
#7 20.24 tests/steps/test_ReadPRDiffs.py::test_read_prdiffs[inputs_extra1-patchwork.common.client.scm.GitlabClient.get_pr_by_url-texts1-expected1]
#7 20.24 tests/steps/test_ReadPRDiffs.py::test_read_prdiffs[inputs_extra2-patchwork.common.client.scm.GithubClient.get_pr_by_url-texts2-expected2]
#7 20.24 tests/steps/test_ScanDepscan.py::test_run
#7 20.24 tests/steps/test_ScanSemgrep.py::test_scan_semgrep_enabled
#7 20.24 tests/steps/test_ScanSemgrep.py::test_scan_semgrep_file
#7 20.24 tests/steps/test_ScanSemgrep.py::test_scan_semgrep_raises
#7 20.24 tests/steps/test_SimplifiedLLM.py::test_invalid[inputs0]
#7 20.24 tests/steps/test_SimplifiedLLM.py::test_non_json_run
#7 20.24 tests/steps/test_SimplifiedLLM.py::test_json_run
#7 20.24 tests/steps/test_SlackMessage.py::test_slack_message_init_valid_inputs
#7 20.24 tests/steps/test_SlackMessage.py::test_slack_message_init_missing_required_key[inputs0]
#7 20.24 tests/steps/test_SlackMessage.py::test_slack_message_init_missing_required_key[inputs1]
#7 20.24 tests/steps/test_SlackMessage.py::test_slack_message_init_missing_required_key[inputs2]
#7 20.24 tests/steps/test_SlackMessage.py::test_slack_message_init_missing_required_key[inputs3]
#7 20.24 tests/steps/test_SlackMessage.py::test_slack_message_init_missing_required_key[inputs4]
#7 20.24 tests/steps/test_SlackMessage.py::test_slack_message_init_missing_required_key[inputs5]
#7 20.24 tests/steps/test_SlackMessage.py::test_slack_message_run
#7 20.24 
#7 20.24 126 tests collected in 17.86s
#7 DONE 21.8s

#8 exporting to image
#8 exporting layers
#8 exporting layers 70.8s done
#8 writing image sha256:09fbab43eee11b43ea224c0bf20af082f8949c69b6beeba14804e31c83e9bf14 done
#8 naming to docker.io/library/tmp:tmp done
#8 DONE 70.8s
