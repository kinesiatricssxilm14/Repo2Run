#0 building with "default" instance using docker driver

#1 [internal] load build definition from Dockerfile
#1 transferring dockerfile: 1.48kB done
#1 DONE 0.0s

#2 [internal] load metadata for docker.io/library/python:3.11
#2 DONE 0.0s

#3 [internal] load .dockerignore
#3 transferring context: 2B done
#3 DONE 0.0s

#4 [1/7] FROM docker.io/library/python:3.11
#4 CACHED

#5 [internal] load build context
#5 transferring context: 24.39kB done
#5 DONE 0.0s

#6 [2/7] COPY search_patch /search_patch
#6 DONE 0.0s

#7 [3/7] COPY code_edit.py /code_edit.py
#7 DONE 0.0s

#8 [4/7] RUN mkdir -p ~/.pip && touch ~/.pip/pip.conf &&     echo "[global]" >> ~/.pip/pip.conf && echo "index-url=http://simple/" >> ~/.pip/pip.conf && echo "[install]" >> ~/.pip/pip.conf && echo "trusted-host=pypi..org" >> ~/.pip/pip.conf &&     apt-get update && apt-get install -y curl &&     curl -sSL https://install.python-poetry.org | python -
#8 0.741 Get:1 http://deb.debian.org/debian bookworm InRelease [151 kB]
#8 1.097 Get:2 http://deb.debian.org/debian bookworm-updates InRelease [55.4 kB]
#8 1.255 Get:3 http://deb.debian.org/debian-security bookworm-security InRelease [48.0 kB]
#8 1.415 Get:4 http://deb.debian.org/debian bookworm/main amd64 Packages [8789 kB]
#8 1.944 Get:5 http://deb.debian.org/debian bookworm-updates/main amd64 Packages [8856 B]
#8 2.097 Get:6 http://deb.debian.org/debian-security bookworm-security/main amd64 Packages [240 kB]
#8 3.248 Fetched 9292 kB in 3s (3453 kB/s)
#8 3.248 Reading package lists...
#8 4.012 Reading package lists...
#8 4.782 Building dependency tree...
#8 5.018 Reading state information...
#8 5.412 curl is already the newest version (7.88.1-10+deb12u8).
#8 5.412 0 upgraded, 0 newly installed, 0 to remove and 0 not upgraded.
#8 25.96 Retrieving Poetry metadata
#8 25.96 
#8 25.96 # Welcome to Poetry!
#8 25.96 
#8 25.96 This will download and install the latest version of Poetry,
#8 25.96 a dependency and package manager for Python.
#8 25.96 
#8 25.96 It will add the `poetry` command to Poetry's bin directory, located at:
#8 25.96 
#8 25.96 /root/.local/bin
#8 25.96 
#8 25.96 You can uninstall at any time by executing this script with the --uninstall option,
#8 25.96 and these changes will be reverted.
#8 25.96 
#8 25.96 Installing Poetry (2.0.0)
#8 25.96 Installing Poetry (2.0.0): Creating environment
#8 25.96 Installing Poetry (2.0.0): Installing Poetry
#8 25.96 Installing Poetry (2.0.0): Creating script
#8 25.96 Installing Poetry (2.0.0): Done
#8 25.96 
#8 25.96 Poetry (2.0.0) is installed now. Great!
#8 25.96 
#8 25.96 To get started you need Poetry's bin directory (/root/.local/bin) in your `PATH`
#8 25.96 environment variable.
#8 25.96 
#8 25.96 Add `export PATH="/root/.local/bin:$PATH"` to your shell configuration file.
#8 25.96 
#8 25.96 Alternatively, you can call Poetry explicitly with `/root/.local/bin/poetry`.
#8 25.96 
#8 25.96 You can test that everything is set up by executing:
#8 25.96 
#8 25.96 `poetry --version`
#8 25.96 
#8 DONE 26.3s

#9 [5/7] RUN pip install pytest pytest-xdist &&     pip install pipdeptree &&     git clone https://github.com/gregpr07/browser-use.git &&     mkdir /repo &&     git config --global --add safe.directory /repo &&     cp -r /browser-use/. /repo && rm -rf /browser-use/ &&     rm -rf /browser-use &&     cd /repo && git checkout 5e545d7242762b1bcc014aaabe641e72c161f6f8 &&     cd /repo && pip install MainContentExtractor>=0.0.4 beautifulsoup4>=4.12.3 httpx==0.27.2 langchain>=0.3.9 langchain-openai>=0.2.10 langchain-anthropic>=0.3.0 langchain-fireworks>=0.2.5 pydantic>=2.10.2 python-dotenv>=1.0.1 requests>=2.32.3 posthog>=3.7.4 playwright>=1.49.0 &&     cd /repo && pip install pytest==8.3.4 pytest-asyncio==0.25.0
#9 2.066 Looking in indexes: http://simple/
#9 2.190 Collecting pytest
#9 2.208   Downloading http://packages/pytest/pytest-8.3.4-py3-none-any.whl (343 kB)
#9 2.235      ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 343.1/343.1 kB 14.8 MB/s eta 0:00:00
#9 2.296 Collecting pytest-xdist
#9 2.314   Downloading http://packages/pytest-xdist/pytest_xdist-3.6.1-py3-none-any.whl (46 kB)
#9 2.324      ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 46.1/46.1 kB 5.8 MB/s eta 0:00:00
#9 2.371 Collecting iniconfig (from pytest)
#9 2.391   Downloading http://packages/iniconfig/iniconfig-2.0.0-py3-none-any.whl (5.9 kB)
#9 2.445 Collecting packaging (from pytest)
#9 2.447   Using cached http://packages/packaging/packaging-24.2-py3-none-any.whl (65 kB)
#9 2.484 Collecting pluggy<2,>=1.5 (from pytest)
#9 2.502   Downloading http://packages/pluggy/pluggy-1.5.0-py3-none-any.whl (20 kB)
#9 2.555 Collecting execnet>=2.1 (from pytest-xdist)
#9 2.572   Downloading http://packages/execnet/execnet-2.1.1-py3-none-any.whl (40 kB)
#9 2.582      ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 40.6/40.6 kB 4.6 MB/s eta 0:00:00
#9 2.695 Installing collected packages: pluggy, packaging, iniconfig, execnet, pytest, pytest-xdist
#9 3.255 Successfully installed execnet-2.1.1 iniconfig-2.0.0 packaging-24.2 pluggy-1.5.0 pytest-8.3.4 pytest-xdist-3.6.1
#9 3.255 WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv
#9 3.352 
#9 3.352 [notice] A new release of pip is available: 24.0 -> 24.3.1
#9 3.352 [notice] To update, run: pip install --upgrade pip
#9 4.031 Looking in indexes: http://simple/
#9 4.104 Collecting pipdeptree
#9 4.128   Downloading http://packages/pipdeptree/pipdeptree-2.24.0-py3-none-any.whl (32 kB)
#9 4.153 Requirement already satisfied: packaging>=24.1 in /usr/local/lib/python3.11/site-packages (from pipdeptree) (24.2)
#9 4.251 Collecting pip>=24.2 (from pipdeptree)
#9 4.253   Using cached http://packages/pip/pip-24.3.1-py3-none-any.whl (1.8 MB)
#9 4.362 Installing collected packages: pip, pipdeptree
#9 4.362   Attempting uninstall: pip
#9 4.366     Found existing installation: pip 24.0
#9 4.421     Uninstalling pip-24.0:
#9 4.633       Successfully uninstalled pip-24.0
#9 5.804 Successfully installed pip-24.3.1 pipdeptree-2.24.0
#9 5.804 WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv
#9 6.066 Cloning into 'browser-use'...
#9 8.488 Note: switching to '5e545d7242762b1bcc014aaabe641e72c161f6f8'.
#9 8.488 
#9 8.488 You are in 'detached HEAD' state. You can look around, make experimental
#9 8.488 changes and commit them, and you can discard any commits you make in this
#9 8.488 state without impacting any branches by switching back to a branch.
#9 8.488 
#9 8.488 If you want to create a new branch to retain commits you create, you may
#9 8.488 do so (now or later) by using -c with the switch command. Example:
#9 8.488 
#9 8.488   git switch -c <new-branch-name>
#9 8.488 
#9 8.488 Or undo this operation with:
#9 8.488 
#9 8.488   git switch -
#9 8.488 
#9 8.488 Turn off this advice by setting config variable advice.detachedHead to false
#9 8.488 
#9 8.488 HEAD is now at 5e545d7 default window size squareish
#9 38.33 WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager, possibly rendering your system unusable.It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv. Use the --root-user-action option if you know what you are doing and want to suppress this warning.
#9 40.62 Looking in indexes: http://simple/
#9 40.62 Requirement already satisfied: pytest==8.3.4 in /usr/local/lib/python3.11/site-packages (8.3.4)
#9 40.68 Collecting pytest-asyncio==0.25.0
#9 40.71   Downloading http://packages/pytest-asyncio/pytest_asyncio-0.25.0-py3-none-any.whl (19 kB)
#9 40.73 Requirement already satisfied: iniconfig in /usr/local/lib/python3.11/site-packages (from pytest==8.3.4) (2.0.0)
#9 40.73 Requirement already satisfied: packaging in /usr/local/lib/python3.11/site-packages (from pytest==8.3.4) (24.2)
#9 40.73 Requirement already satisfied: pluggy<2,>=1.5 in /usr/local/lib/python3.11/site-packages (from pytest==8.3.4) (1.5.0)
#9 40.87 Installing collected packages: pytest-asyncio
#9 40.90 Successfully installed pytest-asyncio-0.25.0
#9 40.90 WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager, possibly rendering your system unusable.It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv. Use the --root-user-action option if you know what you are doing and want to suppress this warning.
#9 DONE 41.9s

#10 [6/7] RUN cd /repo && pytest --collect-only -q
#10 9.268 ============================= test session starts ==============================
#10 9.268 platform linux -- Python 3.11.11, pytest-8.3.4, pluggy-1.5.0
#10 9.268 rootdir: /repo
#10 9.268 configfile: pytest.ini
#10 9.268 testpaths: tests
#10 9.268 plugins: asyncio-0.25.0, anyio-4.8.0, xdist-3.6.1
#10 9.268 asyncio: mode=Mode.AUTO, asyncio_default_fixture_loop_scope=function
#10 9.268 collected 30 items
#10 9.268 
#10 9.268 <Dir repo>
#10 9.268   <Dir tests>
#10 9.268     <Module test_agent_actions.py>
#10 9.268       <Coroutine test_ecommerce_interaction>
#10 9.268       <Coroutine test_error_recovery>
#10 9.268       <Coroutine test_find_contact_email>
#10 9.268       <Coroutine test_agent_finds_installation_command>
#10 9.268       <Coroutine test_captcha_solver[captcha0]>
#10 9.268       <Coroutine test_captcha_solver[captcha1]>
#10 9.268       <Coroutine test_captcha_solver[captcha2]>
#10 9.268       <Coroutine test_captcha_solver[captcha3]>
#10 9.268     <Module test_attach_chrome.py>
#10 9.268       <Coroutine test_full_screen>
#10 9.268     <Module test_core_functionality.py>
#10 9.268       <Coroutine test_search_google>
#10 9.268       <Coroutine test_go_to_url>
#10 9.268       <Coroutine test_go_back>
#10 9.268       <Coroutine test_click_element>
#10 9.268       <Coroutine test_input_text>
#10 9.268       <Coroutine test_switch_tab>
#10 9.268       <Coroutine test_open_new_tab>
#10 9.268       <Coroutine test_extract_page_content>
#10 9.268       <Coroutine test_done_action>
#10 9.268       <Coroutine test_scroll_down>
#10 9.268     <Module test_dropdown.py>
#10 9.268       <Coroutine test_dropdown>
#10 9.268     <Module test_full_screen.py>
#10 9.268       <Coroutine test_full_screen>
#10 9.268     <Module test_mind2web.py>
#10 9.268       <Coroutine test_random_samples>
#10 9.268       <Function test_dataset_integrity>
#10 9.268     <Module test_self_registered_actions.py>
#10 9.268       <Coroutine test_self_registered_actions_no_pydantic>
#10 9.268       <Coroutine test_mixed_arguments_actions>
#10 9.268       <Coroutine test_pydantic_simple_model>
#10 9.268       <Coroutine test_pydantic_nested_model>
#10 9.268     <Module test_stress.py>
#10 9.268       <Coroutine test_token_limit_with_multiple_extractions>
#10 9.268       <Coroutine test_open_3_tabs_and_extract_content[4000]>
#10 9.268     <Module test_vision.py>
#10 9.268       <Coroutine test_vision>
#10 9.268 
#10 9.268 ========================= 30 tests collected in 5.45s ==========================
#10 DONE 10.9s

#11 exporting to image
#11 exporting layers
#11 exporting layers 3.7s done
#11 writing image sha256:de2a3aa28deb68172b54c37c70df93ed6c56bc00f373a2c315b77d8ef519eede done
#11 naming to docker.io/library/tmp:tmp done
#11 DONE 3.7s
