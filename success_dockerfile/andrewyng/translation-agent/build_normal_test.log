#0 building with "default" instance using docker driver

#1 [internal] load build definition from Dockerfile
#1 transferring dockerfile: 1.52kB done
#1 DONE 0.0s

#2 [internal] load metadata for docker.io/library/python:3.10
#2 DONE 0.0s

#3 [internal] load .dockerignore
#3 transferring context: 2B done
#3 DONE 0.0s

#4 [internal] load build context
#4 transferring context: 23.94kB done
#4 DONE 0.0s

#5 [1/8] FROM docker.io/library/python:3.10
#5 CACHED

#6 [2/8] COPY search_patch /search_patch
#6 DONE 0.0s

#7 [3/8] COPY code_edit.py /code_edit.py
#7 DONE 0.0s

#8 [4/8] RUN mkdir -p ~/.pip && touch ~/.pip/pip.conf &&     echo "[global]" >> ~/.pip/pip.conf && echo "index-url=http://simple/" >> ~/.pip/pip.conf && echo "[install]" >> ~/.pip/pip.conf && echo "trusted-host=pypi..org" >> ~/.pip/pip.conf &&     apt-get update && apt-get install -y curl &&     curl -sSL https://install.python-poetry.org | python -
#8 0.554 Get:1 http://deb.debian.org/debian bookworm InRelease [151 kB]
#8 0.908 Get:2 http://deb.debian.org/debian bookworm-updates InRelease [55.4 kB]
#8 1.005 Get:3 http://deb.debian.org/debian-security bookworm-security InRelease [48.0 kB]
#8 1.102 Get:4 http://deb.debian.org/debian bookworm/main amd64 Packages [8789 kB]
#8 1.656 Get:5 http://deb.debian.org/debian bookworm-updates/main amd64 Packages [8856 B]
#8 1.808 Get:6 http://deb.debian.org/debian-security bookworm-security/main amd64 Packages [240 kB]
#8 2.920 Fetched 9292 kB in 3s (3663 kB/s)
#8 2.920 Reading package lists...
#8 3.711 Reading package lists...
#8 4.436 Building dependency tree...
#8 4.681 Reading state information...
#8 5.061 curl is already the newest version (7.88.1-10+deb12u8).
#8 5.061 0 upgraded, 0 newly installed, 0 to remove and 0 not upgraded.
#8 25.37 Retrieving Poetry metadata
#8 25.37 
#8 25.37 # Welcome to Poetry!
#8 25.37 
#8 25.37 This will download and install the latest version of Poetry,
#8 25.37 a dependency and package manager for Python.
#8 25.37 
#8 25.37 It will add the `poetry` command to Poetry's bin directory, located at:
#8 25.37 
#8 25.37 /root/.local/bin
#8 25.37 
#8 25.37 You can uninstall at any time by executing this script with the --uninstall option,
#8 25.37 and these changes will be reverted.
#8 25.37 
#8 25.37 Installing Poetry (2.0.0)
#8 25.37 Installing Poetry (2.0.0): Creating environment
#8 25.37 Installing Poetry (2.0.0): Installing Poetry
#8 25.37 Installing Poetry (2.0.0): Creating script
#8 25.37 Installing Poetry (2.0.0): Done
#8 25.37 
#8 25.37 Poetry (2.0.0) is installed now. Great!
#8 25.37 
#8 25.37 To get started you need Poetry's bin directory (/root/.local/bin) in your `PATH`
#8 25.37 environment variable.
#8 25.37 
#8 25.37 Add `export PATH="/root/.local/bin:$PATH"` to your shell configuration file.
#8 25.37 
#8 25.37 Alternatively, you can call Poetry explicitly with `/root/.local/bin/poetry`.
#8 25.37 
#8 25.37 You can test that everything is set up by executing:
#8 25.37 
#8 25.37 `poetry --version`
#8 25.37 
#8 DONE 25.7s

#9 [5/8] RUN pip install pytest pytest-xdist &&     pip install pipdeptree &&     git clone https://github.com/andrewyng/translation-agent.git &&     mkdir /repo &&     git config --global --add safe.directory /repo &&     cp -r /translation-agent/. /repo && rm -rf /translation-agent/ &&     rm -rf /translation-agent &&     cd /repo && git checkout e0fc605acbb5d78cb7a58a98bc8bd8f0056df49c &&     cd /repo && poetry install &&     cd /repo && poetry run pip list &&     pip install openai==1.57.4 &&     pip install python-dotenv==1.0.1
#9 1.888 Looking in indexes: http://simple/
#9 2.079 Collecting pytest
#9 2.098   Downloading http://packages/pytest/pytest-8.3.4-py3-none-any.whl (343 kB)
#9 2.123      ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 343.1/343.1 kB 17.2 MB/s eta 0:00:00
#9 2.207 Collecting pytest-xdist
#9 2.228   Downloading http://packages/pytest-xdist/pytest_xdist-3.6.1-py3-none-any.whl (46 kB)
#9 2.240      ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 46.1/46.1 kB 4.8 MB/s eta 0:00:00
#9 2.324 Collecting exceptiongroup>=1.0.0rc8
#9 2.345   Downloading http://packages/exceptiongroup/exceptiongroup-1.2.2-py3-none-any.whl (16 kB)
#9 2.409 Collecting pluggy<2,>=1.5
#9 2.437   Downloading http://packages/pluggy/pluggy-1.5.0-py3-none-any.whl (20 kB)
#9 2.473 Collecting iniconfig
#9 2.492   Downloading http://packages/iniconfig/iniconfig-2.0.0-py3-none-any.whl (5.9 kB)
#9 2.549 Collecting tomli>=1
#9 2.567   Downloading http://packages/tomli/tomli-2.2.1-py3-none-any.whl (14 kB)
#9 2.628 Collecting packaging
#9 2.646   Downloading http://packages/packaging/packaging-24.2-py3-none-any.whl (65 kB)
#9 2.658      ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 65.5/65.5 kB 7.3 MB/s eta 0:00:00
#9 2.705 Collecting execnet>=2.1
#9 2.724   Downloading http://packages/execnet/execnet-2.1.1-py3-none-any.whl (40 kB)
#9 2.732      ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 40.6/40.6 kB 8.0 MB/s eta 0:00:00
#9 2.865 Installing collected packages: tomli, pluggy, packaging, iniconfig, execnet, exceptiongroup, pytest, pytest-xdist
#9 3.392 Successfully installed exceptiongroup-1.2.2 execnet-2.1.1 iniconfig-2.0.0 packaging-24.2 pluggy-1.5.0 pytest-8.3.4 pytest-xdist-3.6.1 tomli-2.2.1
#9 3.393 WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv
#9 3.507 
#9 3.507 [notice] A new release of pip is available: 23.0.1 -> 24.3.1
#9 3.507 [notice] To update, run: pip install --upgrade pip
#9 4.171 Looking in indexes: http://simple/
#9 4.255 Collecting pipdeptree
#9 4.273   Downloading http://packages/pipdeptree/pipdeptree-2.24.0-py3-none-any.whl (32 kB)
#9 4.413 Collecting pip>=24.2
#9 4.425   Using cached http://packages/pip/pip-24.3.1-py3-none-any.whl (1.8 MB)
#9 4.444 Requirement already satisfied: packaging>=24.1 in /usr/local/lib/python3.10/site-packages (from pipdeptree) (24.2)
#9 4.556 Installing collected packages: pip, pipdeptree
#9 4.556   Attempting uninstall: pip
#9 4.557     Found existing installation: pip 23.0.1
#9 4.724     Uninstalling pip-23.0.1:
#9 4.900       Successfully uninstalled pip-23.0.1
#9 6.212 Successfully installed pip-24.3.1 pipdeptree-2.24.0
#9 6.214 WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv
#9 6.431 Cloning into 'translation-agent'...
#9 10.84 Note: switching to 'e0fc605acbb5d78cb7a58a98bc8bd8f0056df49c'.
#9 10.84 
#9 10.84 You are in 'detached HEAD' state. You can look around, make experimental
#9 10.84 changes and commit them, and you can discard any commits you make in this
#9 10.84 state without impacting any branches by switching back to a branch.
#9 10.84 
#9 10.84 If you want to create a new branch to retain commits you create, you may
#9 10.84 do so (now or later) by using -c with the switch command. Example:
#9 10.84 
#9 10.84   git switch -c <new-branch-name>
#9 10.84 
#9 10.84 Or undo this operation with:
#9 10.84 
#9 10.84   git switch -
#9 10.84 
#9 10.84 Turn off this advice by setting config variable advice.detachedHead to false
#9 10.84 
#9 10.84 HEAD is now at e0fc605 remove redundant line (#8)
#9 11.76 Creating virtualenv translation-agent-gW_DSdP6-py3.10 in /root/.cache/pypoetry/virtualenvs
#9 12.81 Updating dependencies
#9 12.81 Resolving dependencies...
#9 91.61 Source (pytorch): Authorization error accessing https://download.pytorch.org/whl/nightly/rocm6.0/langchain-core/
#9 96.52 Source (pytorch): Authorization error accessing https://download.pytorch.org/whl/nightly/rocm6.0/langchain-core/
#9 108.1 Source (pytorch): Authorization error accessing https://download.pytorch.org/whl/nightly/rocm6.0/langchain-core/
#9 111.2 Source (pytorch): Authorization error accessing https://download.pytorch.org/whl/nightly/rocm6.0/langchain-core/
#9 118.8 Source (pytorch): Authorization error accessing https://download.pytorch.org/whl/nightly/rocm6.0/langchain-core/
#9 121.1 Source (pytorch): Authorization error accessing https://download.pytorch.org/whl/nightly/rocm6.0/langchain-core/
#9 128.7 Source (pytorch): Authorization error accessing https://download.pytorch.org/whl/nightly/rocm6.0/langchain-core/
#9 131.7 Source (pytorch): Authorization error accessing https://download.pytorch.org/whl/nightly/rocm6.0/langchain-core/
#9 134.6 Source (pytorch): Authorization error accessing https://download.pytorch.org/whl/nightly/rocm6.0/langchain-core/
#9 136.6 
#9 136.6 Package operations: 40 installs, 0 updates, 0 removals
#9 136.6 
#9 136.6   - Installing certifi (2024.12.14)
#9 136.6   - Installing charset-normalizer (3.4.1)
#9 136.6   - Installing exceptiongroup (1.2.2)
#9 136.6   - Installing h11 (0.14.0)
#9 136.6   - Installing idna (3.10)
#9 136.6   - Installing sniffio (1.3.1)
#9 136.6   - Installing typing-extensions (4.12.2)
#9 136.6   - Installing urllib3 (2.3.0)
#9 138.0   - Installing annotated-types (0.7.0)
#9 138.0   - Installing anyio (4.8.0)
#9 138.0   - Installing httpcore (1.0.7)
#9 138.0   - Installing pydantic-core (2.27.2)
#9 138.0   - Installing requests (2.32.3)
#9 138.7   - Installing httpx (0.28.1)
#9 138.7   - Installing jsonpointer (3.0.0)
#9 138.8   - Installing orjson (3.10.13)
#9 138.8   - Installing pydantic (2.10.4)
#9 138.8   - Installing requests-toolbelt (1.0.0)
#9 139.4   - Installing jsonpatch (1.33)
#9 139.4   - Installing langsmith (0.1.147)
#9 139.4   - Installing packaging (23.2)
#9 139.4   - Installing pyyaml (6.0.2)
#9 139.4   - Installing tenacity (8.5.0)
#9 140.2   - Installing asttokens (3.0.0)
#9 140.2   - Installing chardet (5.2.0)
#9 140.2   - Installing distro (1.9.0)
#9 140.2   - Installing executing (2.1.0)
#9 140.2   - Installing jiter (0.8.2)
#9 140.2   - Installing colorama (0.4.6)
#9 140.2   - Installing pygments (2.19.1)
#9 140.3   - Installing tqdm (4.67.1)
#9 140.3   - Installing regex (2024.11.6)
#9 140.3   - Installing langchain-core (0.1.53)
#9 141.3   - Installing icecream (2.1.3)
#9 141.3   - Installing joblib (1.4.2)
#9 141.3   - Installing langchain-text-splitters (0.0.1)
#9 141.3   - Installing openai (1.59.4)
#9 141.3   - Installing pysrt (1.1.2)
#9 141.4   - Installing python-dotenv (1.0.1)
#9 141.4   - Installing tiktoken (0.6.0)
#9 145.6 
#9 145.6 Writing lock file
#9 145.6 
#9 145.6 Installing the current project: translation-agent (0.1.0)
#9 149.4 Package                  Version    Editable project location
#9 149.4 ------------------------ ---------- -------------------------
#9 149.4 annotated-types          0.7.0
#9 149.4 anyio                    4.8.0
#9 149.4 asttokens                3.0.0
#9 149.4 certifi                  2024.12.14
#9 149.4 chardet                  5.2.0
#9 149.4 charset-normalizer       3.4.1
#9 149.4 colorama                 0.4.6
#9 149.4 distro                   1.9.0
#9 149.4 exceptiongroup           1.2.2
#9 149.4 executing                2.1.0
#9 149.4 h11                      0.14.0
#9 149.4 httpcore                 1.0.7
#9 149.4 httpx                    0.28.1
#9 149.4 icecream                 2.1.3
#9 149.4 idna                     3.10
#9 149.4 jiter                    0.8.2
#9 149.4 joblib                   1.4.2
#9 149.4 jsonpatch                1.33
#9 149.4 jsonpointer              3.0.0
#9 149.4 langchain-core           0.1.53
#9 149.4 langchain-text-splitters 0.0.1
#9 149.4 langsmith                0.1.147
#9 149.4 openai                   1.59.4
#9 149.4 orjson                   3.10.13
#9 149.4 packaging                23.2
#9 149.4 pip                      24.3.1
#9 149.4 pydantic                 2.10.4
#9 149.4 pydantic_core            2.27.2
#9 149.4 Pygments                 2.19.1
#9 149.4 pysrt                    1.1.2
#9 149.4 python-dotenv            1.0.1
#9 149.4 PyYAML                   6.0.2
#9 149.4 regex                    2024.11.6
#9 149.4 requests                 2.32.3
#9 149.4 requests-toolbelt        1.0.0
#9 149.4 sniffio                  1.3.1
#9 149.4 tenacity                 8.5.0
#9 149.4 tiktoken                 0.6.0
#9 149.4 tqdm                     4.67.1
#9 149.4 translation-agent        0.1.0      /repo
#9 149.4 typing_extensions        4.12.2
#9 149.4 urllib3                  2.3.0
#9 150.1 Looking in indexes: http://simple/
#9 150.3 Collecting openai==1.57.4
#9 150.3   Downloading http://packages/openai/openai-1.57.4-py3-none-any.whl (390 kB)
#9 150.5 Collecting anyio<5,>=3.5.0 (from openai==1.57.4)
#9 150.6   Downloading http://packages/anyio/anyio-4.8.0-py3-none-any.whl (96 kB)
#9 150.6 Collecting distro<2,>=1.7.0 (from openai==1.57.4)
#9 150.7   Downloading http://packages/distro/distro-1.9.0-py3-none-any.whl (20 kB)
#9 150.7 Collecting httpx<1,>=0.23.0 (from openai==1.57.4)
#9 150.7   Downloading http://packages/httpx/httpx-0.28.1-py3-none-any.whl (73 kB)
#9 150.9 Collecting jiter<1,>=0.4.0 (from openai==1.57.4)
#9 150.9   Downloading http://packages/jiter/jiter-0.8.2-cp310-cp310-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (345 kB)
#9 151.3 Collecting pydantic<3,>=1.9.0 (from openai==1.57.4)
#9 151.3   Downloading http://packages/pydantic/pydantic-2.10.4-py3-none-any.whl (431 kB)
#9 151.3 Collecting sniffio (from openai==1.57.4)
#9 151.3   Downloading http://packages/sniffio/sniffio-1.3.1-py3-none-any.whl (10 kB)
#9 151.5 Collecting tqdm>4 (from openai==1.57.4)
#9 151.5   Downloading http://packages/tqdm/tqdm-4.67.1-py3-none-any.whl (78 kB)
#9 151.5 Collecting typing-extensions<5,>=4.11 (from openai==1.57.4)
#9 151.6   Downloading http://packages/typing-extensions/typing_extensions-4.12.2-py3-none-any.whl (37 kB)
#9 151.6 Requirement already satisfied: exceptiongroup>=1.0.2 in /usr/local/lib/python3.10/site-packages (from anyio<5,>=3.5.0->openai==1.57.4) (1.2.2)
#9 151.6 Collecting idna>=2.8 (from anyio<5,>=3.5.0->openai==1.57.4)
#9 151.6   Using cached http://packages/idna/idna-3.10-py3-none-any.whl (70 kB)
#9 151.7 Collecting certifi (from httpx<1,>=0.23.0->openai==1.57.4)
#9 151.7   Using cached http://packages/certifi/certifi-2024.12.14-py3-none-any.whl (164 kB)
#9 151.7 Collecting httpcore==1.* (from httpx<1,>=0.23.0->openai==1.57.4)
#9 151.8   Downloading http://packages/httpcore/httpcore-1.0.7-py3-none-any.whl (78 kB)
#9 151.8 Collecting h11<0.15,>=0.13 (from httpcore==1.*->httpx<1,>=0.23.0->openai==1.57.4)
#9 151.8   Downloading http://packages/h11/h11-0.14.0-py3-none-any.whl (58 kB)
#9 151.9 Collecting annotated-types>=0.6.0 (from pydantic<3,>=1.9.0->openai==1.57.4)
#9 151.9   Downloading http://packages/annotated-types/annotated_types-0.7.0-py3-none-any.whl (13 kB)
#9 153.2 Collecting pydantic-core==2.27.2 (from pydantic<3,>=1.9.0->openai==1.57.4)
#9 153.2   Downloading http://packages/pydantic-core/pydantic_core-2.27.2-cp310-cp310-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (2.0 MB)
#9 153.3      ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 2.0/2.0 MB 66.3 MB/s eta 0:00:00
#9 153.4 Installing collected packages: typing-extensions, tqdm, sniffio, jiter, idna, h11, distro, certifi, annotated-types, pydantic-core, httpcore, anyio, pydantic, httpx, openai
#9 155.2 Successfully installed annotated-types-0.7.0 anyio-4.8.0 certifi-2024.12.14 distro-1.9.0 h11-0.14.0 httpcore-1.0.7 httpx-0.28.1 idna-3.10 jiter-0.8.2 openai-1.57.4 pydantic-2.10.4 pydantic-core-2.27.2 sniffio-1.3.1 tqdm-4.67.1 typing-extensions-4.12.2
#9 155.2 WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager, possibly rendering your system unusable.It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv. Use the --root-user-action option if you know what you are doing and want to suppress this warning.
#9 156.2 Looking in indexes: http://simple/
#9 156.3 Collecting python-dotenv==1.0.1
#9 156.3   Downloading http://packages/python-dotenv/python_dotenv-1.0.1-py3-none-any.whl (19 kB)
#9 156.4 Installing collected packages: python-dotenv
#9 156.4 Successfully installed python-dotenv-1.0.1
#9 156.4 WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager, possibly rendering your system unusable.It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv. Use the --root-user-action option if you know what you are doing and want to suppress this warning.
#9 DONE 156.8s

#10 [6/8] RUN pip install tiktoken==0.8.0 &&     python /code_edit.py -t "/search_patch/0.patch" &&     pip install icecream==2.1.3 &&     pip install langchain-text-splitters==0.3.3
#10 1.056 Looking in indexes: http://simple/
#10 1.150 Collecting tiktoken==0.8.0
#10 1.172   Downloading http://packages/tiktoken/tiktoken-0.8.0-cp310-cp310-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (1.2 MB)
#10 1.209      ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 1.2/1.2 MB 48.8 MB/s eta 0:00:00
#10 2.210 Collecting regex>=2022.1.18 (from tiktoken==0.8.0)
#10 2.230   Downloading http://packages/regex/regex-2024.11.6-cp310-cp310-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (781 kB)
#10 2.262      ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 781.7/781.7 kB 36.7 MB/s eta 0:00:00
#10 2.356 Collecting requests>=2.26.0 (from tiktoken==0.8.0)
#10 2.359   Using cached http://packages/requests/requests-2.32.3-py3-none-any.whl (64 kB)
#10 2.544 Collecting charset-normalizer<4,>=2 (from requests>=2.26.0->tiktoken==0.8.0)
#10 2.547   Using cached http://packages/charset-normalizer/charset_normalizer-3.4.1-cp310-cp310-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (146 kB)
#10 2.553 Requirement already satisfied: idna<4,>=2.5 in /usr/local/lib/python3.10/site-packages (from requests>=2.26.0->tiktoken==0.8.0) (3.10)
#10 2.656 Collecting urllib3<3,>=1.21.1 (from requests>=2.26.0->tiktoken==0.8.0)
#10 2.660   Using cached http://packages/urllib3/urllib3-2.3.0-py3-none-any.whl (128 kB)
#10 2.666 Requirement already satisfied: certifi>=2017.4.17 in /usr/local/lib/python3.10/site-packages (from requests>=2.26.0->tiktoken==0.8.0) (2024.12.14)
#10 2.749 Installing collected packages: urllib3, regex, charset-normalizer, requests, tiktoken
#10 3.240 Successfully installed charset-normalizer-3.4.1 regex-2024.11.6 requests-2.32.3 tiktoken-0.8.0 urllib3-2.3.0
#10 3.241 WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager, possibly rendering your system unusable.It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv. Use the --root-user-action option if you know what you are doing and want to suppress this warning.
#10 3.803 * Succeed Patch:
#10 3.803 Create and write /repo/pytest.ini!
#10 3.803 
#10 4.345 Looking in indexes: http://simple/
#10 4.377 Collecting icecream==2.1.3
#10 4.397   Downloading http://packages/icecream/icecream-2.1.3-py2.py3-none-any.whl (8.4 kB)
#10 4.443 Collecting colorama>=0.3.9 (from icecream==2.1.3)
#10 4.462   Downloading http://packages/colorama/colorama-0.4.6-py2.py3-none-any.whl (25 kB)
#10 4.525 Collecting pygments>=2.2.0 (from icecream==2.1.3)
#10 4.549   Downloading http://packages/pygments/pygments-2.19.1-py3-none-any.whl (1.2 MB)
#10 4.584      ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 1.2/1.2 MB 52.7 MB/s eta 0:00:00
#10 4.622 Collecting executing>=0.3.1 (from icecream==2.1.3)
#10 4.646   Downloading http://packages/executing/executing-2.1.0-py2.py3-none-any.whl (25 kB)
#10 4.687 Collecting asttokens>=2.0.1 (from icecream==2.1.3)
#10 4.708   Downloading http://packages/asttokens/asttokens-3.0.0-py3-none-any.whl (26 kB)
#10 4.841 Installing collected packages: pygments, executing, colorama, asttokens, icecream
#10 5.909 Successfully installed asttokens-3.0.0 colorama-0.4.6 executing-2.1.0 icecream-2.1.3 pygments-2.19.1
#10 5.909 WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager, possibly rendering your system unusable.It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv. Use the --root-user-action option if you know what you are doing and want to suppress this warning.
#10 6.701 Looking in indexes: http://simple/
#10 6.737 Collecting langchain-text-splitters==0.3.3
#10 6.759   Downloading http://packages/langchain-text-splitters/langchain_text_splitters-0.3.3-py3-none-any.whl (27 kB)
#10 6.878 Collecting langchain-core<0.4.0,>=0.3.25 (from langchain-text-splitters==0.3.3)
#10 6.904   Downloading http://packages/langchain-core/langchain_core-0.3.29-py3-none-any.whl (411 kB)
#10 7.054 Collecting PyYAML>=5.3 (from langchain-core<0.4.0,>=0.3.25->langchain-text-splitters==0.3.3)
#10 7.075   Downloading http://packages/pyyaml/PyYAML-6.0.2-cp310-cp310-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (751 kB)
#10 7.106      ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 751.2/751.2 kB 36.1 MB/s eta 0:00:00
#10 7.150 Collecting jsonpatch<2.0,>=1.33 (from langchain-core<0.4.0,>=0.3.25->langchain-text-splitters==0.3.3)
#10 7.169   Downloading http://packages/jsonpatch/jsonpatch-1.33-py2.py3-none-any.whl (12 kB)
#10 7.433 Collecting langsmith<0.3,>=0.1.125 (from langchain-core<0.4.0,>=0.3.25->langchain-text-splitters==0.3.3)
#10 7.453   Downloading http://packages/langsmith/langsmith-0.2.10-py3-none-any.whl (326 kB)
#10 7.483 Requirement already satisfied: packaging<25,>=23.2 in /usr/local/lib/python3.10/site-packages (from langchain-core<0.4.0,>=0.3.25->langchain-text-splitters==0.3.3) (24.2)
#10 7.484 Requirement already satisfied: pydantic<3.0.0,>=2.5.2 in /usr/local/lib/python3.10/site-packages (from langchain-core<0.4.0,>=0.3.25->langchain-text-splitters==0.3.3) (2.10.4)
#10 7.525 Collecting tenacity!=8.4.0,<10.0.0,>=8.1.0 (from langchain-core<0.4.0,>=0.3.25->langchain-text-splitters==0.3.3)
#10 7.543   Downloading http://packages/tenacity/tenacity-9.0.0-py3-none-any.whl (28 kB)
#10 7.555 Requirement already satisfied: typing-extensions>=4.7 in /usr/local/lib/python3.10/site-packages (from langchain-core<0.4.0,>=0.3.25->langchain-text-splitters==0.3.3) (4.12.2)
#10 7.582 Collecting jsonpointer>=1.9 (from jsonpatch<2.0,>=1.33->langchain-core<0.4.0,>=0.3.25->langchain-text-splitters==0.3.3)
#10 7.601   Downloading http://packages/jsonpointer/jsonpointer-3.0.0-py2.py3-none-any.whl (7.6 kB)
#10 7.614 Requirement already satisfied: httpx<1,>=0.23.0 in /usr/local/lib/python3.10/site-packages (from langsmith<0.3,>=0.1.125->langchain-core<0.4.0,>=0.3.25->langchain-text-splitters==0.3.3) (0.28.1)
#10 8.151 Collecting orjson<4.0.0,>=3.9.14 (from langsmith<0.3,>=0.1.125->langchain-core<0.4.0,>=0.3.25->langchain-text-splitters==0.3.3)
#10 8.172   Downloading http://packages/orjson/orjson-3.10.13-cp310-cp310-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (131 kB)
#10 8.195 Requirement already satisfied: requests<3,>=2 in /usr/local/lib/python3.10/site-packages (from langsmith<0.3,>=0.1.125->langchain-core<0.4.0,>=0.3.25->langchain-text-splitters==0.3.3) (2.32.3)
#10 8.223 Collecting requests-toolbelt<2.0.0,>=1.0.0 (from langsmith<0.3,>=0.1.125->langchain-core<0.4.0,>=0.3.25->langchain-text-splitters==0.3.3)
#10 8.226   Using cached http://packages/requests-toolbelt/requests_toolbelt-1.0.0-py2.py3-none-any.whl (54 kB)
#10 8.235 Requirement already satisfied: annotated-types>=0.6.0 in /usr/local/lib/python3.10/site-packages (from pydantic<3.0.0,>=2.5.2->langchain-core<0.4.0,>=0.3.25->langchain-text-splitters==0.3.3) (0.7.0)
#10 8.236 Requirement already satisfied: pydantic-core==2.27.2 in /usr/local/lib/python3.10/site-packages (from pydantic<3.0.0,>=2.5.2->langchain-core<0.4.0,>=0.3.25->langchain-text-splitters==0.3.3) (2.27.2)
#10 8.248 Requirement already satisfied: anyio in /usr/local/lib/python3.10/site-packages (from httpx<1,>=0.23.0->langsmith<0.3,>=0.1.125->langchain-core<0.4.0,>=0.3.25->langchain-text-splitters==0.3.3) (4.8.0)
#10 8.249 Requirement already satisfied: certifi in /usr/local/lib/python3.10/site-packages (from httpx<1,>=0.23.0->langsmith<0.3,>=0.1.125->langchain-core<0.4.0,>=0.3.25->langchain-text-splitters==0.3.3) (2024.12.14)
#10 8.250 Requirement already satisfied: httpcore==1.* in /usr/local/lib/python3.10/site-packages (from httpx<1,>=0.23.0->langsmith<0.3,>=0.1.125->langchain-core<0.4.0,>=0.3.25->langchain-text-splitters==0.3.3) (1.0.7)
#10 8.251 Requirement already satisfied: idna in /usr/local/lib/python3.10/site-packages (from httpx<1,>=0.23.0->langsmith<0.3,>=0.1.125->langchain-core<0.4.0,>=0.3.25->langchain-text-splitters==0.3.3) (3.10)
#10 8.255 Requirement already satisfied: h11<0.15,>=0.13 in /usr/local/lib/python3.10/site-packages (from httpcore==1.*->httpx<1,>=0.23.0->langsmith<0.3,>=0.1.125->langchain-core<0.4.0,>=0.3.25->langchain-text-splitters==0.3.3) (0.14.0)
#10 8.264 Requirement already satisfied: charset-normalizer<4,>=2 in /usr/local/lib/python3.10/site-packages (from requests<3,>=2->langsmith<0.3,>=0.1.125->langchain-core<0.4.0,>=0.3.25->langchain-text-splitters==0.3.3) (3.4.1)
#10 8.266 Requirement already satisfied: urllib3<3,>=1.21.1 in /usr/local/lib/python3.10/site-packages (from requests<3,>=2->langsmith<0.3,>=0.1.125->langchain-core<0.4.0,>=0.3.25->langchain-text-splitters==0.3.3) (2.3.0)
#10 8.286 Requirement already satisfied: exceptiongroup>=1.0.2 in /usr/local/lib/python3.10/site-packages (from anyio->httpx<1,>=0.23.0->langsmith<0.3,>=0.1.125->langchain-core<0.4.0,>=0.3.25->langchain-text-splitters==0.3.3) (1.2.2)
#10 8.287 Requirement already satisfied: sniffio>=1.1 in /usr/local/lib/python3.10/site-packages (from anyio->httpx<1,>=0.23.0->langsmith<0.3,>=0.1.125->langchain-core<0.4.0,>=0.3.25->langchain-text-splitters==0.3.3) (1.3.1)
#10 8.358 Installing collected packages: tenacity, PyYAML, orjson, jsonpointer, requests-toolbelt, jsonpatch, langsmith, langchain-core, langchain-text-splitters
#10 9.270 Successfully installed PyYAML-6.0.2 jsonpatch-1.33 jsonpointer-3.0.0 langchain-core-0.3.29 langchain-text-splitters-0.3.3 langsmith-0.2.10 orjson-3.10.13 requests-toolbelt-1.0.0 tenacity-9.0.0
#10 9.272 WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager, possibly rendering your system unusable.It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv. Use the --root-user-action option if you know what you are doing and want to suppress this warning.
#10 DONE 9.8s

#11 [7/8] RUN cd /repo && pytest --collect-only -q
#11 2.806 tests/test_agent.py::test_get_completion_json_mode_api_call
#11 2.806 tests/test_agent.py::test_get_completion_non_json_mode_api_call
#11 2.806 tests/test_agent.py::test_one_chunk_initial_translation
#11 2.806 tests/test_agent.py::test_one_chunk_reflect_on_translation
#11 2.806 tests/test_agent.py::test_one_chunk_improve_translation
#11 2.806 tests/test_agent.py::test_one_chunk_translate_text
#11 2.806 tests/test_agent.py::test_num_tokens_in_string
#11 2.806 
#11 2.806 7 tests collected in 1.56s
#11 DONE 3.3s

#12 exporting to image
#12 exporting layers
#12 exporting layers 1.7s done
#12 writing image sha256:0cda4ecfc24bc1871541d6da952314bf1daf35dea5a72849be94249037ce4566 done
#12 naming to docker.io/library/tmp:tmp done
#12 DONE 1.7s
